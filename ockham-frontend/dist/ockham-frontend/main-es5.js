function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"], {
  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html":
  /*!**************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html ***!
    \**************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppAppComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<router-outlet></router-outlet>\n<div class=\"notifier\">\n    <notifier-container></notifier-container>\n</div>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/layout/footer/footer.component.html":
  /*!*******************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/layout/footer/footer.component.html ***!
    \*******************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppLayoutFooterFooterComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<footer id=\"footer\">\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"footer-block col-sm-4\">\n        <div class=\"region region-footer-first\">\n          <div id=\"block-block-4\" class=\"block block-block\">\n            <h2>CONTACT</h2>\n            <div class=\"content\">\n              <div class=\"field field-name-body field-type-text-with-summary field-label-hidden\">\n                <div class=\"field-items\">\n                  <div class=\"field-item even\" property=\"content:encoded\">\n                    <p>Honoursvereniging Ockham, University of Twente</p>\n                    <p>De Bastille (postvak 47)<br>Postbus 217<br>7500 AE Enschede</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"footer-block col-sm-4\">\n        <div class=\"region region-footer-second\">\n          <div id=\"block-block-2\" class=\"block block-block\">\n            <div class=\"content\">\n              <p>Visiting Adress:<br><br>Technohal TL1334C<br>Hallenweg 5<br>7522NH Enschede</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"footer-block col-sm-4\">\n        <div class=\"region region-footer-third\">\n          <div id=\"block-block-3\" class=\"block block-block\">\n            <h2>FOLLOW US</h2>\n            <div class=\"content\">\n              <p><a href=\"https://www.facebook.com/honoursverenigingockham\"><img src=\"https://hv-ockham.nl/images/facebook.svg\" style=\"width:40px;\"></a>&nbsp; <a href=\"https://www.linkedin.com/groups/8658308/\"><img src=\"https://hv-ockham.nl/images/linkedin.svg\" style=\"width:40px;\"></a></p>\n              <p><a href=\"http://hv-ockham.nl/privacy\">Privacy Statement</a></p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</footer>\n<footer id=\"colophon\" class=\"site-footer\" role=\"contentinfo\">\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"fcred col-sm-12\">\n        Copyright © 2020 <a href=\"/\"></a>. GROUP C.\n      </div>\n    </div>\n  </div>\n</footer>\n\n";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/layout/page-layout/page-layout.component.html":
  /*!*****************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/layout/page-layout/page-layout.component.html ***!
    \*****************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppLayoutPageLayoutPageLayoutComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div fxLayout=\"column\" class=\"layout\">\n\t<app-header></app-header>\n\t<div fxFlex>\n\t\t<router-outlet (activate)=\"onActivate()\"></router-outlet>\n\t</div>\n\t<app-footer></app-footer>\n\n</div>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-list/activity-list.component.html":
  /*!*************************************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-list/activity-list.component.html ***!
    \*************************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsActivityHelpersActivityListActivityListComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div *ngIf=\"activities.length > 0\" fxLayout=\"column\" fxLayoutGap=\"30px\">\n  <div *ngFor=\"let activity of activities\">\n    <h5><a routerLink=\"/activities/{{activity.id}}\">{{activity.title}}</a></h5>\n    <app-activity-meta [activity]=\"activity\"></app-activity-meta>\n    <p>{{((activity.description | htmlToText).length>200)? ((activity.description | htmlToText) | slice:0:200)+'..':(activity.description | htmlToText)}} <a\n        routerLink=\"/activities/{{activity.id}}\" *ngIf=\"activity.description.length > 280\">Read more</a>\n    </p>\n  </div>\n</div>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.html":
  /*!*************************************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.html ***!
    \*************************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsActivityHelpersActivityMetaActivityMetaComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div fxLayout=\"column\">\n    <small>{{ activity.start_date }} - {{ activity.end_date }}</small>\n    <small>Location: {{ activity.location }}</small>\n    <small>Price: {{ activity.price_cents | centsToEur }}€</small>\n    <small>registration_opens: {{ activity.registration_opens }}</small>\n    <small>registration_closes: {{ activity.registration_closes }}</small>\n\n</div>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.html":
  /*!***************************************************************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.html ***!
    \***************************************************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsActivityHelpersActivityRegistrationFormActivityRegistrationFormComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<h6>Registration Form:</h6>\n<form [formGroup]=\"regForm\">\n\n  <div *ngFor=\"let option of options\">\n    <!-- <app-option-input-type [submitted]=\"submitted\" [optionForm]=\"rf.optionForm\" [option]=\"option\"></app-option-input-type> -->\n    <app-column-input [formControlName]=\"option.id ? option.id : option.option_id\" [label]=\"option.question\" [type]=\"option.type.name\">\n    </app-column-input>\n  </div>\n\n  <br>\n  <label for=\"notes\">Notes:</label>\n  <input [formControl]=\"rf.notes\" id=\"notes\" type=\"text\" class=\"form-control\">\n\n</form>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.html":
  /*!*********************************************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.html ***!
    \*********************************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsActivityHelpersOptionInputTypeOptionInputTypeComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<form *ngIf=\"option\" [formGroup]=\"optionForm\">\n  <div [ngSwitch]=\"option.type\">\n\n    <div *ngSwitchCase=\"optionType.TEXT\">\n      <label for=\"text\">{{ option.question }}</label>\n      <input [formControlName]=\"option.id\" type=\"text\" class=\"form-control\"\n        [ngClass]=\"{ 'is-invalid': submitted && optionCtrl.errors }\">\n      <div *ngIf=\"optionCtrl.errors && submitted\" class=\"invalid-feedback\">\n        Input cannot be empty!\n      </div>\n    </div>\n\n    <div *ngSwitchCase=\"optionType.NUMBER\">\n      <label>{{ option.question }}</label>\n      <input [formControlName]=\"option.id\" type=\"number\" class=\"form-control\"\n        [ngClass]=\"{ 'is-invalid': submitted && optionCtrl.errors }\">\n      <div *ngIf=\"optionCtrl.errors && submitted\" class=\"invalid-feedback\">\n        Input cannot be empty!\n      </div>\n    </div>\n\n    <div *ngSwitchCase=\"optionType.YES_NO\">\n      <label>\n        {{ option.question }}\n      </label>\n      <div class=\"form-check\">\n        <input [formControlName]=\"option.id\" class=\"form-check-input\" type=\"radio\" value=\"Yes\">\n        <label class=\"form-check-label\" for=\"yes\">\n          Yes\n        </label>\n      </div>\n      <div [ngClass]=\"{ 'is-invalid': submitted && optionCtrl.errors }\" class=\"form-check\">\n        <input [formControlName]=\"option.id\" class=\"form-check-input\" type=\"radio\" value=\"No\">\n        <label class=\"form-check-label\" for=\"no\">\n          No\n        </label>\n      </div>\n      <div *ngIf=\"optionCtrl.errors && submitted\" class=\"invalid-feedback\">\n        One option needs to be chosen!\n      </div>\n    </div>\n\n    <div *ngSwitchCase=\"optionType.DATETIME\">\n      <label for=\"number\">{{ option.question }}</label>\n      <input [formControlName]=\"option.id\" [ngClass]=\"{ 'is-invalid': submitted && optionCtrl.errors }\" class=\"ngb-dp-body\"\n        id=\"end_date\" class=\"form-control\" [owlDateTime]=\"dt2\" [owlDateTimeTrigger]=\"dt2\" placeholder=\"Date Time\">\n      <owl-date-time #dt2></owl-date-time>\n      <div *ngIf=\"optionCtrl.errors && submitted\" class=\"invalid-feedback\">\n        Input cannot be empty!\n      </div>\n    </div>\n\n  </div>\n</form>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/register-modal/register-modal.component.html":
  /*!***************************************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/register-modal/register-modal.component.html ***!
    \***************************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsActivityHelpersRegisterModalRegisterModalComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div class=\"modal-header\">\n  <h4 class=\"modal-title\" id=\"modal-basic-title\">Activity registration</h4>\n  <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"dismiss()\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button>\n</div>\n<div class=\"modal-body\">\n  <ng-container *ngIf=\"showSearchbar\">\n    <app-member-search (memberSelected)=\"onSelectMember($event)\"></app-member-search>\n    <hr>\n  </ng-container>\n  <div class=\"questions\" *ngIf=\"selectedMember\">\n   <app-activity-registration-form [options]=\"activityOptions\" (formReady)=\"saveForm($event)\" [submitted]=\"submitted\"></app-activity-registration-form>\n  </div>\n</div>\n<div class=\"modal-footer\">\n  <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"save()\">\n     Save\n  </button>\n</div>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/buttons/arrow-back/arrow-back.component.html":
  /*!**********************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/buttons/arrow-back/arrow-back.component.html ***!
    \**********************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsButtonsArrowBackArrowBackComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div class=\"row\">\n  <div class=\"col-12\">\n    <span class=\"text-secondary pointer\">\n      <i class=\"material-icons text-icon\">\n        arrow_back\n      </i>\n      Back\n    </span>\n  </div>\n</div>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/delete-modal/delete-modal.component.html":
  /*!******************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/delete-modal/delete-modal.component.html ***!
    \******************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsDeleteModalDeleteModalComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div class=\"modal-header\">\n  <h4 class=\"modal-title\" id=\"modal-basic-title\">Dialog</h4>\n  <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"dismiss()\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button>\n</div>\n<div class=\"modal-body\">\n  <form>\n    Are you sure you want to\n    <ng-container [ngSwitch]=\"action\">\n      <span *ngSwitchCase=\"_action.DELETE\"> delete </span>\n      <span *ngSwitchCase=\"_action.DE_REGISTER\"> de-register from</span>\n    </ng-container>\n   {{ objRef }}?\n  </form>\n</div>\n<div class=\"modal-footer\">\n  <button type=\"button\" class=\"btn btn-danger\" (click)=\"_delete()\">Yes</button>\n</div>\n";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/flexible-column-form/column-input/column-input.component.html":
  /*!***************************************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/flexible-column-form/column-input/column-input.component.html ***!
    \***************************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsFlexibleColumnFormColumnInputColumnInputComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div class=\"form-check\" *ngIf=\"type === 'boolean'; else otherTypes\">\n  <input [id]=\"name\" class=\"form-check-input\" type=\"checkbox\" [(ngModel)]=\"value\" (ngModelChange)=\"updateChanges()\">\n  <label class=\"form-check-label\" [for]=\"name\">\n      {{ label }}\n  </label>\n</div>\n\n<ng-template #otherTypes>\n  <label [for]=\"name\">{{ label }}</label>\n  <ng-container [ngSwitch]=\"type\">\n    <input *ngSwitchCase=\"'string'\" [id]=\"name\" class=\"form-control\" type=\"text\" [(ngModel)]=\"value\" (ngModelChange)=\"updateChanges()\">\n    <input *ngSwitchCase=\"'integer'\" [id]=\"name\" class=\"form-control\" type=\"number\" step=\"1\" onkeypress=\"return event.charCode >= 48 && event.charCode <= 57\" [(ngModel)]=\"value\" (ngModelChange)=\"updateChanges()\">\n    <input *ngSwitchCase=\"'double'\" [id]=\"name\" class=\"form-control\" type=\"number\" step=\"0.01\" [(ngModel)]=\"value\" (ngModelChange)=\"updateChanges()\">\n    <div *ngSwitchCase=\"'date'\" class=\"input-group\">\n      <input [id]=\"name\" class=\"form-control date-picker-input\" matInput [matDatepicker]=\"picker\" [(ngModel)]=\"value\" (ngModelChange)=\"updateChanges()\">\n      <div class=\"input-group-prepend\">\n        <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n        <mat-datepicker #picker></mat-datepicker>\n      </div>\n    </div>\n  </ng-container>    \n</ng-template>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/flexible-column-form/flexible-column-form.component.html":
  /*!**********************************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/flexible-column-form/flexible-column-form.component.html ***!
    \**********************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsFlexibleColumnFormFlexibleColumnFormComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div class=\"row\" >\n  <div class=\"col-md-6 col-sm-12\" *ngFor=\"let column of columns; index as i\">\n    <div class=\"form-group\">\n      <app-column-input [label]=\"column.name\" [type]=\"column.type.name\" [(ngModel)]=\"values[i].value\" (ngModelChange)=\"updateChanges()\"></app-column-input>\n    </div>\n  </div>\n</div>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/header/header.component.html":
  /*!******************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/header/header.component.html ***!
    \******************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsHeaderHeaderComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <div class=\"container\" fxLayout=\"row\">\n    <a fxFlex=\"30\" href=\"#\">\n      <img class=\"logo\" src=\"assets/img/Logo/Logo-HV-Ockham.png\" alt=\"Ockham\">\n    </a>\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse flex-grow-0\" id=\"navbarSupportedContent\">\n      <ul class=\"navbar-nav mr-auto\">\n        <ng-container *ngFor=\"let title of headerTitles\">\n          <li *ngIf=\"title.subTitles.length == 0; else dropdown\" class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"{{title.route}}\">{{title.title}} <span class=\"sr-only\">(current)</span></a>\n          </li>\n          <ng-template #dropdown>\n            <li class=\"nav-item dropdown\">\n              <a class=\"nav-link dropdown-toggle\" routerLink=\"{{title.route}}\" role=\"button\" data-toggle=\"dropdown\"\n                 aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{title.title}}\n              </a>\n              <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                <a *ngFor=\"let subtitle of title.subTitles\" class=\"dropdown-item\" routerLink=\"{{title.route}}{{subtitle.route}}\">{{subtitle.name}}</a>\n              </div>\n            </li>\n          </ng-template>\n        </ng-container>\n        <li class=\"nav-item\" *showIfAuthed=\"false\">\n          <a class=\"nav-link\" routerLink=\"/auth/login\">Login</a>\n        </li>\n        <ng-container *showIfAuthed=\"true\">\n          <li class=\"nav-item\" *showIfRole=\"'board'\">\n            <a class=\"nav-link\" routerLink=\"/admin\">Admin</a>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle font-weight-bold\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n              <span>{{ user.first_name }}&nbsp;</span>\n              <span *ngIf=\"user.insertion\">{{ user.insertion }}&nbsp;</span>\n              <span>{{ user.last_name }}</span>\n            </a>\n            <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n              <a class=\"dropdown-item\" routerLink=\"/account\">Account</a>\n              <a class=\"dropdown-item\" routerLink=\"/auth/login\" (click)=\"logout()\">Logout</a>\n            </div>\n          </li>\n        </ng-container>\n      </ul>\n    </div>\n  </div>\n</nav>\n";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/html-editor/html-editor.component.html":
  /*!****************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/html-editor/html-editor.component.html ***!
    \****************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsHtmlEditorHtmlEditorComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<ckeditor [editor]=\"editor\" [config]=\"config\" [(ngModel)]=\"value\" (ngModelChange)=\"updateChanges()\"s>\n</ckeditor>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/member-search/member-search.component.html":
  /*!********************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/member-search/member-search.component.html ***!
    \********************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsMemberSearchMemberSearchComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div class=\"search\">\n  <label for=\"search\">Search member</label>\n  <input id=\"search\" type=\"text\" class=\"form-control\" [formControl]=\"searchCtrl\" [matAutocomplete]=\"auto\">\n  <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"onMemberSelect($event)\">\n    <mat-option *ngFor=\"let member of filteredMembers\" [value]=\"member\">\n      {{member.first_name}} {{member.last_name}} | <small>{{member.email}}</small>\n    </mat-option>\n  </mat-autocomplete>\n</div>";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/news-list/news-list.component.html":
  /*!************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/news-list/news-list.component.html ***!
    \************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsNewsListNewsListComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<div fxLayout=\"column\" fxLayoutGap=\"30px\">\n  <div *ngFor=\"let article of newsList\">\n    <h5 class=\"article-title\">{{article.title}}</h5>\n    <p><small>{{article.created_at}}</small></p>\n    <p>{{((article.content | htmlToText).length>280)? ((article.content | htmlToText) | slice:0:280)+'..':(article.content | htmlToText)}}\n      <a [routerLink]=\"'/news/' + article.id\">Read more</a>\n    </p>\n  </div>\n</div>\n";
    /***/
  },

  /***/
  "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/pagination-table/pagination-table.component.html":
  /*!**************************************************************************************************************************!*\
    !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/pagination-table/pagination-table.component.html ***!
    \**************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function node_modulesRawLoaderDistCjsJsSrcAppSharedComponentsPaginationTablePaginationTableComponentHtml(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "<ng-container *ngIf=\"data && data.length > 0; else noContent\">\n  <div class=\"table-responsive\">\n    <table class=\"table table-striped table-dark table-bordered w-100\">\n      <thead>\n        <tr>\n          <th *ngFor=\"let header of headers\">\n            {{ header }}\n          </th>\n          <th *ngIf=\"showActionColumn\">\n            Action\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          *ngFor=\"let row of data | slice: (paginationPage-1) * paginationSize : (paginationPage-1) * paginationSize + paginationSize\">\n          <td *ngFor=\"let key of keys\">\n            <!-- <a *ngIf=\"key=='title'; else custom\" routerLink=\"{{get(row, 'id')}}\">{{ get(row,key) }}</a>\n            <ng-template #custom>\n              {{ get(row, key) }}\n            </ng-template> -->\n            <ng-container *ngIf=\"hasColumnDef(key); else value\">\n              {{ getColumnDef(key).format(get(row, key)) }}\n            </ng-container>\n            <ng-template #value>\n              {{ get(row, key) }}\n            </ng-template>\n          </td>\n          <td *ngIf=\"showActionColumn\">\n            <i class=\"material-icons pointer text-warning\" (click)=\"onEdit(row)\">\n              edit\n            </i>\n            <i class=\"material-icons pointer text-danger\" (click)=\"onDelete(row)\">\n              delete\n            </i>\n            <ng-container *ngIf=\"showArchiveButton\">\n              <i class=\"material-icons pointer text-archive\" *ngIf=\"!row.archived_at; else notArchived\" (click)=\"onArchive(row)\">\n                archive\n              </i>\n              <ng-template #notArchived>\n                <i class=\"material-icons text-primary\" style=\"cursor: not-allowed\">\n                  archive\n                </i>\n              </ng-template>\n            </ng-container>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <ngb-pagination class=\"justify-content-center d-flex\" [(page)]=\"paginationPage\" [pageSize]=\"paginationSize\"\n    [collectionSize]=\"data.length\" [maxSize]=\"7\" [rotate]=\"true\"></ngb-pagination>\n</ng-container>\n<ng-template #noContent>\n  <div class=\"alert alert-warning\">\n    No data\n  </div>\n</ng-template>";
    /***/
  },

  /***/
  "./node_modules/tslib/tslib.es6.js":
  /*!*****************************************!*\
    !*** ./node_modules/tslib/tslib.es6.js ***!
    \*****************************************/

  /*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */

  /***/
  function node_modulesTslibTslibEs6Js(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__extends", function () {
      return __extends;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__assign", function () {
      return _assign;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__rest", function () {
      return __rest;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__decorate", function () {
      return __decorate;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__param", function () {
      return __param;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__metadata", function () {
      return __metadata;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__awaiter", function () {
      return __awaiter;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__generator", function () {
      return __generator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__exportStar", function () {
      return __exportStar;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__values", function () {
      return __values;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__read", function () {
      return __read;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__spread", function () {
      return __spread;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__spreadArrays", function () {
      return __spreadArrays;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__await", function () {
      return __await;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function () {
      return __asyncGenerator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function () {
      return __asyncDelegator;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__asyncValues", function () {
      return __asyncValues;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function () {
      return __makeTemplateObject;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__importStar", function () {
      return __importStar;
    });
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "__importDefault", function () {
      return __importDefault;
    });
    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0
    
    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.
    
    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */

    /* global Reflect, Promise */


    var _extendStatics = function extendStatics(d, b) {
      _extendStatics = Object.setPrototypeOf || {
        __proto__: []
      } instanceof Array && function (d, b) {
        d.__proto__ = b;
      } || function (d, b) {
        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
      };

      return _extendStatics(d, b);
    };

    function __extends(d, b) {
      _extendStatics(d, b);

      function __() {
        this.constructor = d;
      }

      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    var _assign = function __assign() {
      _assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];

          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }

        return t;
      };

      return _assign.apply(this, arguments);
    };

    function __rest(s, e) {
      var t = {};

      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];

      if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
      }
      return t;
    }

    function __decorate(decorators, target, key, desc) {
      var c = arguments.length,
          r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
          d;
      if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    }

    function __param(paramIndex, decorator) {
      return function (target, key) {
        decorator(target, key, paramIndex);
      };
    }

    function __metadata(metadataKey, metadataValue) {
      if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
    }

    function __awaiter(thisArg, _arguments, P, generator) {
      return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }

        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }

        function step(result) {
          result.done ? resolve(result.value) : new P(function (resolve) {
            resolve(result.value);
          }).then(fulfilled, rejected);
        }

        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    }

    function __generator(thisArg, body) {
      var _ = {
        label: 0,
        sent: function sent() {
          if (t[0] & 1) throw t[1];
          return t[1];
        },
        trys: [],
        ops: []
      },
          f,
          y,
          t,
          g;
      return g = {
        next: verb(0),
        "throw": verb(1),
        "return": verb(2)
      }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {
        return this;
      }), g;

      function verb(n) {
        return function (v) {
          return step([n, v]);
        };
      }

      function step(op) {
        if (f) throw new TypeError("Generator is already executing.");

        while (_) try {
          if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
          if (y = 0, t) op = [op[0] & 2, t.value];

          switch (op[0]) {
            case 0:
            case 1:
              t = op;
              break;

            case 4:
              _.label++;
              return {
                value: op[1],
                done: false
              };

            case 5:
              _.label++;
              y = op[1];
              op = [0];
              continue;

            case 7:
              op = _.ops.pop();

              _.trys.pop();

              continue;

            default:
              if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                _ = 0;
                continue;
              }

              if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
                _.label = op[1];
                break;
              }

              if (op[0] === 6 && _.label < t[1]) {
                _.label = t[1];
                t = op;
                break;
              }

              if (t && _.label < t[2]) {
                _.label = t[2];

                _.ops.push(op);

                break;
              }

              if (t[2]) _.ops.pop();

              _.trys.pop();

              continue;
          }

          op = body.call(thisArg, _);
        } catch (e) {
          op = [6, e];
          y = 0;
        } finally {
          f = t = 0;
        }

        if (op[0] & 5) throw op[1];
        return {
          value: op[0] ? op[1] : void 0,
          done: true
        };
      }
    }

    function __exportStar(m, exports) {
      for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
    }

    function __values(o) {
      var m = typeof Symbol === "function" && o[Symbol.iterator],
          i = 0;
      if (m) return m.call(o);
      return {
        next: function next() {
          if (o && i >= o.length) o = void 0;
          return {
            value: o && o[i++],
            done: !o
          };
        }
      };
    }

    function __read(o, n) {
      var m = typeof Symbol === "function" && o[Symbol.iterator];
      if (!m) return o;
      var i = m.call(o),
          r,
          ar = [],
          e;

      try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
      } catch (error) {
        e = {
          error: error
        };
      } finally {
        try {
          if (r && !r.done && (m = i["return"])) m.call(i);
        } finally {
          if (e) throw e.error;
        }
      }

      return ar;
    }

    function __spread() {
      for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));

      return ar;
    }

    function __spreadArrays() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;

      for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];

      return r;
    }

    ;

    function __await(v) {
      return this instanceof __await ? (this.v = v, this) : new __await(v);
    }

    function __asyncGenerator(thisArg, _arguments, generator) {
      if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
      var g = generator.apply(thisArg, _arguments || []),
          i,
          q = [];
      return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () {
        return this;
      }, i;

      function verb(n) {
        if (g[n]) i[n] = function (v) {
          return new Promise(function (a, b) {
            q.push([n, v, a, b]) > 1 || resume(n, v);
          });
        };
      }

      function resume(n, v) {
        try {
          step(g[n](v));
        } catch (e) {
          settle(q[0][3], e);
        }
      }

      function step(r) {
        r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);
      }

      function fulfill(value) {
        resume("next", value);
      }

      function reject(value) {
        resume("throw", value);
      }

      function settle(f, v) {
        if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);
      }
    }

    function __asyncDelegator(o) {
      var i, p;
      return i = {}, verb("next"), verb("throw", function (e) {
        throw e;
      }), verb("return"), i[Symbol.iterator] = function () {
        return this;
      }, i;

      function verb(n, f) {
        i[n] = o[n] ? function (v) {
          return (p = !p) ? {
            value: __await(o[n](v)),
            done: n === "return"
          } : f ? f(v) : v;
        } : f;
      }
    }

    function __asyncValues(o) {
      if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
      var m = o[Symbol.asyncIterator],
          i;
      return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () {
        return this;
      }, i);

      function verb(n) {
        i[n] = o[n] && function (v) {
          return new Promise(function (resolve, reject) {
            v = o[n](v), settle(resolve, reject, v.done, v.value);
          });
        };
      }

      function settle(resolve, reject, d, v) {
        Promise.resolve(v).then(function (v) {
          resolve({
            value: v,
            done: d
          });
        }, reject);
      }
    }

    function __makeTemplateObject(cooked, raw) {
      if (Object.defineProperty) {
        Object.defineProperty(cooked, "raw", {
          value: raw
        });
      } else {
        cooked.raw = raw;
      }

      return cooked;
    }

    ;

    function __importStar(mod) {
      if (mod && mod.__esModule) return mod;
      var result = {};
      if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
      result.default = mod;
      return result;
    }

    function __importDefault(mod) {
      return mod && mod.__esModule ? mod : {
        default: mod
      };
    }
    /***/

  },

  /***/
  "./src/$$_lazy_route_resource lazy recursive":
  /*!**********************************************************!*\
    !*** ./src/$$_lazy_route_resource lazy namespace object ***!
    \**********************************************************/

  /*! no static exports found */

  /***/
  function src$$_lazy_route_resourceLazyRecursive(module, exports) {
    function webpackEmptyAsyncContext(req) {
      // Here Promise.resolve().then() is used instead of new Promise() to prevent
      // uncaught exception popping up in devtools
      return Promise.resolve().then(function () {
        var e = new Error("Cannot find module '" + req + "'");
        e.code = 'MODULE_NOT_FOUND';
        throw e;
      });
    }

    webpackEmptyAsyncContext.keys = function () {
      return [];
    };

    webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
    module.exports = webpackEmptyAsyncContext;
    webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
    /***/
  },

  /***/
  "./src/app/app-routing.module.ts":
  /*!***************************************!*\
    !*** ./src/app/app-routing.module.ts ***!
    \***************************************/

  /*! exports provided: AppRoutingModule */

  /***/
  function srcAppAppRoutingModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function () {
      return AppRoutingModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _layout_page_layout_page_layout_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./layout/page-layout/page-layout.component */
    "./src/app/layout/page-layout/page-layout.component.ts");
    /* harmony import */


    var _core_guards_auth_guard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ./core/guards/auth.guard */
    "./src/app/core/guards/auth.guard.ts");
    /* harmony import */


    var _core_guards_role_guard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! ./core/guards/role.guard */
    "./src/app/core/guards/role.guard.ts");

    const routes = [{
      path: '',
      component: _layout_page_layout_page_layout_component__WEBPACK_IMPORTED_MODULE_3__["PageLayoutComponent"],
      children: [{
        path: '',
        loadChildren: () => Promise.all(
        /*! import() | modules-home-home-module */
        [__webpack_require__.e("common"), __webpack_require__.e("modules-home-home-module")]).then(__webpack_require__.bind(null,
        /*! ./modules/home/home.module */
        "./src/app/modules/home/home.module.ts")).then(m => m.HomeModule)
      }, {
        path: 'activities',
        canActivate: [],
        loadChildren: () => Promise.all(
        /*! import() | modules-activities-activities-module */
        [__webpack_require__.e("default~members-members-module~modules-activities-activities-module"), __webpack_require__.e("modules-activities-activities-module")]).then(__webpack_require__.bind(null,
        /*! ./modules/activities/activities.module */
        "./src/app/modules/activities/activities.module.ts")).then(m => m.ActivitiesModule)
      }, {
        path: 'news',
        loadChildren: () => Promise.all(
        /*! import() | modules-news-news-module */
        [__webpack_require__.e("common"), __webpack_require__.e("modules-news-news-module")]).then(__webpack_require__.bind(null,
        /*! ./modules/news/news.module */
        "./src/app/modules/news/news.module.ts")).then(m => m.NewsModule)
      }, {
        path: 'auth',
        loadChildren: () => Promise.all(
        /*! import() | modules-auth-auth-module */
        [__webpack_require__.e("common"), __webpack_require__.e("modules-auth-auth-module")]).then(__webpack_require__.bind(null,
        /*! ./modules/auth/auth.module */
        "./src/app/modules/auth/auth.module.ts")).then(m => m.AuthModule)
      }, {
        path: 'association',
        loadChildren: () => __webpack_require__.e(
        /*! import() | modules-association-association-module */
        "modules-association-association-module").then(__webpack_require__.bind(null,
        /*! ./modules/association/association.module */
        "./src/app/modules/association/association.module.ts")).then(m => m.AssociationModule)
      }, {
        path: 'companies',
        loadChildren: () => __webpack_require__.e(
        /*! import() | modules-companies-companies-module */
        "modules-companies-companies-module").then(__webpack_require__.bind(null,
        /*! ./modules/companies/companies.module */
        "./src/app/modules/companies/companies.module.ts")).then(m => m.CompaniesModule)
      }, {
        path: 'contact',
        loadChildren: () => __webpack_require__.e(
        /*! import() | modules-contact-contact-module */
        "modules-contact-contact-module").then(__webpack_require__.bind(null,
        /*! ./modules/contact/contact.module */
        "./src/app/modules/contact/contact.module.ts")).then(m => m.ContactModule)
      }, {
        path: 'account',
        canActivate: [_core_guards_auth_guard__WEBPACK_IMPORTED_MODULE_4__["AuthGuard"]],
        loadChildren: () => Promise.all(
        /*! import() | modules-account-account-module */
        [__webpack_require__.e("common"), __webpack_require__.e("modules-account-account-module")]).then(__webpack_require__.bind(null,
        /*! ./modules/account/account.module */
        "./src/app/modules/account/account.module.ts")).then(m => m.AccountModule)
      }]
    }, {
      path: 'admin',
      canActivate: [_core_guards_auth_guard__WEBPACK_IMPORTED_MODULE_4__["AuthGuard"], _core_guards_role_guard__WEBPACK_IMPORTED_MODULE_5__["RoleGuard"]],
      data: {
        role: 'committee_member'
      },
      loadChildren: () => __webpack_require__.e(
      /*! import() | modules-admin-admin-module */
      "modules-admin-admin-module").then(__webpack_require__.bind(null,
      /*! ./modules/admin/admin.module */
      "./src/app/modules/admin/admin.module.ts")).then(m => m.AdminModule)
    }];
    let AppRoutingModule = class AppRoutingModule {};
    AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
    })], AppRoutingModule);
    /***/
  },

  /***/
  "./src/app/app.component.scss":
  /*!************************************!*\
    !*** ./src/app/app.component.scss ***!
    \************************************/

  /*! exports provided: default */

  /***/
  function srcAppAppComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = ".notifier {\n  height: 0;\n  overflow: hidden;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ha2hpbGJhbmRpL0Rlc2t0b3AvRGVzaWduIFByb2plY3Qvb2NraGFtLWZyb250ZW5kL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxTQUFBO0VBQ0EsZ0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ub3RpZmllciB7XG4gICAgaGVpZ2h0OjA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbn0iLCIubm90aWZpZXIge1xuICBoZWlnaHQ6IDA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59Il19 */";
    /***/
  },

  /***/
  "./src/app/app.component.ts":
  /*!**********************************!*\
    !*** ./src/app/app.component.ts ***!
    \**********************************/

  /*! exports provided: AppComponent */

  /***/
  function srcAppAppComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AppComponent", function () {
      return AppComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let AppComponent = class AppComponent {
      constructor() {
        this.title = 'ockham-frontend';
      }

    };
    AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-root',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./app.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./app.component.scss */
      "./src/app/app.component.scss")).default]
    })], AppComponent);
    /***/
  },

  /***/
  "./src/app/app.module.ts":
  /*!*******************************!*\
    !*** ./src/app/app.module.ts ***!
    \*******************************/

  /*! exports provided: AppModule */

  /***/
  function srcAppAppModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AppModule", function () {
      return AppModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/platform-browser */
    "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _app_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./app-routing.module */
    "./src/app/app-routing.module.ts");
    /* harmony import */


    var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ./app.component */
    "./src/app/app.component.ts");
    /* harmony import */


    var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! @angular/platform-browser/animations */
    "./node_modules/@angular/platform-browser/fesm2015/animations.js");
    /* harmony import */


    var _layout_footer_footer_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! ./layout/footer/footer.component */
    "./src/app/layout/footer/footer.component.ts");
    /* harmony import */


    var _layout_page_layout_page_layout_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! ./layout/page-layout/page-layout.component */
    "./src/app/layout/page-layout/page-layout.component.ts");
    /* harmony import */


    var _core_core_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
    /*! ./core/core.module */
    "./src/app/core/core.module.ts");
    /* harmony import */


    var _shared_shared_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
    /*! ./shared/shared.module */
    "./src/app/shared/shared.module.ts");
    /* harmony import */


    var angular_notifier__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
    /*! angular-notifier */
    "./node_modules/angular-notifier/fesm2015/angular-notifier.js");
    /* harmony import */


    var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(
    /*! @angular/material/datepicker */
    "./node_modules/@angular/material/esm2015/datepicker.js");
    /* harmony import */


    var _angular_material_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(
    /*! @angular/material/core */
    "./node_modules/@angular/material/esm2015/core.js");

    let AppModule = class AppModule {};
    AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
      declarations: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"], _layout_footer_footer_component__WEBPACK_IMPORTED_MODULE_6__["FooterComponent"], _layout_page_layout_page_layout_component__WEBPACK_IMPORTED_MODULE_7__["PageLayoutComponent"]],
      imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"], _core_core_module__WEBPACK_IMPORTED_MODULE_8__["CoreModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_9__["SharedModule"], _app_routing_module__WEBPACK_IMPORTED_MODULE_3__["AppRoutingModule"], _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__["BrowserAnimationsModule"], angular_notifier__WEBPACK_IMPORTED_MODULE_10__["NotifierModule"].withConfig({
        position: {
          horizontal: {
            position: 'right'
          },
          vertical: {
            position: 'top'
          }
        }
      })],
      providers: [_angular_material_datepicker__WEBPACK_IMPORTED_MODULE_11__["MatDatepickerModule"], {
        provide: _angular_material_core__WEBPACK_IMPORTED_MODULE_12__["MAT_DATE_LOCALE"],
        useValue: 'en-GB'
      }],
      bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
    })], AppModule);
    /***/
  },

  /***/
  "./src/app/core/core.module.ts":
  /*!*************************************!*\
    !*** ./src/app/core/core.module.ts ***!
    \*************************************/

  /*! exports provided: CoreModule */

  /***/
  function srcAppCoreCoreModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "CoreModule", function () {
      return CoreModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/common/http */
    "./node_modules/@angular/common/fesm2015/http.js");
    /* harmony import */


    var _guards_auth_guard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./guards/auth.guard */
    "./src/app/core/guards/auth.guard.ts");
    /* harmony import */


    var _interceptors_token_interceptor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ./interceptors/token.interceptor */
    "./src/app/core/interceptors/token.interceptor.ts");
    /* harmony import */


    var _interceptors_error_interceptor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! ./interceptors/error.interceptor */
    "./src/app/core/interceptors/error.interceptor.ts");

    let CoreModule = class CoreModule {};
    CoreModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClientModule"]],
      providers: [_guards_auth_guard__WEBPACK_IMPORTED_MODULE_3__["AuthGuard"], {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HTTP_INTERCEPTORS"],
        useClass: _interceptors_token_interceptor__WEBPACK_IMPORTED_MODULE_4__["TokenInterceptor"],
        multi: true
      }, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HTTP_INTERCEPTORS"],
        useClass: _interceptors_error_interceptor__WEBPACK_IMPORTED_MODULE_5__["ErrorInterceptor"],
        multi: true
      }]
    })], CoreModule);
    /***/
  },

  /***/
  "./src/app/core/guards/auth.guard.ts":
  /*!*******************************************!*\
    !*** ./src/app/core/guards/auth.guard.ts ***!
    \*******************************************/

  /*! exports provided: AuthGuard */

  /***/
  function srcAppCoreGuardsAuthGuardTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AuthGuard", function () {
      return AuthGuard;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ../services/authentication.service */
    "./src/app/core/services/authentication.service.ts");

    let AuthGuard = class AuthGuard {
      constructor(router, authService) {
        this.router = router;
        this.authService = authService;
      }

      canActivate(route, state) {
        let isAuthed = this.authService.isAuthenticated();

        if (isAuthed) {
          return true;
        }

        this.router.navigate(['/auth/login']);
        return false;
      }

    };

    AuthGuard.ctorParameters = () => [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]
    }, {
      type: _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]
    }];

    AuthGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]])], AuthGuard);
    /***/
  },

  /***/
  "./src/app/core/guards/role.guard.ts":
  /*!*******************************************!*\
    !*** ./src/app/core/guards/role.guard.ts ***!
    \*******************************************/

  /*! exports provided: RoleGuard */

  /***/
  function srcAppCoreGuardsRoleGuardTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "RoleGuard", function () {
      return RoleGuard;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ../services/authentication.service */
    "./src/app/core/services/authentication.service.ts");

    let RoleGuard = class RoleGuard {
      constructor(router, authService) {
        this.router = router;
        this.authService = authService;
      }

      canActivate(route, state) {
        const requiredRole = route.data.role;

        if (requiredRole && this.authService.hasRole(requiredRole)) {
          return true;
        } // TODO: for now, redirect to home page. Maybe show toast?


        this.router.navigate(['/']);
        return false;
      }

    };

    RoleGuard.ctorParameters = () => [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]
    }, {
      type: _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]
    }];

    RoleGuard = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
      providedIn: 'root'
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"], _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]])], RoleGuard);
    /***/
  },

  /***/
  "./src/app/core/interceptors/error.interceptor.ts":
  /*!********************************************************!*\
    !*** ./src/app/core/interceptors/error.interceptor.ts ***!
    \********************************************************/

  /*! exports provided: ErrorInterceptor */

  /***/
  function srcAppCoreInterceptorsErrorInterceptorTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ErrorInterceptor", function () {
      return ErrorInterceptor;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/common/http */
    "./node_modules/@angular/common/fesm2015/http.js");
    /* harmony import */


    var _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ../services/authentication.service */
    "./src/app/core/services/authentication.service.ts");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! rxjs/operators */
    "./node_modules/rxjs/_esm2015/operators/index.js");
    /* harmony import */


    var angular_notifier__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! angular-notifier */
    "./node_modules/angular-notifier/fesm2015/angular-notifier.js");

    let ErrorInterceptor = class ErrorInterceptor {
      constructor(notifierService, router, authService) {
        this.notifierService = notifierService;
        this.router = router;
        this.authService = authService;
      }

      intercept(request, next) {
        return next.handle(request).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["tap"])(() => {}, error => {
          if (error instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpErrorResponse"]) {
            if (error.status == 401) {
              this.authService.logout();
              this.router.navigate(['/auth/login'], {
                queryParams: {
                  redirect: this.router.url
                }
              }).then(() => {
                this.notifierService.notify('default', 'Please log in again.');
              });
            }
          }
        }));
      }

    };

    ErrorInterceptor.ctorParameters = () => [{
      type: angular_notifier__WEBPACK_IMPORTED_MODULE_6__["NotifierService"]
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]
    }, {
      type: _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]
    }];

    ErrorInterceptor = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [angular_notifier__WEBPACK_IMPORTED_MODULE_6__["NotifierService"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"], _services_authentication_service__WEBPACK_IMPORTED_MODULE_3__["AuthenticationService"]])], ErrorInterceptor);
    /***/
  },

  /***/
  "./src/app/core/interceptors/token.interceptor.ts":
  /*!********************************************************!*\
    !*** ./src/app/core/interceptors/token.interceptor.ts ***!
    \********************************************************/

  /*! exports provided: TokenInterceptor */

  /***/
  function srcAppCoreInterceptorsTokenInterceptorTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "TokenInterceptor", function () {
      return TokenInterceptor;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _services_authentication_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! ../services/authentication.service */
    "./src/app/core/services/authentication.service.ts");

    let TokenInterceptor = class TokenInterceptor {
      constructor(authService) {
        this.authService = authService;
      }

      intercept(request, next) {
        let token = this.authService.getToken();

        if (token) {
          request = request.clone({
            setHeaders: {
              Authorization: "Bearer ".concat(token)
            }
          });
        }

        return next.handle(request);
      }

    };

    TokenInterceptor.ctorParameters = () => [{
      type: _services_authentication_service__WEBPACK_IMPORTED_MODULE_2__["AuthenticationService"]
    }];

    TokenInterceptor = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__["AuthenticationService"]])], TokenInterceptor);
    /***/
  },

  /***/
  "./src/app/core/services/activity.service.ts":
  /*!***************************************************!*\
    !*** ./src/app/core/services/activity.service.ts ***!
    \***************************************************/

  /*! exports provided: ActivityService */

  /***/
  function srcAppCoreServicesActivityServiceTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ActivityService", function () {
      return ActivityService;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/common/http */
    "./node_modules/@angular/common/fesm2015/http.js");

    let ActivityService = class ActivityService {
      constructor(http) {
        this.http = http;
        this.baseUrl = '/api/v1/activities';
      }

      getActivities(comm_id) {
        const params = comm_id ? new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('committee_id', comm_id.toString()) : null;
        return this.http.get(this.baseUrl, {
          params: params
        });
      }

      getRecentActivities(limit) {
        const params = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('limit', limit.toString());
        return this.http.get(this.baseUrl, {
          params: params
        });
      }

      createActivity(activity) {
        return this.http.post(this.baseUrl, activity);
      }

      getActivity(id) {
        return this.http.get(this.baseUrl + "/".concat(id));
      }

      editActivity(activity) {
        return this.http.put(this.baseUrl + "/".concat(activity.id), activity);
      }

      deleteActivity(id) {
        return this.http.delete(this.baseUrl + "/".concat(id));
      }

      addOption(activityId, option) {
        return this.http.post(this.baseUrl + "/".concat(activityId, "/options"), option);
      } //Still not working in the back-end.


      editOption(acId, option) {
        return this.http.put(this.baseUrl + "/".concat(acId, "/options/").concat(option.id), option);
      }

      getOptions(acId) {
        return this.http.get(this.baseUrl + "/".concat(acId, "/options"));
      }

      deleteOption(acId, option) {
        return this.http.delete(this.baseUrl + "/".concat(acId, "/options/").concat(option.id));
      }

      getRegistrations(id, memberId) {
        const params = memberId ? new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('member_id', memberId.toString()) : null;
        return this.http.get(this.baseUrl + "/".concat(id, "/registrations"), {
          params: params
        });
      }

      deleteRegistration(acId, regId) {
        return this.http.delete(this.baseUrl + "/".concat(acId, "/registrations/").concat(regId));
      }

      editRegistration(acId, reg) {
        return this.http.put(this.baseUrl + "/".concat(acId, "/registrations/").concat(reg.id), reg);
      }

      registerMember(data) {
        return this.http.post(this.baseUrl + "/".concat(data.activity_id, "/registrations"), data);
      }

    };

    ActivityService.ctorParameters = () => [{
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]
    }];

    ActivityService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
      providedIn: 'root'
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])], ActivityService);
    /***/
  },

  /***/
  "./src/app/core/services/authentication.service.ts":
  /*!*********************************************************!*\
    !*** ./src/app/core/services/authentication.service.ts ***!
    \*********************************************************/

  /*! exports provided: AuthenticationService */

  /***/
  function srcAppCoreServicesAuthenticationServiceTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AuthenticationService", function () {
      return AuthenticationService;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! rxjs */
    "./node_modules/rxjs/_esm2015/index.js");
    /* harmony import */


    var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! @angular/common/http */
    "./node_modules/@angular/common/fesm2015/http.js");
    /* harmony import */


    var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! rxjs/operators */
    "./node_modules/rxjs/_esm2015/operators/index.js");

    let AuthenticationService = class AuthenticationService {
      constructor(http) {
        this.http = http;
        this.baseUrl = '/api/v1/auth/';
        this.roles = ['general_member', 'committee_member', 'board', 'admin'];
        this.authenticated$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](this.getToken() !== null);
        this.currentUser$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](this._getUser());
      }

      login(email, password) {
        return this.authenticate('login', {
          email,
          password
        });
      }

      authenticate(endpoint, payload) {
        return this.http.post(this.baseUrl + endpoint, payload).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["switchMap"])(response => {
          const token = response.token; // save token in local storage

          localStorage.setItem('token', token);
          return this.http.get(this.baseUrl + 'me').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])(response => {
            console.log('Memeber info', response);
            this.setUser(response);
            this.currentUser$.next(response);
            this.authenticated$.next(true);
          }));
        }));
      }

      requestPasswordReset(email) {
        return this.http.post(this.baseUrl + 'password-reset/request', {
          email: email
        });
      }

      resetPassword(token, new_password) {
        return this.authenticate('password-reset', {
          token: token,
          new_password: new_password
        });
      }

      hasRole(role) {
        const user = this._getUser();

        let userRole = user.role.name; // TODO: maybe improve backend response?

        if (userRole === 'general_member' && user.committees.length > 0) {
          userRole = 'committee_member';
        }

        const userRoleIndex = this.roles.indexOf(userRole);
        const requiredRoleIndex = this.roles.indexOf(role);

        if (userRoleIndex === -1 || requiredRoleIndex === -1) {
          return false;
        }

        return userRoleIndex >= requiredRoleIndex;
      }

      getUser() {
        return this.currentUser$.asObservable();
      }

      _getUser() {
        return JSON.parse(localStorage.getItem('user'));
      }

      setUser(user) {
        localStorage.setItem('user', JSON.stringify(user));
      }

      getToken() {
        return localStorage.getItem('token');
      }

      logout() {
        localStorage.clear();
        this.authenticated$.next(false);
      }

      isAuthenticated() {
        return this.authenticated$.value;
      }

      isAuthenticatedObs() {
        return this.authenticated$.asObservable();
      }

    };

    AuthenticationService.ctorParameters = () => [{
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]
    }];

    AuthenticationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
      providedIn: 'root'
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]])], AuthenticationService);
    /***/
  },

  /***/
  "./src/app/core/services/member.service.ts":
  /*!*************************************************!*\
    !*** ./src/app/core/services/member.service.ts ***!
    \*************************************************/

  /*! exports provided: MemberService */

  /***/
  function srcAppCoreServicesMemberServiceTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "MemberService", function () {
      return MemberService;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/common/http */
    "./node_modules/@angular/common/fesm2015/http.js");

    let MemberService = class MemberService {
      constructor(http) {
        this.http = http;
        this.baseUrl = '/api/v1/members';
      }

      getMembers(filter) {
        let params = filter ? new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]().set('q', filter) : null;
        return this.http.get(this.baseUrl, {
          params: params
        });
      }

      getMember(id) {
        return this.http.get("".concat(this.baseUrl, "/").concat(id));
      }

      getMembersExport() {
        return this.http.get("".concat(this.baseUrl, "/export"), {
          responseType: 'arraybuffer',
          observe: 'response'
        });
      }

      createMember(member) {
        return this.http.post(this.baseUrl, member);
      }

      changePassword(member, data) {
        return this.http.post("".concat(this.baseUrl, "/").concat(member.id, "/password"), data);
      }

      importMembers(file) {
        const formData = new FormData();
        formData.append('data', file, file.name);
        return this.http.post("".concat(this.baseUrl, "/import"), formData);
      }

      updateMember(member, id) {
        return this.http.put("".concat(this.baseUrl, "/").concat(id), member);
      }

      deleteMember(id) {
        return this.http.delete("".concat(this.baseUrl, "/").concat(id));
      }

      archiveMember(id) {
        return this.http.post("".concat(this.baseUrl, "/").concat(id, "/archive"), null);
      }

      getRegistrations(member) {
        return this.http.get("".concat(this.baseUrl, "/").concat(member.id, "/registrations"));
      }

    };

    MemberService.ctorParameters = () => [{
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]
    }];

    MemberService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
      providedIn: 'root'
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])], MemberService);
    /***/
  },

  /***/
  "./src/app/layout/footer/footer.component.scss":
  /*!*****************************************************!*\
    !*** ./src/app/layout/footer/footer.component.scss ***!
    \*****************************************************/

  /*! exports provided: default */

  /***/
  function srcAppLayoutFooterFooterComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "#footer {\n  padding: 20px 0px 40px 0px;\n  background: #3b3b3b;\n  border-top: 5px solid #ed564b;\n  bottom: 0;\n  width: 100%;\n}\n\ndiv {\n  font-family: \"Lato\";\n  font-style: normal;\n  font-weight: normal;\n  font-palette: light;\n}\n\n.site-footer {\n  padding: 10px 0px;\n  background: #292929;\n  font-size: 12px;\n  bottom: 0;\n  width: 100%;\n}\n\nfooter {\n  display: block;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n}\n\nh2 {\n  color: whitesmoke;\n}\n\np {\n  color: #bdbdbd;\n}\n\na {\n  color: theme-color(\"secondary\");\n}\n\n.fcred {\n  color: #bdbdbd;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ha2hpbGJhbmRpL0Rlc2t0b3AvRGVzaWduIFByb2plY3Qvb2NraGFtLWZyb250ZW5kL3NyYy9hcHAvbGF5b3V0L2Zvb3Rlci9mb290ZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2xheW91dC9mb290ZXIvZm9vdGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsMEJBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7QUNERjs7QURJQTtFQUNFLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FDREY7O0FESUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0FDREY7O0FESUE7RUFDRSxjQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7QUNERjs7QURLQTtFQUNFLGlCQUFBO0FDRkY7O0FES0E7RUFDRSxjQUFBO0FDRkY7O0FES0E7RUFDRSwrQkFBQTtBQ0ZGOztBREtBO0VBQ0UsY0FBQTtBQ0ZGIiwiZmlsZSI6InNyYy9hcHAvbGF5b3V0L2Zvb3Rlci9mb290ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IFwiLi4vLi4vLi4vYXNzZXRzL3N0eWxlL2N1c3RvbS1jb2xvcnMuc2Nzc1wiO1xuXG4jZm9vdGVyIHtcbiAgcGFkZGluZzogMjBweCAwcHggNDBweCAwcHg7XG4gIGJhY2tncm91bmQ6ICMzYjNiM2I7XG4gIGJvcmRlci10b3A6IDVweCBzb2xpZCAjZWQ1NjRiO1xuICBib3R0b206IDA7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5kaXYge1xuICBmb250LWZhbWlseTogJ0xhdG8nO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIGZvbnQtcGFsZXR0ZTogbGlnaHQ7XG59XG5cbi5zaXRlLWZvb3RlciB7XG4gIHBhZGRpbmc6IDEwcHggMHB4O1xuICBiYWNrZ3JvdW5kOiAjMjkyOTI5O1xuICBmb250LXNpemU6IDEycHg7XG4gIGJvdHRvbTogMDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbmZvb3RlciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGJvcmRlcjogMDtcbiAgZm9udC1zaXplOiAxMDAlO1xuICBmb250OiBpbmhlcml0O1xufVxuXG4vLy0tLS0tLS0tLS10ZW1wb3JhcnktLS0tLS0tLS0tLS0tXG5oMiB7XG4gIGNvbG9yOiB3aGl0ZXNtb2tlO1xufVxuXG5wIHtcbiAgY29sb3I6IG1hcC1nZXQoJG9ja2hhbS1mcm9udGVuZC1ncmV5LCA0MDApO1xufVxuXG5hIHtcbiAgY29sb3I6IHRoZW1lLWNvbG9yKFwic2Vjb25kYXJ5XCIpO1xufVxuXG4uZmNyZWQge1xuICBjb2xvcjogbWFwLWdldCgkb2NraGFtLWZyb250ZW5kLWdyZXksIDQwMCk7XG59XG4iLCIjZm9vdGVyIHtcbiAgcGFkZGluZzogMjBweCAwcHggNDBweCAwcHg7XG4gIGJhY2tncm91bmQ6ICMzYjNiM2I7XG4gIGJvcmRlci10b3A6IDVweCBzb2xpZCAjZWQ1NjRiO1xuICBib3R0b206IDA7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5kaXYge1xuICBmb250LWZhbWlseTogXCJMYXRvXCI7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgZm9udC1wYWxldHRlOiBsaWdodDtcbn1cblxuLnNpdGUtZm9vdGVyIHtcbiAgcGFkZGluZzogMTBweCAwcHg7XG4gIGJhY2tncm91bmQ6ICMyOTI5Mjk7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgYm90dG9tOiAwO1xuICB3aWR0aDogMTAwJTtcbn1cblxuZm9vdGVyIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgYm9yZGVyOiAwO1xuICBmb250LXNpemU6IDEwMCU7XG4gIGZvbnQ6IGluaGVyaXQ7XG59XG5cbmgyIHtcbiAgY29sb3I6IHdoaXRlc21va2U7XG59XG5cbnAge1xuICBjb2xvcjogI2JkYmRiZDtcbn1cblxuYSB7XG4gIGNvbG9yOiB0aGVtZS1jb2xvcihcInNlY29uZGFyeVwiKTtcbn1cblxuLmZjcmVkIHtcbiAgY29sb3I6ICNiZGJkYmQ7XG59Il19 */";
    /***/
  },

  /***/
  "./src/app/layout/footer/footer.component.ts":
  /*!***************************************************!*\
    !*** ./src/app/layout/footer/footer.component.ts ***!
    \***************************************************/

  /*! exports provided: FooterComponent */

  /***/
  function srcAppLayoutFooterFooterComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "FooterComponent", function () {
      return FooterComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let FooterComponent = class FooterComponent {
      constructor() {}

      ngOnInit() {}

    };
    FooterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-footer',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./footer.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/layout/footer/footer.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./footer.component.scss */
      "./src/app/layout/footer/footer.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], FooterComponent);
    /***/
  },

  /***/
  "./src/app/layout/page-layout/page-layout.component.scss":
  /*!***************************************************************!*\
    !*** ./src/app/layout/page-layout/page-layout.component.scss ***!
    \***************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppLayoutPageLayoutPageLayoutComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = ".layout {\n  min-height: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ha2hpbGJhbmRpL0Rlc2t0b3AvRGVzaWduIFByb2plY3Qvb2NraGFtLWZyb250ZW5kL3NyYy9hcHAvbGF5b3V0L3BhZ2UtbGF5b3V0L3BhZ2UtbGF5b3V0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9sYXlvdXQvcGFnZS1sYXlvdXQvcGFnZS1sYXlvdXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvbGF5b3V0L3BhZ2UtbGF5b3V0L3BhZ2UtbGF5b3V0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxheW91dCB7XG4gICAgbWluLWhlaWdodDogMTAwJVxufSIsIi5sYXlvdXQge1xuICBtaW4taGVpZ2h0OiAxMDAlO1xufSJdfQ== */";
    /***/
  },

  /***/
  "./src/app/layout/page-layout/page-layout.component.ts":
  /*!*************************************************************!*\
    !*** ./src/app/layout/page-layout/page-layout.component.ts ***!
    \*************************************************************/

  /*! exports provided: PageLayoutComponent */

  /***/
  function srcAppLayoutPageLayoutPageLayoutComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "PageLayoutComponent", function () {
      return PageLayoutComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let PageLayoutComponent = class PageLayoutComponent {
      constructor() {}

      ngOnInit() {}

      onActivate() {
        window.scroll(0, 0);
      }

    };
    PageLayoutComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-page-layout',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./page-layout.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/layout/page-layout/page-layout.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./page-layout.component.scss */
      "./src/app/layout/page-layout/page-layout.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], PageLayoutComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/activity-list/activity-list.component.scss":
  /*!***********************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/activity-list/activity-list.component.scss ***!
    \***********************************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsActivityHelpersActivityListActivityListComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2FjdGl2aXR5LWhlbHBlcnMvYWN0aXZpdHktbGlzdC9hY3Rpdml0eS1saXN0LmNvbXBvbmVudC5zY3NzIn0= */";
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/activity-list/activity-list.component.ts":
  /*!*********************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/activity-list/activity-list.component.ts ***!
    \*********************************************************************************************/

  /*! exports provided: ActivityListComponent */

  /***/
  function srcAppSharedComponentsActivityHelpersActivityListActivityListComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ActivityListComponent", function () {
      return ActivityListComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let ActivityListComponent = class ActivityListComponent {};
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)], ActivityListComponent.prototype, "activities", void 0);
    ActivityListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-activity-list',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./activity-list.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-list/activity-list.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./activity-list.component.scss */
      "./src/app/shared/components/activity-helpers/activity-list/activity-list.component.scss")).default]
    })], ActivityListComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.scss":
  /*!***********************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.scss ***!
    \***********************************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsActivityHelpersActivityMetaActivityMetaComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2FjdGl2aXR5LWhlbHBlcnMvYWN0aXZpdHktbWV0YS9hY3Rpdml0eS1tZXRhLmNvbXBvbmVudC5zY3NzIn0= */";
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.ts":
  /*!*********************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.ts ***!
    \*********************************************************************************************/

  /*! exports provided: ActivityMetaComponent */

  /***/
  function srcAppSharedComponentsActivityHelpersActivityMetaActivityMetaComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ActivityMetaComponent", function () {
      return ActivityMetaComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let ActivityMetaComponent = class ActivityMetaComponent {
      constructor() {}

      ngOnInit() {}

    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], ActivityMetaComponent.prototype, "activity", void 0);
    ActivityMetaComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-activity-meta',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./activity-meta.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./activity-meta.component.scss */
      "./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], ActivityMetaComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.scss":
  /*!*************************************************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.scss ***!
    \*************************************************************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsActivityHelpersActivityRegistrationFormActivityRegistrationFormComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2FjdGl2aXR5LWhlbHBlcnMvYWN0aXZpdHktcmVnaXN0cmF0aW9uLWZvcm0vYWN0aXZpdHktcmVnaXN0cmF0aW9uLWZvcm0uY29tcG9uZW50LnNjc3MifQ== */";
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.ts":
  /*!***********************************************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.ts ***!
    \***********************************************************************************************************************/

  /*! exports provided: ActivityRegistrationFormComponent */

  /***/
  function srcAppSharedComponentsActivityHelpersActivityRegistrationFormActivityRegistrationFormComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ActivityRegistrationFormComponent", function () {
      return ActivityRegistrationFormComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");
    /* harmony import */


    var src_app_shared_services_option_control_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! src/app/shared/services/option-control.service */
    "./src/app/shared/services/option-control.service.ts");

    let ActivityRegistrationFormComponent = class ActivityRegistrationFormComponent {
      constructor(ocs) {
        this.ocs = ocs;
        this.submitted = false;
        this.formReady = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.regForm = new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({
          notes: new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](null)
        });
      }

      ngOnInit() {
        this.regForm.patchValue(this.options);
        this.ocs.fillForm(this.options, this.regForm);
        console.log(this.regForm);
        this.formReady.emit(this.regForm);
      }

      get rf() {
        return this.regForm.controls;
      }

    };

    ActivityRegistrationFormComponent.ctorParameters = () => [{
      type: src_app_shared_services_option_control_service__WEBPACK_IMPORTED_MODULE_3__["OptionControlService"]
    }];

    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)], ActivityRegistrationFormComponent.prototype, "options", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)], ActivityRegistrationFormComponent.prototype, "submitted", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])], ActivityRegistrationFormComponent.prototype, "formReady", void 0);
    ActivityRegistrationFormComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-activity-registration-form',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./activity-registration-form.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./activity-registration-form.component.scss */
      "./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_shared_services_option_control_service__WEBPACK_IMPORTED_MODULE_3__["OptionControlService"]])], ActivityRegistrationFormComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.scss":
  /*!*******************************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.scss ***!
    \*******************************************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsActivityHelpersOptionInputTypeOptionInputTypeComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2FjdGl2aXR5LWhlbHBlcnMvb3B0aW9uLWlucHV0LXR5cGUvb3B0aW9uLWlucHV0LXR5cGUuY29tcG9uZW50LnNjc3MifQ== */";
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.ts":
  /*!*****************************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.ts ***!
    \*****************************************************************************************************/

  /*! exports provided: OptionInputTypeComponent */

  /***/
  function srcAppSharedComponentsActivityHelpersOptionInputTypeOptionInputTypeComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "OptionInputTypeComponent", function () {
      return OptionInputTypeComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");

    var OptionType;

    (function (OptionType) {
      OptionType["TEXT"] = "text";
      OptionType["DATETIME"] = "datetime";
      OptionType["NUMBER"] = "number";
      OptionType["YES_NO"] = "yes_no";
    })(OptionType || (OptionType = {}));

    ;
    let OptionInputTypeComponent = class OptionInputTypeComponent {
      get optionType() {
        return OptionType;
      }

      get optionCtrl() {
        return this.optionForm.get(this.option.id.toString());
      }

    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], OptionInputTypeComponent.prototype, "option", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"])], OptionInputTypeComponent.prototype, "optionForm", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)], OptionInputTypeComponent.prototype, "submitted", void 0);
    OptionInputTypeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-option-input-type',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./option-input-type.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./option-input-type.component.scss */
      "./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.scss")).default]
    })], OptionInputTypeComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/register-modal/register-modal.component.scss":
  /*!*************************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/register-modal/register-modal.component.scss ***!
    \*************************************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsActivityHelpersRegisterModalRegisterModalComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2FjdGl2aXR5LWhlbHBlcnMvcmVnaXN0ZXItbW9kYWwvcmVnaXN0ZXItbW9kYWwuY29tcG9uZW50LnNjc3MifQ== */";
    /***/
  },

  /***/
  "./src/app/shared/components/activity-helpers/register-modal/register-modal.component.ts":
  /*!***********************************************************************************************!*\
    !*** ./src/app/shared/components/activity-helpers/register-modal/register-modal.component.ts ***!
    \***********************************************************************************************/

  /*! exports provided: RegisterModalComponent */

  /***/
  function srcAppSharedComponentsActivityHelpersRegisterModalRegisterModalComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "RegisterModalComponent", function () {
      return RegisterModalComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @ng-bootstrap/ng-bootstrap */
    "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
    /* harmony import */


    var src_app_core_services_activity_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! src/app/core/services/activity.service */
    "./src/app/core/services/activity.service.ts");
    /* harmony import */


    var src_app_shared_services_option_control_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! src/app/shared/services/option-control.service */
    "./src/app/shared/services/option-control.service.ts");
    /* harmony import */


    var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! lodash */
    "./node_modules/lodash/lodash.js");
    /* harmony import */


    var lodash__WEBPACK_IMPORTED_MODULE_5___default =
    /*#__PURE__*/
    __webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);

    let RegisterModalComponent = class RegisterModalComponent {
      constructor(activeModal, activityService, ocs) {
        this.activeModal = activeModal;
        this.activityService = activityService;
        this.ocs = ocs;
        this.register = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.showSearchbar = true;
        this.action = 'register'; //activityOptions: ActivityOption[] = [];

        this.submitted = false;
      }

      dismiss() {
        this.activeModal.dismiss();
      }

      onSelectMember(member) {
        this.selectedMember = member;
      }

      saveForm(form) {
        this.regForm = form;
      }

      save() {
        this.submitted = true;

        if (this.regForm.invalid) {
          return;
        }

        const regFormData = Object(lodash__WEBPACK_IMPORTED_MODULE_5__["cloneDeep"])(this.regForm.value);
        const notes = regFormData.notes;
        delete regFormData.notes;
        const registrationData = {
          member_id: this.selectedMember.id,
          activity_id: this.activityId,
          notes: notes,
          answers: this.ocs.toOptionAnswersArray(regFormData)
        };
        console.log(registrationData);
        this.register.emit(registrationData);
        this.dismiss();
      }

    };

    RegisterModalComponent.ctorParameters = () => [{
      type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"]
    }, {
      type: src_app_core_services_activity_service__WEBPACK_IMPORTED_MODULE_3__["ActivityService"]
    }, {
      type: src_app_shared_services_option_control_service__WEBPACK_IMPORTED_MODULE_4__["OptionControlService"]
    }];

    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Number)], RegisterModalComponent.prototype, "activityId", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])], RegisterModalComponent.prototype, "register", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean)], RegisterModalComponent.prototype, "showSearchbar", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], RegisterModalComponent.prototype, "selectedMember", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)], RegisterModalComponent.prototype, "activityOptions", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], RegisterModalComponent.prototype, "action", void 0);
    RegisterModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-register-modal',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./register-modal.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/activity-helpers/register-modal/register-modal.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./register-modal.component.scss */
      "./src/app/shared/components/activity-helpers/register-modal/register-modal.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"], src_app_core_services_activity_service__WEBPACK_IMPORTED_MODULE_3__["ActivityService"], src_app_shared_services_option_control_service__WEBPACK_IMPORTED_MODULE_4__["OptionControlService"]])], RegisterModalComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/buttons/arrow-back/arrow-back.component.scss":
  /*!********************************************************************************!*\
    !*** ./src/app/shared/components/buttons/arrow-back/arrow-back.component.scss ***!
    \********************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsButtonsArrowBackArrowBackComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2J1dHRvbnMvYXJyb3ctYmFjay9hcnJvdy1iYWNrLmNvbXBvbmVudC5zY3NzIn0= */";
    /***/
  },

  /***/
  "./src/app/shared/components/buttons/arrow-back/arrow-back.component.ts":
  /*!******************************************************************************!*\
    !*** ./src/app/shared/components/buttons/arrow-back/arrow-back.component.ts ***!
    \******************************************************************************/

  /*! exports provided: ArrowBackComponent */

  /***/
  function srcAppSharedComponentsButtonsArrowBackArrowBackComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ArrowBackComponent", function () {
      return ArrowBackComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let ArrowBackComponent = class ArrowBackComponent {
      constructor() {}

      ngOnInit() {}

    };
    ArrowBackComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-arrow-back',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./arrow-back.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/buttons/arrow-back/arrow-back.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./arrow-back.component.scss */
      "./src/app/shared/components/buttons/arrow-back/arrow-back.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], ArrowBackComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/delete-modal/delete-modal.component.scss":
  /*!****************************************************************************!*\
    !*** ./src/app/shared/components/delete-modal/delete-modal.component.scss ***!
    \****************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsDeleteModalDeleteModalComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2RlbGV0ZS1tb2RhbC9kZWxldGUtbW9kYWwuY29tcG9uZW50LnNjc3MifQ== */";
    /***/
  },

  /***/
  "./src/app/shared/components/delete-modal/delete-modal.component.ts":
  /*!**************************************************************************!*\
    !*** ./src/app/shared/components/delete-modal/delete-modal.component.ts ***!
    \**************************************************************************/

  /*! exports provided: DeleteModalComponent */

  /***/
  function srcAppSharedComponentsDeleteModalDeleteModalComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "DeleteModalComponent", function () {
      return DeleteModalComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @ng-bootstrap/ng-bootstrap */
    "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");

    var Action;

    (function (Action) {
      Action["DELETE"] = "delete";
      Action["DE_REGISTER"] = "de-register";
    })(Action || (Action = {}));

    let DeleteModalComponent = class DeleteModalComponent {
      constructor(activeModal) {
        this.activeModal = activeModal;
        this.delete = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.action = this._action.DELETE;
      }

      ngOnInit() {}

      get _action() {
        return Action;
      }

      _delete() {
        this.delete.emit('Deleting');
        this.activeModal.close();
      }

      dismiss() {
        this.activeModal.dismiss();
      }

    };

    DeleteModalComponent.ctorParameters = () => [{
      type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"]
    }];

    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])], DeleteModalComponent.prototype, "delete", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)], DeleteModalComponent.prototype, "objRef", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)], DeleteModalComponent.prototype, "action", void 0);
    DeleteModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-delete-modal',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./delete-modal.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/delete-modal/delete-modal.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./delete-modal.component.scss */
      "./src/app/shared/components/delete-modal/delete-modal.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"]])], DeleteModalComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/flexible-column-form/column-input/column-input.component.scss":
  /*!*************************************************************************************************!*\
    !*** ./src/app/shared/components/flexible-column-form/column-input/column-input.component.scss ***!
    \*************************************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsFlexibleColumnFormColumnInputColumnInputComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2ZsZXhpYmxlLWNvbHVtbi1mb3JtL2NvbHVtbi1pbnB1dC9jb2x1bW4taW5wdXQuY29tcG9uZW50LnNjc3MifQ== */";
    /***/
  },

  /***/
  "./src/app/shared/components/flexible-column-form/column-input/column-input.component.ts":
  /*!***********************************************************************************************!*\
    !*** ./src/app/shared/components/flexible-column-form/column-input/column-input.component.ts ***!
    \***********************************************************************************************/

  /*! exports provided: ColumnInputComponent */

  /***/
  function srcAppSharedComponentsFlexibleColumnFormColumnInputColumnInputComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "ColumnInputComponent", function () {
      return ColumnInputComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");

    var ColumnInputComponent_1;
    let ColumnInputComponent = ColumnInputComponent_1 = class ColumnInputComponent {
      constructor() {
        this.onChange = _ => {};

        this.onTouched = () => {};
      }

      ngOnInit() {}

      updateChanges() {
        this.onChange(this.value);
      }
      /**
       * OVERRIDES
       */


      writeValue(value) {
        this.value = value;
        this.updateChanges();
      }

      registerOnChange(fn) {
        this.onChange = fn;
      }

      registerOnTouched(fn) {
        this.onTouched = fn;
      }

    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)], ColumnInputComponent.prototype, "label", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)], ColumnInputComponent.prototype, "type", void 0);
    ColumnInputComponent = ColumnInputComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-column-input',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./column-input.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/flexible-column-form/column-input/column-input.component.html")).default,
      providers: [{
        provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALUE_ACCESSOR"],
        useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(() => ColumnInputComponent_1),
        multi: true
      }],
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./column-input.component.scss */
      "./src/app/shared/components/flexible-column-form/column-input/column-input.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], ColumnInputComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/flexible-column-form/flexible-column-form.component.scss":
  /*!********************************************************************************************!*\
    !*** ./src/app/shared/components/flexible-column-form/flexible-column-form.component.scss ***!
    \********************************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsFlexibleColumnFormFlexibleColumnFormComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2ZsZXhpYmxlLWNvbHVtbi1mb3JtL2ZsZXhpYmxlLWNvbHVtbi1mb3JtLmNvbXBvbmVudC5zY3NzIn0= */";
    /***/
  },

  /***/
  "./src/app/shared/components/flexible-column-form/flexible-column-form.component.ts":
  /*!******************************************************************************************!*\
    !*** ./src/app/shared/components/flexible-column-form/flexible-column-form.component.ts ***!
    \******************************************************************************************/

  /*! exports provided: FlexibleColumnFormComponent */

  /***/
  function srcAppSharedComponentsFlexibleColumnFormFlexibleColumnFormComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "FlexibleColumnFormComponent", function () {
      return FlexibleColumnFormComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");

    var FlexibleColumnFormComponent_1;
    let FlexibleColumnFormComponent = FlexibleColumnFormComponent_1 = class FlexibleColumnFormComponent {
      constructor() {
        this.columns = [];
        this.values = [];

        this.onChange = _ => {};

        this.onTouched = () => {};
      }

      ngOnInit() {}

      get filteredValues() {
        return this.values.filter(v => v.value != null && v.value != undefined && v.value !== '');
      }

      updateChanges() {
        this.onChange(this.filteredValues);
      }

      format(columns) {
        const values = [];

        for (let i = 0; i < columns.length; i++) {
          values[i] = {
            column_id: columns[i].id,
            value: columns[i].value
          };
        }

        this.values = values;
      }
      /**
       * OVERRIDES
       */


      writeValue(values) {
        this.columns = values;
        this.format(values);
      }

      registerOnChange(fn) {
        this.onChange = fn;
      }

      registerOnTouched(fn) {
        this.onTouched = fn;
      }

    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)], FlexibleColumnFormComponent.prototype, "model", void 0);
    FlexibleColumnFormComponent = FlexibleColumnFormComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-flexible-column-form',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./flexible-column-form.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/flexible-column-form/flexible-column-form.component.html")).default,
      providers: [{
        provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALUE_ACCESSOR"],
        useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(() => FlexibleColumnFormComponent_1),
        multi: true
      }],
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./flexible-column-form.component.scss */
      "./src/app/shared/components/flexible-column-form/flexible-column-form.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], FlexibleColumnFormComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/header/header.component.scss":
  /*!****************************************************************!*\
    !*** ./src/app/shared/components/header/header.component.scss ***!
    \****************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsHeaderHeaderComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = ".logo {\n  width: 100%;\n}\n\n.navbar-light .navbar-nav .nav-link {\n  color: #757575;\n}\n\n.navbar-light .navbar-nav .nav-link:hover {\n  color: #e53935;\n}\n\nli.nav-item.dropdown:hover .dropdown-menu {\n  display: block;\n  margin: 0;\n}\n\nli.nav-item.dropdown a:hover {\n  color: #e53935;\n}\n\nli.nav-item.dropdown a:active {\n  background-color: #e0e0e0;\n}\n\nli.nav-item.dropdown a:target {\n  color: #e53935;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ha2hpbGJhbmRpL0Rlc2t0b3AvRGVzaWduIFByb2plY3Qvb2NraGFtLWZyb250ZW5kL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLFdBQUE7QUNERjs7QURJQTtFQUNFLGNBQUE7QUNERjs7QURJQTtFQUNFLGNBQUE7QUNERjs7QURLRTtFQUNFLGNBQUE7RUFDQSxTQUFBO0FDRko7O0FETUE7RUFDRSxjQUFBO0FDSEY7O0FETUE7RUFDRSx5QkFBQTtBQ0hGOztBRE1BO0VBQ0UsY0FBQTtBQ0hGIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi8uLi8uLi9hc3NldHMvc3R5bGUvY3VzdG9tLWNvbG9ycy5zY3NzXCI7XG5cbi5sb2dvIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5uYXZiYXItbGlnaHQgLm5hdmJhci1uYXYgLm5hdi1saW5rIHtcbiAgY29sb3I6IG1hcC1nZXQoJG9ja2hhbS1mcm9udGVuZC1ncmV5LCA2MDApO1xufVxuXG4ubmF2YmFyLWxpZ2h0IC5uYXZiYXItbmF2IC5uYXYtbGluazpob3ZlciB7XG4gIGNvbG9yOiBtYXAtZ2V0KCRvY2toYW0tZnJvbnRlbmQtcmVkLCA2MDApO1xufVxuXG5saS5uYXYtaXRlbS5kcm9wZG93bjpob3ZlciB7XG4gIC5kcm9wZG93bi1tZW51IHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW46IDA7XG4gIH1cbn1cblxubGkubmF2LWl0ZW0uZHJvcGRvd24gYTpob3ZlciB7XG4gIGNvbG9yOiBtYXAtZ2V0KCRvY2toYW0tZnJvbnRlbmQtcmVkLCA2MDApO1xufVxuXG5saS5uYXYtaXRlbS5kcm9wZG93biBhOmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IG1hcC1nZXQoJG9ja2hhbS1mcm9udGVuZC1ncmV5LCAzMDApO1xufVxuXG5saS5uYXYtaXRlbS5kcm9wZG93biBhOnRhcmdldCB7XG4gIGNvbG9yOiBtYXAtZ2V0KCRvY2toYW0tZnJvbnRlbmQtcmVkLCA2MDApO1xufVxuIiwiLmxvZ28ge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLm5hdmJhci1saWdodCAubmF2YmFyLW5hdiAubmF2LWxpbmsge1xuICBjb2xvcjogIzc1NzU3NTtcbn1cblxuLm5hdmJhci1saWdodCAubmF2YmFyLW5hdiAubmF2LWxpbms6aG92ZXIge1xuICBjb2xvcjogI2U1MzkzNTtcbn1cblxubGkubmF2LWl0ZW0uZHJvcGRvd246aG92ZXIgLmRyb3Bkb3duLW1lbnUge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luOiAwO1xufVxuXG5saS5uYXYtaXRlbS5kcm9wZG93biBhOmhvdmVyIHtcbiAgY29sb3I6ICNlNTM5MzU7XG59XG5cbmxpLm5hdi1pdGVtLmRyb3Bkb3duIGE6YWN0aXZlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UwZTBlMDtcbn1cblxubGkubmF2LWl0ZW0uZHJvcGRvd24gYTp0YXJnZXQge1xuICBjb2xvcjogI2U1MzkzNTtcbn0iXX0= */";
    /***/
  },

  /***/
  "./src/app/shared/components/header/header.component.ts":
  /*!**************************************************************!*\
    !*** ./src/app/shared/components/header/header.component.ts ***!
    \**************************************************************/

  /*! exports provided: HeaderComponent */

  /***/
  function srcAppSharedComponentsHeaderHeaderComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "HeaderComponent", function () {
      return HeaderComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! src/app/core/services/authentication.service */
    "./src/app/core/services/authentication.service.ts");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");

    let HeaderComponent = class HeaderComponent {
      constructor(authService, router) {
        this.authService = authService;
        this.router = router;
        this.headerTitles = [{
          title: 'Home',
          route: '',
          subTitles: []
        }, {
          title: 'Association',
          route: '/association',
          subTitles: [{
            name: 'Board',
            route: '/board'
          }, {
            name: 'Committees',
            route: '/committees'
          }, {
            name: 'Vision',
            route: '/vision'
          }, {
            name: 'Honorary Members',
            route: '/honorary_members'
          }, {
            name: 'Association Song',
            route: '/association_song'
          }, {
            name: 'Ockham\'s Razor',
            route: '/ockham_razor'
          }, {
            name: 'Statues and Rules of Procedure',
            route: '/statues_rules'
          }]
        }, {
          title: 'Activities',
          route: '/activities',
          subTitles: [{
            name: 'Activities Calendar',
            route: '/activities_calendar'
          }, {
            name: 'Photos Galleries',
            route: '/photo_galleries'
          }]
        }, {
          title: 'Companies',
          route: '/companies',
          subTitles: [{
            name: 'Thales',
            route: '/thales'
          }]
        }, {
          title: 'Contact',
          route: '/contact',
          subTitles: []
        }];
      }

      ngOnInit() {
        this.authService.getUser().subscribe(user => this.user = user);
      }

      logout() {
        this.authService.logout();
        this.router.navigate(['/auth/login']);
      }

    };

    HeaderComponent.ctorParameters = () => [{
      type: src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__["AuthenticationService"]
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]
    }];

    HeaderComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-header',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./header.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/header/header.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./header.component.scss */
      "./src/app/shared/components/header/header.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__["AuthenticationService"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])], HeaderComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/html-editor/html-editor.component.scss":
  /*!**************************************************************************!*\
    !*** ./src/app/shared/components/html-editor/html-editor.component.scss ***!
    \**************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsHtmlEditorHtmlEditorComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = ":host ::ng-deep .ck-editor__editable_inline {\n  min-height: 300px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ha2hpbGJhbmRpL0Rlc2t0b3AvRGVzaWduIFByb2plY3Qvb2NraGFtLWZyb250ZW5kL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvaHRtbC1lZGl0b3IvaHRtbC1lZGl0b3IuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2h0bWwtZWRpdG9yL2h0bWwtZWRpdG9yLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL2h0bWwtZWRpdG9yL2h0bWwtZWRpdG9yLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIC5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZSB7XG4gIG1pbi1oZWlnaHQ6IDMwMHB4O1xufSIsIjpob3N0IDo6bmctZGVlcCAuY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmUge1xuICBtaW4taGVpZ2h0OiAzMDBweDtcbn0iXX0= */";
    /***/
  },

  /***/
  "./src/app/shared/components/html-editor/html-editor.component.ts":
  /*!************************************************************************!*\
    !*** ./src/app/shared/components/html-editor/html-editor.component.ts ***!
    \************************************************************************/

  /*! exports provided: HtmlEditorComponent */

  /***/
  function srcAppSharedComponentsHtmlEditorHtmlEditorComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "HtmlEditorComponent", function () {
      return HtmlEditorComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");
    /* harmony import */


    var src_lib_ckeditor5_build_ckeditor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! src/lib/ckeditor5/build/ckeditor.js */
    "./src/lib/ckeditor5/build/ckeditor.js");
    /* harmony import */


    var src_lib_ckeditor5_build_ckeditor_js__WEBPACK_IMPORTED_MODULE_3___default =
    /*#__PURE__*/
    __webpack_require__.n(src_lib_ckeditor5_build_ckeditor_js__WEBPACK_IMPORTED_MODULE_3__);

    var HtmlEditorComponent_1;
    let HtmlEditorComponent = HtmlEditorComponent_1 = class HtmlEditorComponent {
      constructor() {
        this.value = '<h2>Hello, world!</h2>';
        this.editor = src_lib_ckeditor5_build_ckeditor_js__WEBPACK_IMPORTED_MODULE_3__;
        this.config = {
          toolbar: {
            items: ['heading', '|', 'bold', 'italic', 'underline', 'strikethrough', 'link', 'bulletedList', 'numberedList', '|', 'fontColor', 'fontSize', 'fontFamily', '|', 'alignment', 'indent', 'outdent', '|', 'imageUpload', 'blockQuote', 'insertTable', 'mediaEmbed', 'undo', 'redo']
          },
          language: 'en',
          image: {
            toolbar: ['imageTextAlternative', 'imageStyle:full', 'imageStyle:side']
          },
          table: {
            contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells']
          }
        };

        this.onChange = _ => {};

        this.onTouched = () => {};
      }

      ngOnInit() {}

      updateChanges() {
        this.onChange(this.value);
      }
      /**
       * OVERRIDES
       */


      writeValue(value) {
        this.value = value;
        this.updateChanges();
      }

      registerOnChange(fn) {
        this.onChange = fn;
      }

      registerOnTouched(fn) {
        this.onTouched = fn;
      }

    };
    HtmlEditorComponent = HtmlEditorComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-html-editor',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./html-editor.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/html-editor/html-editor.component.html")).default,
      providers: [{
        provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALUE_ACCESSOR"],
        useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(() => HtmlEditorComponent_1),
        multi: true
      }],
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./html-editor.component.scss */
      "./src/app/shared/components/html-editor/html-editor.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], HtmlEditorComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/member-search/member-search.component.scss":
  /*!******************************************************************************!*\
    !*** ./src/app/shared/components/member-search/member-search.component.scss ***!
    \******************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsMemberSearchMemberSearchComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL21lbWJlci1zZWFyY2gvbWVtYmVyLXNlYXJjaC5jb21wb25lbnQuc2NzcyJ9 */";
    /***/
  },

  /***/
  "./src/app/shared/components/member-search/member-search.component.ts":
  /*!****************************************************************************!*\
    !*** ./src/app/shared/components/member-search/member-search.component.ts ***!
    \****************************************************************************/

  /*! exports provided: MemberSearchComponent */

  /***/
  function srcAppSharedComponentsMemberSearchMemberSearchComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "MemberSearchComponent", function () {
      return MemberSearchComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! rxjs/operators */
    "./node_modules/rxjs/_esm2015/operators/index.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");
    /* harmony import */


    var src_app_core_services_member_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! src/app/core/services/member.service */
    "./src/app/core/services/member.service.ts");
    /* harmony import */


    var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! @angular/material/autocomplete */
    "./node_modules/@angular/material/esm2015/autocomplete.js");
    /* harmony import */


    var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! rxjs */
    "./node_modules/rxjs/_esm2015/index.js");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");

    let MemberSearchComponent = class MemberSearchComponent {
      constructor(memberService, router) {
        this.memberService = memberService;
        this.router = router;
        this.memberSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.searchCtrl = new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"]();
      }

      ngOnInit() {
        this.searchCtrl.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["debounceTime"])(800), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["distinctUntilChanged"])(), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["switchMap"])(value => {
          if (typeof value === 'string') {
            return this.memberService.getMembers(value);
          } else {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["of"])([]);
          }
        })).subscribe(filteredMembers => {
          this.filteredMembers = filteredMembers;
        });
      }

      onMemberSelect(event) {
        if (this.router.url.includes('committees')) {
          this.searchCtrl.setValue('', {
            emitEvent: false
          });
        } else {
          this.searchCtrl.setValue(event.option.value.email, {
            emitEvent: false
          });
        }

        this.memberSelected.emit(event.option.value);
      }

    };

    MemberSearchComponent.ctorParameters = () => [{
      type: src_app_core_services_member_service__WEBPACK_IMPORTED_MODULE_4__["MemberService"]
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"]
    }];

    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"])], MemberSearchComponent.prototype, "memberSelected", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('auto', {
      static: false
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_5__["MatAutocomplete"])], MemberSearchComponent.prototype, "autComplete", void 0);
    MemberSearchComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-member-search',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./member-search.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/member-search/member-search.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./member-search.component.scss */
      "./src/app/shared/components/member-search/member-search.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [src_app_core_services_member_service__WEBPACK_IMPORTED_MODULE_4__["MemberService"], _angular_router__WEBPACK_IMPORTED_MODULE_7__["Router"]])], MemberSearchComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/news-list/news-list.component.scss":
  /*!**********************************************************************!*\
    !*** ./src/app/shared/components/news-list/news-list.component.scss ***!
    \**********************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsNewsListNewsListComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL25ld3MtbGlzdC9uZXdzLWxpc3QuY29tcG9uZW50LnNjc3MifQ== */";
    /***/
  },

  /***/
  "./src/app/shared/components/news-list/news-list.component.ts":
  /*!********************************************************************!*\
    !*** ./src/app/shared/components/news-list/news-list.component.ts ***!
    \********************************************************************/

  /*! exports provided: NewsListComponent */

  /***/
  function srcAppSharedComponentsNewsListNewsListComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "NewsListComponent", function () {
      return NewsListComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let NewsListComponent = class NewsListComponent {};
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)], NewsListComponent.prototype, "newsList", void 0);
    NewsListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-news-list',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./news-list.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/news-list/news-list.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./news-list.component.scss */
      "./src/app/shared/components/news-list/news-list.component.scss")).default]
    })], NewsListComponent);
    /***/
  },

  /***/
  "./src/app/shared/components/pagination-table/pagination-table.component.scss":
  /*!************************************************************************************!*\
    !*** ./src/app/shared/components/pagination-table/pagination-table.component.scss ***!
    \************************************************************************************/

  /*! exports provided: default */

  /***/
  function srcAppSharedComponentsPaginationTablePaginationTableComponentScss(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony default export */


    __webpack_exports__["default"] = "th {\n  white-space: nowrap;\n}\n\na {\n  color: white !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9ha2hpbGJhbmRpL0Rlc2t0b3AvRGVzaWduIFByb2plY3Qvb2NraGFtLWZyb250ZW5kL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvcGFnaW5hdGlvbi10YWJsZS9wYWdpbmF0aW9uLXRhYmxlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9zaGFyZWQvY29tcG9uZW50cy9wYWdpbmF0aW9uLXRhYmxlL3BhZ2luYXRpb24tdGFibGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtBQ0NGOztBREVBO0VBQ0UsdUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb21wb25lbnRzL3BhZ2luYXRpb24tdGFibGUvcGFnaW5hdGlvbi10YWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRoIHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuYSB7XG4gIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufSIsInRoIHtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuYSB7XG4gIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufSJdfQ== */";
    /***/
  },

  /***/
  "./src/app/shared/components/pagination-table/pagination-table.component.ts":
  /*!**********************************************************************************!*\
    !*** ./src/app/shared/components/pagination-table/pagination-table.component.ts ***!
    \**********************************************************************************/

  /*! exports provided: PaginationTableComponent */

  /***/
  function srcAppSharedComponentsPaginationTablePaginationTableComponentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "PaginationTableComponent", function () {
      return PaginationTableComponent;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! lodash */
    "./node_modules/lodash/lodash.js");
    /* harmony import */


    var lodash__WEBPACK_IMPORTED_MODULE_2___default =
    /*#__PURE__*/
    __webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);

    let PaginationTableComponent = class PaginationTableComponent {
      constructor() {
        this.get = lodash__WEBPACK_IMPORTED_MODULE_2__["get"];
        this.pagination = true;
        this.paginationSize = 10;
        this.showActionColumn = false;
        this.columnDefs = [];
        this.showArchiveButton = false;
        this.edit = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.delete = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.archive = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.paginationPage = 0;
      }

      ngOnInit() {}

      hasColumnDef(key) {
        return this.getColumnDef(key) !== undefined;
      }

      getColumnDef(key) {
        return this.columnDefs.find(c => c.key === key);
      }

      onEdit(row) {
        this.edit.emit(row);
      }

      onDelete(row) {
        this.delete.emit(row);
      }

      onArchive(row) {
        this.archive.emit(row);
      }

    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)], PaginationTableComponent.prototype, "data", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)], PaginationTableComponent.prototype, "headers", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)], PaginationTableComponent.prototype, "keys", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], PaginationTableComponent.prototype, "pagination", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], PaginationTableComponent.prototype, "paginationSize", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], PaginationTableComponent.prototype, "showActionColumn", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)], PaginationTableComponent.prototype, "columnDefs", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], PaginationTableComponent.prototype, "showArchiveButton", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], PaginationTableComponent.prototype, "edit", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], PaginationTableComponent.prototype, "delete", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)], PaginationTableComponent.prototype, "archive", void 0);
    PaginationTableComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
      selector: 'app-pagination-table',
      template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! raw-loader!./pagination-table.component.html */
      "./node_modules/raw-loader/dist/cjs.js!./src/app/shared/components/pagination-table/pagination-table.component.html")).default,
      styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(
      /*! ./pagination-table.component.scss */
      "./src/app/shared/components/pagination-table/pagination-table.component.scss")).default]
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], PaginationTableComponent);
    /***/
  },

  /***/
  "./src/app/shared/directives/authentication.directive.ts":
  /*!***************************************************************!*\
    !*** ./src/app/shared/directives/authentication.directive.ts ***!
    \***************************************************************/

  /*! exports provided: AuthenticationDirective */

  /***/
  function srcAppSharedDirectivesAuthenticationDirectiveTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "AuthenticationDirective", function () {
      return AuthenticationDirective;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! src/app/core/services/authentication.service */
    "./src/app/core/services/authentication.service.ts");

    let AuthenticationDirective = class AuthenticationDirective {
      constructor(templateRef, authenticationService, viewContainer) {
        this.templateRef = templateRef;
        this.authenticationService = authenticationService;
        this.viewContainer = viewContainer;
      }

      set showIfAuthed(condition) {
        this.condition = condition;
      }

      ngOnInit() {
        this.isAuthenticated();
      }

      isAuthenticated() {
        this.authenticationService.isAuthenticatedObs().subscribe(authed => {
          if (authed && this.condition || !authed && !this.condition) {
            if (this.viewContainer.length == 0) {
              this.viewContainer.createEmbeddedView(this.templateRef);
            }
          } else {
            this.viewContainer.clear();
          }
        });
      }

    };

    AuthenticationDirective.ctorParameters = () => [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"]
    }, {
      type: src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__["AuthenticationService"]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]
    }];

    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Boolean), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [Boolean])], AuthenticationDirective.prototype, "showIfAuthed", null);
    AuthenticationDirective = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
      selector: '[showIfAuthed]'
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"], src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__["AuthenticationService"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]])], AuthenticationDirective);
    /***/
  },

  /***/
  "./src/app/shared/directives/role.directive.ts":
  /*!*****************************************************!*\
    !*** ./src/app/shared/directives/role.directive.ts ***!
    \*****************************************************/

  /*! exports provided: RoleDirective */

  /***/
  function srcAppSharedDirectivesRoleDirectiveTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "RoleDirective", function () {
      return RoleDirective;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! src/app/core/services/authentication.service */
    "./src/app/core/services/authentication.service.ts");

    let RoleDirective = class RoleDirective {
      constructor(templateRef, authService, viewContainer) {
        this.templateRef = templateRef;
        this.authService = authService;
        this.viewContainer = viewContainer;
      }

      set showIfRole(role) {
        this.role = role;
      }

      ngOnInit() {
        this.hasRequiredRole();
      }

      hasRequiredRole() {
        if (this.authService.hasRole(this.role)) {
          this.viewContainer.createEmbeddedView(this.templateRef);
        } else {
          this.viewContainer.clear();
        }
      }

    };

    RoleDirective.ctorParameters = () => [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"]
    }, {
      type: src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__["AuthenticationService"]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]
    }];

    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [String])], RoleDirective.prototype, "showIfRole", null);
    RoleDirective = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"])({
      selector: '[showIfRole]'
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["TemplateRef"], src_app_core_services_authentication_service__WEBPACK_IMPORTED_MODULE_2__["AuthenticationService"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"]])], RoleDirective);
    /***/
  },

  /***/
  "./src/app/shared/material/material.module.ts":
  /*!****************************************************!*\
    !*** ./src/app/shared/material/material.module.ts ***!
    \****************************************************/

  /*! exports provided: MaterialModule */

  /***/
  function srcAppSharedMaterialMaterialModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "MaterialModule", function () {
      return MaterialModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_material_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/material/input */
    "./node_modules/@angular/material/esm2015/input.js");
    /* harmony import */


    var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! @angular/material/datepicker */
    "./node_modules/@angular/material/esm2015/datepicker.js");
    /* harmony import */


    var _angular_material_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! @angular/material/core */
    "./node_modules/@angular/material/esm2015/core.js");
    /* harmony import */


    var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! @angular/material/expansion */
    "./node_modules/@angular/material/esm2015/expansion.js");
    /* harmony import */


    var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! @angular/material/tabs */
    "./node_modules/@angular/material/esm2015/tabs.js");
    /* harmony import */


    var _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! @angular/material/autocomplete */
    "./node_modules/@angular/material/esm2015/autocomplete.js");

    let MaterialModule = class MaterialModule {};
    MaterialModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
      declarations: [],
      imports: [_angular_material_input__WEBPACK_IMPORTED_MODULE_2__["MatInputModule"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_3__["MatDatepickerModule"], _angular_material_core__WEBPACK_IMPORTED_MODULE_4__["MatNativeDateModule"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_5__["MatExpansionModule"], _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__["MatTabsModule"], _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_7__["MatAutocompleteModule"]],
      exports: [_angular_material_input__WEBPACK_IMPORTED_MODULE_2__["MatInputModule"], _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_3__["MatDatepickerModule"], _angular_material_core__WEBPACK_IMPORTED_MODULE_4__["MatNativeDateModule"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_5__["MatExpansionModule"], _angular_material_tabs__WEBPACK_IMPORTED_MODULE_6__["MatTabsModule"], _angular_material_autocomplete__WEBPACK_IMPORTED_MODULE_7__["MatAutocompleteModule"]]
    })], MaterialModule);
    /***/
  },

  /***/
  "./src/app/shared/pipes/cents-to-eur.pipe.ts":
  /*!***************************************************!*\
    !*** ./src/app/shared/pipes/cents-to-eur.pipe.ts ***!
    \***************************************************/

  /*! exports provided: CentsToEurPipe */

  /***/
  function srcAppSharedPipesCentsToEurPipeTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "CentsToEurPipe", function () {
      return CentsToEurPipe;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let CentsToEurPipe = class CentsToEurPipe {
      transform(value) {
        return value / 100;
      }

    };
    CentsToEurPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
      name: 'centsToEur'
    })], CentsToEurPipe);
    /***/
  },

  /***/
  "./src/app/shared/pipes/eur-to-cents.pipe.ts":
  /*!***************************************************!*\
    !*** ./src/app/shared/pipes/eur-to-cents.pipe.ts ***!
    \***************************************************/

  /*! exports provided: EurToCentsPipe */

  /***/
  function srcAppSharedPipesEurToCentsPipeTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "EurToCentsPipe", function () {
      return EurToCentsPipe;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let EurToCentsPipe = class EurToCentsPipe {
      transform(value) {
        return value * 100;
      }

    };
    EurToCentsPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
      name: 'eurToCents'
    })], EurToCentsPipe);
    /***/
  },

  /***/
  "./src/app/shared/pipes/html-to-text.pipe.ts":
  /*!***************************************************!*\
    !*** ./src/app/shared/pipes/html-to-text.pipe.ts ***!
    \***************************************************/

  /*! exports provided: HtmlToTextPipe */

  /***/
  function srcAppSharedPipesHtmlToTextPipeTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "HtmlToTextPipe", function () {
      return HtmlToTextPipe;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let HtmlToTextPipe = class HtmlToTextPipe {
      transform(value) {
        return value.replace(/<[^>]+>/gm, ' ');
      }

    };
    HtmlToTextPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
      name: 'htmlToText'
    })], HtmlToTextPipe);
    /***/
  },

  /***/
  "./src/app/shared/pipes/snake-case-to-text.pipe.ts":
  /*!*********************************************************!*\
    !*** ./src/app/shared/pipes/snake-case-to-text.pipe.ts ***!
    \*********************************************************/

  /*! exports provided: SnakeCaseToTextPipe */

  /***/
  function srcAppSharedPipesSnakeCaseToTextPipeTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "SnakeCaseToTextPipe", function () {
      return SnakeCaseToTextPipe;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");

    let SnakeCaseToTextPipe = class SnakeCaseToTextPipe {
      transform(value) {
        const val = value.split('_').join(' ');
        return val.charAt(0).toUpperCase() + val.substring(1);
      }

    };
    SnakeCaseToTextPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
      name: 'snakeCaseToText'
    })], SnakeCaseToTextPipe);
    /***/
  },

  /***/
  "./src/app/shared/services/option-control.service.ts":
  /*!***********************************************************!*\
    !*** ./src/app/shared/services/option-control.service.ts ***!
    \***********************************************************/

  /*! exports provided: OptionControlService */

  /***/
  function srcAppSharedServicesOptionControlServiceTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "OptionControlService", function () {
      return OptionControlService;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");

    let OptionControlService = class OptionControlService {
      constructor() {}

      toFormGroup(questions) {
        let group = {};
        questions.forEach(option => {
          group[option.id] = option.required ? new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required) : new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('');
        });
        return new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"](group);
      }

      fillForm(options, form) {
        options.forEach(option => {
          form.setControl(option.id ? option.id.toString() : option.option_id.toString(), option.id ? new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('') : new _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"](option.answer));
        });
      }
      /*
        param: data
        Gets an object with key as option id and value
        as the answer to that option_id.
      */


      toOptionAnswersArray(data) {
        const answers = [];

        for (let key in data) {
          answers.push({
            option_id: key,
            answer: data[key]
          });
        }

        return answers;
      }

    };
    OptionControlService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
      providedIn: 'root'
    }), tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])], OptionControlService);
    /***/
  },

  /***/
  "./src/app/shared/shared.module.ts":
  /*!*****************************************!*\
    !*** ./src/app/shared/shared.module.ts ***!
    \*****************************************/

  /*! exports provided: SharedModule */

  /***/
  function srcAppSharedSharedModuleTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "SharedModule", function () {
      return SharedModule;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/common */
    "./node_modules/@angular/common/fesm2015/common.js");
    /* harmony import */


    var _components_activity_helpers_activity_list_activity_list_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./components/activity-helpers/activity-list/activity-list.component */
    "./src/app/shared/components/activity-helpers/activity-list/activity-list.component.ts");
    /* harmony import */


    var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! @angular/flex-layout */
    "./node_modules/@angular/flex-layout/esm2015/flex-layout.js");
    /* harmony import */


    var _components_news_list_news_list_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
    /*! ./components/news-list/news-list.component */
    "./src/app/shared/components/news-list/news-list.component.ts");
    /* harmony import */


    var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
    /*! @angular/router */
    "./node_modules/@angular/router/fesm2015/router.js");
    /* harmony import */


    var _directives_authentication_directive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
    /*! ./directives/authentication.directive */
    "./src/app/shared/directives/authentication.directive.ts");
    /* harmony import */


    var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
    /*! @ng-bootstrap/ng-bootstrap */
    "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
    /* harmony import */


    var _angular_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
    /*! @angular/forms */
    "./node_modules/@angular/forms/fesm2015/forms.js");
    /* harmony import */


    var _components_pagination_table_pagination_table_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
    /*! ./components/pagination-table/pagination-table.component */
    "./src/app/shared/components/pagination-table/pagination-table.component.ts");
    /* harmony import */


    var _directives_role_directive__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(
    /*! ./directives/role.directive */
    "./src/app/shared/directives/role.directive.ts");
    /* harmony import */


    var _ckeditor_ckeditor5_angular__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(
    /*! @ckeditor/ckeditor5-angular */
    "./node_modules/@ckeditor/ckeditor5-angular/fesm2015/ckeditor-ckeditor5-angular.js");
    /* harmony import */


    var _components_buttons_arrow_back_arrow_back_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(
    /*! ./components/buttons/arrow-back/arrow-back.component */
    "./src/app/shared/components/buttons/arrow-back/arrow-back.component.ts");
    /* harmony import */


    var _components_header_header_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(
    /*! ./components/header/header.component */
    "./src/app/shared/components/header/header.component.ts");
    /* harmony import */


    var _material_material_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(
    /*! ./material/material.module */
    "./src/app/shared/material/material.module.ts");
    /* harmony import */


    var _components_delete_modal_delete_modal_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(
    /*! ./components/delete-modal/delete-modal.component */
    "./src/app/shared/components/delete-modal/delete-modal.component.ts");
    /* harmony import */


    var _pipes_snake_case_to_text_pipe__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(
    /*! ./pipes/snake-case-to-text.pipe */
    "./src/app/shared/pipes/snake-case-to-text.pipe.ts");
    /* harmony import */


    var _components_flexible_column_form_flexible_column_form_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(
    /*! ./components/flexible-column-form/flexible-column-form.component */
    "./src/app/shared/components/flexible-column-form/flexible-column-form.component.ts");
    /* harmony import */


    var _components_flexible_column_form_column_input_column_input_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(
    /*! ./components/flexible-column-form/column-input/column-input.component */
    "./src/app/shared/components/flexible-column-form/column-input/column-input.component.ts");
    /* harmony import */


    var _components_activity_helpers_option_input_type_option_input_type_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(
    /*! ./components/activity-helpers/option-input-type/option-input-type.component */
    "./src/app/shared/components/activity-helpers/option-input-type/option-input-type.component.ts");
    /* harmony import */


    var ng_pick_datetime__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(
    /*! ng-pick-datetime */
    "./node_modules/ng-pick-datetime/picker.js");
    /* harmony import */


    var _components_activity_helpers_activity_registration_form_activity_registration_form_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(
    /*! ./components/activity-helpers/activity-registration-form/activity-registration-form.component */
    "./src/app/shared/components/activity-helpers/activity-registration-form/activity-registration-form.component.ts");
    /* harmony import */


    var _components_member_search_member_search_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(
    /*! ./components/member-search/member-search.component */
    "./src/app/shared/components/member-search/member-search.component.ts");
    /* harmony import */


    var _components_activity_helpers_activity_meta_activity_meta_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(
    /*! ./components/activity-helpers/activity-meta/activity-meta.component */
    "./src/app/shared/components/activity-helpers/activity-meta/activity-meta.component.ts");
    /* harmony import */


    var _pipes_cents_to_eur_pipe__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(
    /*! ./pipes/cents-to-eur.pipe */
    "./src/app/shared/pipes/cents-to-eur.pipe.ts");
    /* harmony import */


    var _components_activity_helpers_register_modal_register_modal_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(
    /*! ./components/activity-helpers/register-modal/register-modal.component */
    "./src/app/shared/components/activity-helpers/register-modal/register-modal.component.ts");
    /* harmony import */


    var _components_html_editor_html_editor_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(
    /*! ./components/html-editor/html-editor.component */
    "./src/app/shared/components/html-editor/html-editor.component.ts");
    /* harmony import */


    var _pipes_html_to_text_pipe__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(
    /*! ./pipes/html-to-text.pipe */
    "./src/app/shared/pipes/html-to-text.pipe.ts");
    /* harmony import */


    var _pipes_eur_to_cents_pipe__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(
    /*! ./pipes/eur-to-cents.pipe */
    "./src/app/shared/pipes/eur-to-cents.pipe.ts");

    let SharedModule = class SharedModule {};
    SharedModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
      declarations: [_components_activity_helpers_activity_list_activity_list_component__WEBPACK_IMPORTED_MODULE_3__["ActivityListComponent"], _components_news_list_news_list_component__WEBPACK_IMPORTED_MODULE_5__["NewsListComponent"], _directives_authentication_directive__WEBPACK_IMPORTED_MODULE_7__["AuthenticationDirective"], _components_pagination_table_pagination_table_component__WEBPACK_IMPORTED_MODULE_10__["PaginationTableComponent"], _directives_role_directive__WEBPACK_IMPORTED_MODULE_11__["RoleDirective"], _components_buttons_arrow_back_arrow_back_component__WEBPACK_IMPORTED_MODULE_13__["ArrowBackComponent"], _components_header_header_component__WEBPACK_IMPORTED_MODULE_14__["HeaderComponent"], _components_delete_modal_delete_modal_component__WEBPACK_IMPORTED_MODULE_16__["DeleteModalComponent"], _pipes_snake_case_to_text_pipe__WEBPACK_IMPORTED_MODULE_17__["SnakeCaseToTextPipe"], _components_flexible_column_form_column_input_column_input_component__WEBPACK_IMPORTED_MODULE_19__["ColumnInputComponent"], _components_flexible_column_form_flexible_column_form_component__WEBPACK_IMPORTED_MODULE_18__["FlexibleColumnFormComponent"], _components_activity_helpers_option_input_type_option_input_type_component__WEBPACK_IMPORTED_MODULE_20__["OptionInputTypeComponent"], _components_activity_helpers_activity_registration_form_activity_registration_form_component__WEBPACK_IMPORTED_MODULE_22__["ActivityRegistrationFormComponent"], _components_member_search_member_search_component__WEBPACK_IMPORTED_MODULE_23__["MemberSearchComponent"], _components_activity_helpers_activity_meta_activity_meta_component__WEBPACK_IMPORTED_MODULE_24__["ActivityMetaComponent"], _pipes_cents_to_eur_pipe__WEBPACK_IMPORTED_MODULE_25__["CentsToEurPipe"], _components_activity_helpers_register_modal_register_modal_component__WEBPACK_IMPORTED_MODULE_26__["RegisterModalComponent"], _components_html_editor_html_editor_component__WEBPACK_IMPORTED_MODULE_27__["HtmlEditorComponent"], _pipes_html_to_text_pipe__WEBPACK_IMPORTED_MODULE_28__["HtmlToTextPipe"], _pipes_eur_to_cents_pipe__WEBPACK_IMPORTED_MODULE_29__["EurToCentsPipe"]],
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["FlexLayoutModule"], _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterModule"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__["NgbPaginationModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_9__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_9__["ReactiveFormsModule"], ng_pick_datetime__WEBPACK_IMPORTED_MODULE_21__["OwlDateTimeModule"], ng_pick_datetime__WEBPACK_IMPORTED_MODULE_21__["OwlNativeDateTimeModule"], _material_material_module__WEBPACK_IMPORTED_MODULE_15__["MaterialModule"], _ckeditor_ckeditor5_angular__WEBPACK_IMPORTED_MODULE_12__["CKEditorModule"]],
      exports: [_components_activity_helpers_activity_list_activity_list_component__WEBPACK_IMPORTED_MODULE_3__["ActivityListComponent"], _components_news_list_news_list_component__WEBPACK_IMPORTED_MODULE_5__["NewsListComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"], _angular_flex_layout__WEBPACK_IMPORTED_MODULE_4__["FlexLayoutModule"], _directives_authentication_directive__WEBPACK_IMPORTED_MODULE_7__["AuthenticationDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_9__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_9__["ReactiveFormsModule"], _components_pagination_table_pagination_table_component__WEBPACK_IMPORTED_MODULE_10__["PaginationTableComponent"], _directives_role_directive__WEBPACK_IMPORTED_MODULE_11__["RoleDirective"], _components_buttons_arrow_back_arrow_back_component__WEBPACK_IMPORTED_MODULE_13__["ArrowBackComponent"], _components_header_header_component__WEBPACK_IMPORTED_MODULE_14__["HeaderComponent"], _material_material_module__WEBPACK_IMPORTED_MODULE_15__["MaterialModule"], _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_8__["NgbModalModule"], _pipes_snake_case_to_text_pipe__WEBPACK_IMPORTED_MODULE_17__["SnakeCaseToTextPipe"], _pipes_cents_to_eur_pipe__WEBPACK_IMPORTED_MODULE_25__["CentsToEurPipe"], _components_flexible_column_form_flexible_column_form_component__WEBPACK_IMPORTED_MODULE_18__["FlexibleColumnFormComponent"], _components_activity_helpers_option_input_type_option_input_type_component__WEBPACK_IMPORTED_MODULE_20__["OptionInputTypeComponent"], ng_pick_datetime__WEBPACK_IMPORTED_MODULE_21__["OwlDateTimeModule"], ng_pick_datetime__WEBPACK_IMPORTED_MODULE_21__["OwlNativeDateTimeModule"], _components_activity_helpers_activity_registration_form_activity_registration_form_component__WEBPACK_IMPORTED_MODULE_22__["ActivityRegistrationFormComponent"], _components_member_search_member_search_component__WEBPACK_IMPORTED_MODULE_23__["MemberSearchComponent"], _components_activity_helpers_activity_meta_activity_meta_component__WEBPACK_IMPORTED_MODULE_24__["ActivityMetaComponent"], _components_html_editor_html_editor_component__WEBPACK_IMPORTED_MODULE_27__["HtmlEditorComponent"], _pipes_html_to_text_pipe__WEBPACK_IMPORTED_MODULE_28__["HtmlToTextPipe"]],
      providers: [{
        provide: ng_pick_datetime__WEBPACK_IMPORTED_MODULE_21__["OWL_DATE_TIME_LOCALE"],
        useValue: 'en-GB'
      }, _pipes_html_to_text_pipe__WEBPACK_IMPORTED_MODULE_28__["HtmlToTextPipe"]],
      entryComponents: [_components_delete_modal_delete_modal_component__WEBPACK_IMPORTED_MODULE_16__["DeleteModalComponent"], _components_activity_helpers_register_modal_register_modal_component__WEBPACK_IMPORTED_MODULE_26__["RegisterModalComponent"]]
    })], SharedModule);
    /***/
  },

  /***/
  "./src/environments/environment.ts":
  /*!*****************************************!*\
    !*** ./src/environments/environment.ts ***!
    \*****************************************/

  /*! exports provided: environment */

  /***/
  function srcEnvironmentsEnvironmentTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony export (binding) */


    __webpack_require__.d(__webpack_exports__, "environment", function () {
      return environment;
    });
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js"); // This file can be replaced during build by using the `fileReplacements` array.
    // `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
    // The list of file replacements can be found in `angular.json`.


    const environment = {
      production: false
    };
    /*
     * For easier debugging in development mode, you can import the following file
     * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
     *
     * This import should be commented out in production mode because it will have a negative impact
     * on performance if an error is thrown.
     */
    // import 'zone.js/dist/zone-error';  // Included with Angular CLI.

    /***/
  },

  /***/
  "./src/lib/ckeditor5/build/ckeditor.js":
  /*!*********************************************!*\
    !*** ./src/lib/ckeditor5/build/ckeditor.js ***!
    \*********************************************/

  /*! no static exports found */

  /***/
  function srcLibCkeditor5BuildCkeditorJs(module, exports, __webpack_require__) {
    var __importDefault = this && this.__importDefault || function (mod) {
      return mod && mod.__esModule ? mod : {
        "default": mod
      };
    };
    /*!
     * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
     * For licensing, see LICENSE.md.
     */


    (function (t) {
      t["en"] = Object.assign(t["en"] || {}, {
        a: "Image toolbar",
        b: "Media toolbar",
        c: "Table toolbar",
        d: "Block quote",
        e: "Choose heading",
        f: "Heading",
        g: "Increase indent",
        h: "Decrease indent",
        i: "Link",
        j: "Numbered List",
        k: "Bulleted List",
        l: "media widget",
        m: "Insert media",
        n: "The URL must not be empty.",
        o: "This media URL is not supported.",
        p: "Insert table",
        q: "Header column",
        r: "Insert column left",
        s: "Insert column right",
        t: "Delete column",
        u: "Column",
        v: "Header row",
        w: "Insert row below",
        x: "Insert row above",
        y: "Delete row",
        z: "Row",
        aa: "Merge cell up",
        ab: "Merge cell right",
        ac: "Merge cell down",
        ad: "Merge cell left",
        ae: "Split cell vertically",
        af: "Split cell horizontally",
        ag: "Merge cells",
        ah: "Align left",
        ai: "Align right",
        aj: "Align center",
        ak: "Justify",
        al: "Text alignment",
        am: "Text alignment toolbar",
        an: "Bold",
        ao: "Italic",
        ap: "Strikethrough",
        aq: "Underline",
        ar: "image widget",
        as: "Enter image caption",
        at: "Full size image",
        au: "Side image",
        av: "Left aligned image",
        aw: "Centered image",
        ax: "Right aligned image",
        ay: "Insert image",
        az: "Upload failed",
        ba: "Font Color",
        bb: "Font Size",
        bc: "Default",
        bd: "Tiny",
        be: "Small",
        bf: "Big",
        bg: "Huge",
        bh: "Font Family",
        bi: "Widget toolbar",
        bj: "Upload in progress",
        bk: "Change image text alternative",
        bl: "Remove color",
        bm: "Document colors",
        bn: "Editor toolbar",
        bo: "Show more items",
        bp: "Rich Text Editor",
        bq: "Rich Text Editor, %0",
        br: "Dropdown toolbar",
        bs: "Undo",
        bt: "Redo",
        bu: "%0 of %1",
        bv: "Previous",
        bw: "Next",
        bx: "Save",
        by: "Cancel",
        bz: "Text alternative",
        ca: "Black",
        cb: "Dim grey",
        cc: "Grey",
        cd: "Light grey",
        ce: "White",
        cf: "Red",
        cg: "Orange",
        ch: "Yellow",
        ci: "Light green",
        cj: "Green",
        ck: "Aquamarine",
        cl: "Turquoise",
        cm: "Light blue",
        cn: "Blue",
        co: "Purple",
        cp: "Paste the media URL in the input.",
        cq: "Tip: Paste the URL into the content to embed faster.",
        cr: "Media URL",
        cs: "Open in a new tab",
        ct: "Downloadable",
        cu: "Unlink",
        cv: "Edit link",
        cw: "Open link in new tab",
        cx: "This link has no URL",
        cy: "Link URL",
        cz: "Paragraph",
        da: "Heading 1",
        db: "Heading 2",
        dc: "Heading 3",
        dd: "Heading 4",
        de: "Heading 5",
        df: "Heading 6"
      });
    })(window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {}));

    (function t(e, n) {
      if (true) module.exports = n();else {}
    })(window, function () {
      return function (t) {
        var e = {};

        function n(i) {
          if (e[i]) {
            return e[i].exports;
          }

          var o = e[i] = {
            i: i,
            l: false,
            exports: {}
          };
          t[i].call(o.exports, o, o.exports, n);
          o.l = true;
          return o.exports;
        }

        n.m = t;
        n.c = e;

        n.d = function (t, e, i) {
          if (!n.o(t, e)) {
            Object.defineProperty(t, e, {
              enumerable: true,
              get: i
            });
          }
        };

        n.r = function (t) {
          if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
            Object.defineProperty(t, Symbol.toStringTag, {
              value: "Module"
            });
          }

          Object.defineProperty(t, "__esModule", {
            value: true
          });
        };

        n.t = function (t, e) {
          if (e & 1) t = n(t);
          if (e & 8) return t;
          if (e & 4 && typeof t === "object" && t && t.__esModule) return t;
          var i = Object.create(null);
          n.r(i);
          Object.defineProperty(i, "default", {
            enumerable: true,
            value: t
          });
          if (e & 2 && typeof t != "string") for (var o in t) n.d(i, o, function (e) {
            return t[e];
          }.bind(null, o));
          return i;
        };

        n.n = function (t) {
          var e = t && t.__esModule ? function e() {
            return t["default"];
          } : function e() {
            return t;
          };
          n.d(e, "a", e);
          return e;
        };

        n.o = function (t, e) {
          return Object.prototype.hasOwnProperty.call(t, e);
        };

        n.p = "";
        return n(n.s = 100);
      }([function (t, e, n) {
        "use strict";

        n.d(e, "b", function () {
          return o;
        });
        n.d(e, "a", function () {
          return s;
        });
        const i = "https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";

        class o extends Error {
          constructor(t, e, n) {
            t = s(t);

            if (n) {
              t += " " + JSON.stringify(n);
            }

            super(t);
            this.name = "CKEditorError";
            this.context = e;
            this.data = n;
          }

          is(t) {
            return t === "CKEditorError";
          }

          static rethrowUnexpectedError(t, e) {
            if (t.is && t.is("CKEditorError")) {
              throw t;
            }

            const n = new o(t.message, e);
            n.stack = t.stack;
            throw n;
          }

        }

        function s(t) {
          const e = t.match(/^([^:]+):/);

          if (!e) {
            return t;
          }

          return t + " Read more: ".concat(i, "#error-").concat(e[1], "\n");
        }
      }, function (t, e, n) {
        "use strict";

        var i = function t() {
          var e;
          return function t() {
            if (typeof e === "undefined") {
              e = Boolean(window && document && document.all && !window.atob);
            }

            return e;
          };
        }();

        var o = function t() {
          var e = {};
          return function t(n) {
            if (typeof e[n] === "undefined") {
              var i = document.querySelector(n);

              if (window.HTMLIFrameElement && i instanceof window.HTMLIFrameElement) {
                try {
                  i = i.contentDocument.head;
                } catch (t) {
                  i = null;
                }
              }

              e[n] = i;
            }

            return e[n];
          };
        }();

        var s = [];

        function r(t) {
          var e = -1;

          for (var n = 0; n < s.length; n++) {
            if (s[n].identifier === t) {
              e = n;
              break;
            }
          }

          return e;
        }

        function a(t, e) {
          var n = {};
          var i = [];

          for (var o = 0; o < t.length; o++) {
            var a = t[o];
            var c = e.base ? a[0] + e.base : a[0];
            var l = n[c] || 0;
            var d = "".concat(c, " ").concat(l);
            n[c] = l + 1;
            var u = r(d);
            var h = {
              css: a[1],
              media: a[2],
              sourceMap: a[3]
            };

            if (u !== -1) {
              s[u].references++;
              s[u].updater(h);
            } else {
              s.push({
                identifier: d,
                updater: g(h, e),
                references: 1
              });
            }

            i.push(d);
          }

          return i;
        }

        function c(t) {
          var e = document.createElement("style");
          var i = t.attributes || {};

          if (typeof i.nonce === "undefined") {
            var s = true ? n.nc : undefined;

            if (s) {
              i.nonce = s;
            }
          }

          Object.keys(i).forEach(function (t) {
            e.setAttribute(t, i[t]);
          });

          if (typeof t.insert === "function") {
            t.insert(e);
          } else {
            var r = o(t.insert || "head");

            if (!r) {
              throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            }

            r.appendChild(e);
          }

          return e;
        }

        function l(t) {
          if (t.parentNode === null) {
            return false;
          }

          t.parentNode.removeChild(t);
        }

        var d = function t() {
          var e = [];
          return function t(n, i) {
            e[n] = i;
            return e.filter(Boolean).join("\n");
          };
        }();

        function u(t, e, n, i) {
          var o = n ? "" : i.media ? "@media ".concat(i.media, " {").concat(i.css, "}") : i.css;

          if (t.styleSheet) {
            t.styleSheet.cssText = d(e, o);
          } else {
            var s = document.createTextNode(o);
            var r = t.childNodes;

            if (r[e]) {
              t.removeChild(r[e]);
            }

            if (r.length) {
              t.insertBefore(s, r[e]);
            } else {
              t.appendChild(s);
            }
          }
        }

        function h(t, e, n) {
          var i = n.css;
          var o = n.media;
          var s = n.sourceMap;

          if (o) {
            t.setAttribute("media", o);
          } else {
            t.removeAttribute("media");
          }

          if (s && btoa) {
            i += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s)))), " */");
          }

          if (t.styleSheet) {
            t.styleSheet.cssText = i;
          } else {
            while (t.firstChild) {
              t.removeChild(t.firstChild);
            }

            t.appendChild(document.createTextNode(i));
          }
        }

        var f = null;
        var m = 0;

        function g(t, e) {
          var n;
          var i;
          var o;

          if (e.singleton) {
            var s = m++;
            n = f || (f = c(e));
            i = u.bind(null, n, s, false);
            o = u.bind(null, n, s, true);
          } else {
            n = c(e);
            i = h.bind(null, n, e);

            o = function t() {
              l(n);
            };
          }

          i(t);
          return function e(n) {
            if (n) {
              if (n.css === t.css && n.media === t.media && n.sourceMap === t.sourceMap) {
                return;
              }

              i(t = n);
            } else {
              o();
            }
          };
        }

        t.exports = function (t, e) {
          e = e || {};

          if (!e.singleton && typeof e.singleton !== "boolean") {
            e.singleton = i();
          }

          t = t || [];
          var n = a(t, e);
          return function t(i) {
            i = i || [];

            if (Object.prototype.toString.call(i) !== "[object Array]") {
              return;
            }

            for (var o = 0; o < n.length; o++) {
              var c = n[o];
              var l = r(c);
              s[l].references--;
            }

            var d = a(i, e);

            for (var u = 0; u < n.length; u++) {
              var h = n[u];
              var f = r(h);

              if (s[f].references === 0) {
                s[f].updater();
                s.splice(f, 1);
              }
            }

            n = d;
          };
        };
      },, function (t, e, n) {
        "use strict";

        var i = n(7);
        var o = typeof self == "object" && self && self.Object === Object && self;
        var s = i["a"] || o || Function("return this")();
        e["a"] = s;
      }, function (t, e, n) {
        "use strict";

        (function (t) {
          var i = n(3);
          var o = n(12);
          var s = true && exports && !exports.nodeType && exports;
          var r = s && typeof t == "object" && t && !t.nodeType && t;
          var a = r && r.exports === s;
          var c = a ? i["a"].Buffer : undefined;
          var l = c ? c.isBuffer : undefined;
          var d = l || o["a"];
          e["a"] = d;
        }).call(this, n(9)(t));
      }, function (t, e, n) {
        "use strict";

        (function (t) {
          var i = n(7);
          var o = true && exports && !exports.nodeType && exports;
          var s = o && typeof t == "object" && t && !t.nodeType && t;
          var r = s && s.exports === o;
          var a = r && i["a"].process;

          var c = function () {
            try {
              var t = s && s.require && s.require("util").types;

              if (t) {
                return t;
              }

              return a && a.binding && a.binding("util");
            } catch (t) {}
          }();

          e["a"] = c;
        }).call(this, n(9)(t));
      }, function (t, e, n) {
        "use strict";

        (function (t) {
          var e = n(0);
          const i = "17.0.0";
          const o = typeof window === "object" ? window : t;

          if (o.CKEDITOR_VERSION) {
            throw new e["b"]("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.", null);
          } else {
            o.CKEDITOR_VERSION = i;
          }
        }).call(this, n(10));
      }, function (t, e, n) {
        "use strict";

        (function (t) {
          var n = typeof t == "object" && t && t.Object === Object && t;
          e["a"] = n;
        }).call(this, n(10));
      }, function (t, e, n) {
        "use strict";

        (function (t) {
          var i = n(3);
          var o = true && exports && !exports.nodeType && exports;
          var s = o && typeof t == "object" && t && !t.nodeType && t;
          var r = s && s.exports === o;
          var a = r ? i["a"].Buffer : undefined,
              c = a ? a.allocUnsafe : undefined;

          function l(t, e) {
            if (e) {
              return t.slice();
            }

            var n = t.length,
                i = c ? c(n) : new t.constructor(n);
            t.copy(i);
            return i;
          }

          e["a"] = l;
        }).call(this, n(9)(t));
      }, function (t, e) {
        t.exports = function (t) {
          if (!t.webpackPolyfill) {
            var e = Object.create(t);
            if (!e.children) e.children = [];
            Object.defineProperty(e, "loaded", {
              enumerable: true,
              get: function get() {
                return e.l;
              }
            });
            Object.defineProperty(e, "id", {
              enumerable: true,
              get: function get() {
                return e.i;
              }
            });
            Object.defineProperty(e, "exports", {
              enumerable: true
            });
            e.webpackPolyfill = 1;
          }

          return e;
        };
      }, function (t, e) {
        var n;

        n = function () {
          return this;
        }();

        try {
          n = n || new Function("return this")();
        } catch (t) {
          if (typeof window === "object") n = window;
        }

        t.exports = n;
      }, function (t, e, n) {
        var i = n(1);
        var o = n(45);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e, n) {
        "use strict";

        function i() {
          return false;
        }

        e["a"] = i;
      }, function (t, e, n) {
        var i = n(1);
        var o = n(14);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(16);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(18);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(20);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(22);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(24);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(26);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(28);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = '.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}';
      }, function (t, e, n) {
        var i = n(1);
        var o = n(30);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(32);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(34);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(36);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(38);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(40);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact .ck-toolbar__items>.ck{margin:0}.ck.ck-toolbar.ck-toolbar_compact .ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact .ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact .ck-toolbar__items>.ck:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__grouped-dropdown,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>*,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>*{margin-left:var(--ck-spacing-small);margin-right:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>:last-child,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__grouped-dropdown,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__items>:last-child,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-right:var(--ck-spacing-small)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(42);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(44);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}";
      }, function (t, e) {
        t.exports = ".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(47);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(49);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(51);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(53);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(55);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}';
      }, function (t, e, n) {
        var i = n(1);
        var o = n(57);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(59);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(61);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(63);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(65);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(67);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(69);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = '.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}';
      }, function (t, e, n) {
        var i = n(1);
        var o = n(71);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = '.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}';
      }, function (t, e, n) {
        var i = n(1);
        var o = n(73);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(75);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(77);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(79);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = '.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}';
      }, function (t, e, n) {
        var i = n(1);
        var o = n(81);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(83);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(85);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(87);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(89);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(91);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(93);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(95);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".text-tiny{font-size:.7em}.text-small{font-size:.85em}.text-big{font-size:1.4em}.text-huge{font-size:1.8em}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(97);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0;outline:1px solid var(--ck-color-resizer)}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all;width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nesw-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nesw-resize}";
      }, function (t, e, n) {
        var i = n(1);
        var o = n(99);
        o = o.__esModule ? o.default : o;

        if (typeof o === "string") {
          o = [[t.i, o, ""]];
        }

        var s = {
          injectType: "singletonStyleTag"
        };
        s.insert = "head";
        s.singleton = true;
        var r = i(o, s);
        var a = o.locals ? o.locals : {};
        t.exports = a;
      }, function (t, e) {
        t.exports = ".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}";
      }, function (t, e, n) {
        "use strict";

        var _marked =
        /*#__PURE__*/
        regeneratorRuntime.mark(Pm),
            _marked2 =
        /*#__PURE__*/
        regeneratorRuntime.mark(Sm),
            _marked3 =
        /*#__PURE__*/
        regeneratorRuntime.mark(Lm),
            _marked4 =
        /*#__PURE__*/
        regeneratorRuntime.mark(zm),
            _marked6 =
        /*#__PURE__*/
        regeneratorRuntime.mark(xM);

        n.r(e);
        var i = n(3);
        var o = i["a"].Symbol;
        var s = o;
        var r = Object.prototype;
        var a = r.hasOwnProperty;
        var c = r.toString;
        var l = s ? s.toStringTag : undefined;

        function d(t) {
          var e = a.call(t, l),
              n = t[l];

          try {
            t[l] = undefined;
            var i = true;
          } catch (t) {}

          var o = c.call(t);

          if (i) {
            if (e) {
              t[l] = n;
            } else {
              delete t[l];
            }
          }

          return o;
        }

        var u = d;
        var h = Object.prototype;
        var f = h.toString;

        function m(t) {
          return f.call(t);
        }

        var g = m;
        var p = "[object Null]",
            b = "[object Undefined]";
        var w = s ? s.toStringTag : undefined;

        function _(t) {
          if (t == null) {
            return t === undefined ? b : p;
          }

          return w && w in Object(t) ? u(t) : g(t);
        }

        var k = _;

        function v(t, e) {
          return function (n) {
            return t(e(n));
          };
        }

        var y = v;
        var x = y(Object.getPrototypeOf, Object);
        var A = x;

        function T(t) {
          return t != null && typeof t == "object";
        }

        var C = T;
        var P = "[object Object]";
        var S = Function.prototype,
            M = Object.prototype;
        var E = S.toString;
        var I = M.hasOwnProperty;
        var N = E.call(Object);

        function O(t) {
          if (!C(t) || k(t) != P) {
            return false;
          }

          var e = A(t);

          if (e === null) {
            return true;
          }

          var n = I.call(e, "constructor") && e.constructor;
          return typeof n == "function" && n instanceof n && E.call(n) == N;
        }

        var R = O;

        function D() {
          this.__data__ = [];
          this.size = 0;
        }

        var L = D;

        function z(t, e) {
          return t === e || t !== t && e !== e;
        }

        var j = z;

        function V(t, e) {
          var n = t.length;

          while (n--) {
            if (j(t[n][0], e)) {
              return n;
            }
          }

          return -1;
        }

        var B = V;
        var F = Array.prototype;
        var H = F.splice;

        function U(t) {
          var e = this.__data__,
              n = B(e, t);

          if (n < 0) {
            return false;
          }

          var i = e.length - 1;

          if (n == i) {
            e.pop();
          } else {
            H.call(e, n, 1);
          }

          --this.size;
          return true;
        }

        var W = U;

        function q(t) {
          var e = this.__data__,
              n = B(e, t);
          return n < 0 ? undefined : e[n][1];
        }

        var $ = q;

        function Y(t) {
          return B(this.__data__, t) > -1;
        }

        var G = Y;

        function Q(t, e) {
          var n = this.__data__,
              i = B(n, t);

          if (i < 0) {
            ++this.size;
            n.push([t, e]);
          } else {
            n[i][1] = e;
          }

          return this;
        }

        var K = Q;

        function J(t) {
          var e = -1,
              n = t == null ? 0 : t.length;
          this.clear();

          while (++e < n) {
            var i = t[e];
            this.set(i[0], i[1]);
          }
        }

        J.prototype.clear = L;
        J.prototype["delete"] = W;
        J.prototype.get = $;
        J.prototype.has = G;
        J.prototype.set = K;
        var Z = J;

        function X() {
          this.__data__ = new Z();
          this.size = 0;
        }

        var tt = X;

        function et(t) {
          var e = this.__data__,
              n = e["delete"](t);
          this.size = e.size;
          return n;
        }

        var nt = et;

        function it(t) {
          return this.__data__.get(t);
        }

        var ot = it;

        function st(t) {
          return this.__data__.has(t);
        }

        var rt = st;

        function at(t) {
          var e = typeof t;
          return t != null && (e == "object" || e == "function");
        }

        var ct = at;
        var lt = "[object AsyncFunction]",
            dt = "[object Function]",
            ut = "[object GeneratorFunction]",
            ht = "[object Proxy]";

        function ft(t) {
          if (!ct(t)) {
            return false;
          }

          var e = k(t);
          return e == dt || e == ut || e == lt || e == ht;
        }

        var mt = ft;
        var gt = i["a"]["__core-js_shared__"];
        var pt = gt;

        var bt = function () {
          var t = /[^.]+$/.exec(pt && pt.keys && pt.keys.IE_PROTO || "");
          return t ? "Symbol(src)_1." + t : "";
        }();

        function wt(t) {
          return !!bt && bt in t;
        }

        var _t = wt;
        var kt = Function.prototype;
        var vt = kt.toString;

        function yt(t) {
          if (t != null) {
            try {
              return vt.call(t);
            } catch (t) {}

            try {
              return t + "";
            } catch (t) {}
          }

          return "";
        }

        var xt = yt;
        var At = /[\\^$.*+?()[\]{}|]/g;
        var Tt = /^\[object .+?Constructor\]$/;
        var Ct = Function.prototype,
            Pt = Object.prototype;
        var St = Ct.toString;
        var Mt = Pt.hasOwnProperty;
        var Et = RegExp("^" + St.call(Mt).replace(At, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");

        function It(t) {
          if (!ct(t) || _t(t)) {
            return false;
          }

          var e = mt(t) ? Et : Tt;
          return e.test(xt(t));
        }

        var Nt = It;

        function Ot(t, e) {
          return t == null ? undefined : t[e];
        }

        var Rt = Ot;

        function Dt(t, e) {
          var n = Rt(t, e);
          return Nt(n) ? n : undefined;
        }

        var Lt = Dt;
        var zt = Lt(i["a"], "Map");
        var jt = zt;
        var Vt = Lt(Object, "create");
        var Bt = Vt;

        function Ft() {
          this.__data__ = Bt ? Bt(null) : {};
          this.size = 0;
        }

        var Ht = Ft;

        function Ut(t) {
          var e = this.has(t) && delete this.__data__[t];
          this.size -= e ? 1 : 0;
          return e;
        }

        var Wt = Ut;
        var qt = "__lodash_hash_undefined__";
        var $t = Object.prototype;
        var Yt = $t.hasOwnProperty;

        function Gt(t) {
          var e = this.__data__;

          if (Bt) {
            var n = e[t];
            return n === qt ? undefined : n;
          }

          return Yt.call(e, t) ? e[t] : undefined;
        }

        var Qt = Gt;
        var Kt = Object.prototype;
        var Jt = Kt.hasOwnProperty;

        function Zt(t) {
          var e = this.__data__;
          return Bt ? e[t] !== undefined : Jt.call(e, t);
        }

        var Xt = Zt;
        var te = "__lodash_hash_undefined__";

        function ee(t, e) {
          var n = this.__data__;
          this.size += this.has(t) ? 0 : 1;
          n[t] = Bt && e === undefined ? te : e;
          return this;
        }

        var ne = ee;

        function ie(t) {
          var e = -1,
              n = t == null ? 0 : t.length;
          this.clear();

          while (++e < n) {
            var i = t[e];
            this.set(i[0], i[1]);
          }
        }

        ie.prototype.clear = Ht;
        ie.prototype["delete"] = Wt;
        ie.prototype.get = Qt;
        ie.prototype.has = Xt;
        ie.prototype.set = ne;
        var oe = ie;

        function se() {
          this.size = 0;
          this.__data__ = {
            hash: new oe(),
            map: new (jt || Z)(),
            string: new oe()
          };
        }

        var re = se;

        function ae(t) {
          var e = typeof t;
          return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null;
        }

        var ce = ae;

        function le(t, e) {
          var n = t.__data__;
          return ce(e) ? n[typeof e == "string" ? "string" : "hash"] : n.map;
        }

        var de = le;

        function ue(t) {
          var e = de(this, t)["delete"](t);
          this.size -= e ? 1 : 0;
          return e;
        }

        var he = ue;

        function fe(t) {
          return de(this, t).get(t);
        }

        var me = fe;

        function ge(t) {
          return de(this, t).has(t);
        }

        var pe = ge;

        function be(t, e) {
          var n = de(this, t),
              i = n.size;
          n.set(t, e);
          this.size += n.size == i ? 0 : 1;
          return this;
        }

        var we = be;

        function _e(t) {
          var e = -1,
              n = t == null ? 0 : t.length;
          this.clear();

          while (++e < n) {
            var i = t[e];
            this.set(i[0], i[1]);
          }
        }

        _e.prototype.clear = re;
        _e.prototype["delete"] = he;
        _e.prototype.get = me;
        _e.prototype.has = pe;
        _e.prototype.set = we;
        var ke = _e;
        var ve = 200;

        function ye(t, e) {
          var n = this.__data__;

          if (n instanceof Z) {
            var i = n.__data__;

            if (!jt || i.length < ve - 1) {
              i.push([t, e]);
              this.size = ++n.size;
              return this;
            }

            n = this.__data__ = new ke(i);
          }

          n.set(t, e);
          this.size = n.size;
          return this;
        }

        var xe = ye;

        function Ae(t) {
          var e = this.__data__ = new Z(t);
          this.size = e.size;
        }

        Ae.prototype.clear = tt;
        Ae.prototype["delete"] = nt;
        Ae.prototype.get = ot;
        Ae.prototype.has = rt;
        Ae.prototype.set = xe;
        var Te = Ae;

        function Ce(t, e) {
          var n = -1,
              i = t == null ? 0 : t.length;

          while (++n < i) {
            if (e(t[n], n, t) === false) {
              break;
            }
          }

          return t;
        }

        var Pe = Ce;

        var Se = function () {
          try {
            var t = Lt(Object, "defineProperty");
            t({}, "", {});
            return t;
          } catch (t) {}
        }();

        var Me = Se;

        function Ee(t, e, n) {
          if (e == "__proto__" && Me) {
            Me(t, e, {
              configurable: true,
              enumerable: true,
              value: n,
              writable: true
            });
          } else {
            t[e] = n;
          }
        }

        var Ie = Ee;
        var Ne = Object.prototype;
        var Oe = Ne.hasOwnProperty;

        function Re(t, e, n) {
          var i = t[e];

          if (!(Oe.call(t, e) && j(i, n)) || n === undefined && !(e in t)) {
            Ie(t, e, n);
          }
        }

        var De = Re;

        function Le(t, e, n, i) {
          var o = !n;
          n || (n = {});
          var s = -1,
              r = e.length;

          while (++s < r) {
            var a = e[s];
            var c = i ? i(n[a], t[a], a, n, t) : undefined;

            if (c === undefined) {
              c = t[a];
            }

            if (o) {
              Ie(n, a, c);
            } else {
              De(n, a, c);
            }
          }

          return n;
        }

        var ze = Le;

        function je(t, e) {
          var n = -1,
              i = Array(t);

          while (++n < t) {
            i[n] = e(n);
          }

          return i;
        }

        var Ve = je;
        var Be = "[object Arguments]";

        function Fe(t) {
          return C(t) && k(t) == Be;
        }

        var He = Fe;
        var Ue = Object.prototype;
        var We = Ue.hasOwnProperty;
        var qe = Ue.propertyIsEnumerable;
        var $e = He(function () {
          return arguments;
        }()) ? He : function (t) {
          return C(t) && We.call(t, "callee") && !qe.call(t, "callee");
        };
        var Ye = $e;
        var Ge = Array.isArray;
        var Qe = Ge;
        var Ke = n(4);
        var Je = 9007199254740991;
        var Ze = /^(?:0|[1-9]\d*)$/;

        function Xe(t, e) {
          var n = typeof t;
          e = e == null ? Je : e;
          return !!e && (n == "number" || n != "symbol" && Ze.test(t)) && t > -1 && t % 1 == 0 && t < e;
        }

        var tn = Xe;
        var en = 9007199254740991;

        function nn(t) {
          return typeof t == "number" && t > -1 && t % 1 == 0 && t <= en;
        }

        var on = nn;
        var sn = "[object Arguments]",
            rn = "[object Array]",
            an = "[object Boolean]",
            cn = "[object Date]",
            ln = "[object Error]",
            dn = "[object Function]",
            un = "[object Map]",
            hn = "[object Number]",
            fn = "[object Object]",
            mn = "[object RegExp]",
            gn = "[object Set]",
            pn = "[object String]",
            bn = "[object WeakMap]";
        var wn = "[object ArrayBuffer]",
            _n = "[object DataView]",
            kn = "[object Float32Array]",
            vn = "[object Float64Array]",
            yn = "[object Int8Array]",
            xn = "[object Int16Array]",
            An = "[object Int32Array]",
            Tn = "[object Uint8Array]",
            Cn = "[object Uint8ClampedArray]",
            Pn = "[object Uint16Array]",
            Sn = "[object Uint32Array]";
        var Mn = {};
        Mn[kn] = Mn[vn] = Mn[yn] = Mn[xn] = Mn[An] = Mn[Tn] = Mn[Cn] = Mn[Pn] = Mn[Sn] = true;
        Mn[sn] = Mn[rn] = Mn[wn] = Mn[an] = Mn[_n] = Mn[cn] = Mn[ln] = Mn[dn] = Mn[un] = Mn[hn] = Mn[fn] = Mn[mn] = Mn[gn] = Mn[pn] = Mn[bn] = false;

        function En(t) {
          return C(t) && on(t.length) && !!Mn[k(t)];
        }

        var In = En;

        function Nn(t) {
          return function (e) {
            return t(e);
          };
        }

        var On = Nn;
        var Rn = n(5);
        var Dn = Rn["a"] && Rn["a"].isTypedArray;
        var Ln = Dn ? On(Dn) : In;
        var zn = Ln;
        var jn = Object.prototype;
        var Vn = jn.hasOwnProperty;

        function Bn(t, e) {
          var n = Qe(t),
              i = !n && Ye(t),
              o = !n && !i && Object(Ke["a"])(t),
              s = !n && !i && !o && zn(t),
              r = n || i || o || s,
              a = r ? Ve(t.length, String) : [],
              c = a.length;

          for (var l in t) {
            if ((e || Vn.call(t, l)) && !(r && (l == "length" || o && (l == "offset" || l == "parent") || s && (l == "buffer" || l == "byteLength" || l == "byteOffset") || tn(l, c)))) {
              a.push(l);
            }
          }

          return a;
        }

        var Fn = Bn;
        var Hn = Object.prototype;

        function Un(t) {
          var e = t && t.constructor,
              n = typeof e == "function" && e.prototype || Hn;
          return t === n;
        }

        var Wn = Un;
        var qn = y(Object.keys, Object);
        var $n = qn;
        var Yn = Object.prototype;
        var Gn = Yn.hasOwnProperty;

        function Qn(t) {
          if (!Wn(t)) {
            return $n(t);
          }

          var e = [];

          for (var n in Object(t)) {
            if (Gn.call(t, n) && n != "constructor") {
              e.push(n);
            }
          }

          return e;
        }

        var Kn = Qn;

        function Jn(t) {
          return t != null && on(t.length) && !mt(t);
        }

        var Zn = Jn;

        function Xn(t) {
          return Zn(t) ? Fn(t) : Kn(t);
        }

        var ti = Xn;

        function ei(t, e) {
          return t && ze(e, ti(e), t);
        }

        var ni = ei;

        function ii(t) {
          var e = [];

          if (t != null) {
            for (var n in Object(t)) {
              e.push(n);
            }
          }

          return e;
        }

        var oi = ii;
        var si = Object.prototype;
        var ri = si.hasOwnProperty;

        function ai(t) {
          if (!ct(t)) {
            return oi(t);
          }

          var e = Wn(t),
              n = [];

          for (var i in t) {
            if (!(i == "constructor" && (e || !ri.call(t, i)))) {
              n.push(i);
            }
          }

          return n;
        }

        var ci = ai;

        function li(t) {
          return Zn(t) ? Fn(t, true) : ci(t);
        }

        var di = li;

        function ui(t, e) {
          return t && ze(e, di(e), t);
        }

        var hi = ui;
        var fi = n(8);

        function mi(t, e) {
          var n = -1,
              i = t.length;
          e || (e = Array(i));

          while (++n < i) {
            e[n] = t[n];
          }

          return e;
        }

        var gi = mi;

        function pi(t, e) {
          var n = -1,
              i = t == null ? 0 : t.length,
              o = 0,
              s = [];

          while (++n < i) {
            var r = t[n];

            if (e(r, n, t)) {
              s[o++] = r;
            }
          }

          return s;
        }

        var bi = pi;

        function wi() {
          return [];
        }

        var _i = wi;
        var ki = Object.prototype;
        var vi = ki.propertyIsEnumerable;
        var yi = Object.getOwnPropertySymbols;
        var xi = !yi ? _i : function (t) {
          if (t == null) {
            return [];
          }

          t = Object(t);
          return bi(yi(t), function (e) {
            return vi.call(t, e);
          });
        };
        var Ai = xi;

        function Ti(t, e) {
          return ze(t, Ai(t), e);
        }

        var Ci = Ti;

        function Pi(t, e) {
          var n = -1,
              i = e.length,
              o = t.length;

          while (++n < i) {
            t[o + n] = e[n];
          }

          return t;
        }

        var Si = Pi;
        var Mi = Object.getOwnPropertySymbols;
        var Ei = !Mi ? _i : function (t) {
          var e = [];

          while (t) {
            Si(e, Ai(t));
            t = A(t);
          }

          return e;
        };
        var Ii = Ei;

        function Ni(t, e) {
          return ze(t, Ii(t), e);
        }

        var Oi = Ni;

        function Ri(t, e, n) {
          var i = e(t);
          return Qe(t) ? i : Si(i, n(t));
        }

        var Di = Ri;

        function Li(t) {
          return Di(t, ti, Ai);
        }

        var zi = Li;

        function ji(t) {
          return Di(t, di, Ii);
        }

        var Vi = ji;
        var Bi = Lt(i["a"], "DataView");
        var Fi = Bi;
        var Hi = Lt(i["a"], "Promise");
        var Ui = Hi;
        var Wi = Lt(i["a"], "Set");
        var qi = Wi;
        var $i = Lt(i["a"], "WeakMap");
        var Yi = $i;
        var Gi = "[object Map]",
            Qi = "[object Object]",
            Ki = "[object Promise]",
            Ji = "[object Set]",
            Zi = "[object WeakMap]";
        var Xi = "[object DataView]";
        var to = xt(Fi),
            eo = xt(jt),
            no = xt(Ui),
            io = xt(qi),
            oo = xt(Yi);
        var so = k;

        if (Fi && so(new Fi(new ArrayBuffer(1))) != Xi || jt && so(new jt()) != Gi || Ui && so(Ui.resolve()) != Ki || qi && so(new qi()) != Ji || Yi && so(new Yi()) != Zi) {
          so = function so(t) {
            var e = k(t),
                n = e == Qi ? t.constructor : undefined,
                i = n ? xt(n) : "";

            if (i) {
              switch (i) {
                case to:
                  return Xi;

                case eo:
                  return Gi;

                case no:
                  return Ki;

                case io:
                  return Ji;

                case oo:
                  return Zi;
              }
            }

            return e;
          };
        }

        var ro = so;
        var ao = Object.prototype;
        var co = ao.hasOwnProperty;

        function lo(t) {
          var e = t.length,
              n = new t.constructor(e);

          if (e && typeof t[0] == "string" && co.call(t, "index")) {
            n.index = t.index;
            n.input = t.input;
          }

          return n;
        }

        var uo = lo;
        var ho = i["a"].Uint8Array;
        var fo = ho;

        function mo(t) {
          var e = new t.constructor(t.byteLength);
          new fo(e).set(new fo(t));
          return e;
        }

        var go = mo;

        function po(t, e) {
          var n = e ? go(t.buffer) : t.buffer;
          return new t.constructor(n, t.byteOffset, t.byteLength);
        }

        var bo = po;
        var wo = /\w*$/;

        function _o(t) {
          var e = new t.constructor(t.source, wo.exec(t));
          e.lastIndex = t.lastIndex;
          return e;
        }

        var ko = _o;
        var vo = s ? s.prototype : undefined,
            yo = vo ? vo.valueOf : undefined;

        function xo(t) {
          return yo ? Object(yo.call(t)) : {};
        }

        var Ao = xo;

        function To(t, e) {
          var n = e ? go(t.buffer) : t.buffer;
          return new t.constructor(n, t.byteOffset, t.length);
        }

        var Co = To;
        var Po = "[object Boolean]",
            So = "[object Date]",
            Mo = "[object Map]",
            Eo = "[object Number]",
            Io = "[object RegExp]",
            No = "[object Set]",
            Oo = "[object String]",
            Ro = "[object Symbol]";
        var Do = "[object ArrayBuffer]",
            Lo = "[object DataView]",
            zo = "[object Float32Array]",
            jo = "[object Float64Array]",
            Vo = "[object Int8Array]",
            Bo = "[object Int16Array]",
            Fo = "[object Int32Array]",
            Ho = "[object Uint8Array]",
            Uo = "[object Uint8ClampedArray]",
            Wo = "[object Uint16Array]",
            qo = "[object Uint32Array]";

        function $o(t, e, n) {
          var i = t.constructor;

          switch (e) {
            case Do:
              return go(t);

            case Po:
            case So:
              return new i(+t);

            case Lo:
              return bo(t, n);

            case zo:
            case jo:
            case Vo:
            case Bo:
            case Fo:
            case Ho:
            case Uo:
            case Wo:
            case qo:
              return Co(t, n);

            case Mo:
              return new i();

            case Eo:
            case Oo:
              return new i(t);

            case Io:
              return ko(t);

            case No:
              return new i();

            case Ro:
              return Ao(t);
          }
        }

        var Yo = $o;
        var Go = Object.create;

        var Qo = function () {
          function t() {}

          return function (e) {
            if (!ct(e)) {
              return {};
            }

            if (Go) {
              return Go(e);
            }

            t.prototype = e;
            var n = new t();
            t.prototype = undefined;
            return n;
          };
        }();

        var Ko = Qo;

        function Jo(t) {
          return typeof t.constructor == "function" && !Wn(t) ? Ko(A(t)) : {};
        }

        var Zo = Jo;
        var Xo = "[object Map]";

        function ts(t) {
          return C(t) && ro(t) == Xo;
        }

        var es = ts;
        var ns = Rn["a"] && Rn["a"].isMap;
        var is = ns ? On(ns) : es;
        var os = is;
        var ss = "[object Set]";

        function rs(t) {
          return C(t) && ro(t) == ss;
        }

        var as = rs;
        var cs = Rn["a"] && Rn["a"].isSet;
        var ls = cs ? On(cs) : as;
        var ds = ls;
        var us = 1,
            hs = 2,
            fs = 4;
        var ms = "[object Arguments]",
            gs = "[object Array]",
            ps = "[object Boolean]",
            bs = "[object Date]",
            ws = "[object Error]",
            _s = "[object Function]",
            ks = "[object GeneratorFunction]",
            vs = "[object Map]",
            ys = "[object Number]",
            xs = "[object Object]",
            As = "[object RegExp]",
            Ts = "[object Set]",
            Cs = "[object String]",
            Ps = "[object Symbol]",
            Ss = "[object WeakMap]";
        var Ms = "[object ArrayBuffer]",
            Es = "[object DataView]",
            Is = "[object Float32Array]",
            Ns = "[object Float64Array]",
            Os = "[object Int8Array]",
            Rs = "[object Int16Array]",
            Ds = "[object Int32Array]",
            Ls = "[object Uint8Array]",
            zs = "[object Uint8ClampedArray]",
            js = "[object Uint16Array]",
            Vs = "[object Uint32Array]";
        var Bs = {};
        Bs[ms] = Bs[gs] = Bs[Ms] = Bs[Es] = Bs[ps] = Bs[bs] = Bs[Is] = Bs[Ns] = Bs[Os] = Bs[Rs] = Bs[Ds] = Bs[vs] = Bs[ys] = Bs[xs] = Bs[As] = Bs[Ts] = Bs[Cs] = Bs[Ps] = Bs[Ls] = Bs[zs] = Bs[js] = Bs[Vs] = true;
        Bs[ws] = Bs[_s] = Bs[Ss] = false;

        function Fs(t, e, n, i, o, s) {
          var r,
              a = e & us,
              c = e & hs,
              l = e & fs;

          if (n) {
            r = o ? n(t, i, o, s) : n(t);
          }

          if (r !== undefined) {
            return r;
          }

          if (!ct(t)) {
            return t;
          }

          var d = Qe(t);

          if (d) {
            r = uo(t);

            if (!a) {
              return gi(t, r);
            }
          } else {
            var u = ro(t),
                h = u == _s || u == ks;

            if (Object(Ke["a"])(t)) {
              return Object(fi["a"])(t, a);
            }

            if (u == xs || u == ms || h && !o) {
              r = c || h ? {} : Zo(t);

              if (!a) {
                return c ? Oi(t, hi(r, t)) : Ci(t, ni(r, t));
              }
            } else {
              if (!Bs[u]) {
                return o ? t : {};
              }

              r = Yo(t, u, a);
            }
          }

          s || (s = new Te());
          var f = s.get(t);

          if (f) {
            return f;
          }

          s.set(t, r);

          if (ds(t)) {
            t.forEach(function (i) {
              r.add(Fs(i, e, n, i, t, s));
            });
          } else if (os(t)) {
            t.forEach(function (i, o) {
              r.set(o, Fs(i, e, n, o, t, s));
            });
          }

          var m = l ? c ? Vi : zi : c ? keysIn : ti;
          var g = d ? undefined : m(t);
          Pe(g || t, function (i, o) {
            if (g) {
              o = i;
              i = t[o];
            }

            De(r, o, Fs(i, e, n, o, t, s));
          });
          return r;
        }

        var Hs = Fs;
        var Us = 1,
            Ws = 4;

        function qs(t, e) {
          e = typeof e == "function" ? e : undefined;
          return Hs(t, Us | Ws, e);
        }

        var $s = qs;

        function Ys(t) {
          return C(t) && t.nodeType === 1 && !R(t);
        }

        var Gs = Ys;

        class Qs {
          constructor(t, e) {
            this._config = {};

            if (e) {
              this.define(Ks(e));
            }

            if (t) {
              this._setObjectToTarget(this._config, t);
            }
          }

          set(t, e) {
            this._setToTarget(this._config, t, e);
          }

          define(t, e) {
            const n = true;

            this._setToTarget(this._config, t, e, n);
          }

          get(t) {
            return this._getFromSource(this._config, t);
          }

          names() {
            var _this = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee() {
                var _i2, _Object$keys, t;

                return regeneratorRuntime.wrap(function _callee$(_context) {
                  while (1) switch (_context.prev = _context.next) {
                    case 0:
                      _i2 = 0, _Object$keys = Object.keys(_this._config);

                    case 1:
                      if (!(_i2 < _Object$keys.length)) {
                        _context.next = 8;
                        break;
                      }

                      t = _Object$keys[_i2];
                      _context.next = 5;
                      return t;

                    case 5:
                      _i2++;
                      _context.next = 1;
                      break;

                    case 8:
                    case "end":
                      return _context.stop();
                  }
                }, _callee);
              })()
            );
          }

          _setToTarget(t, e, n, i = false) {
            if (R(e)) {
              this._setObjectToTarget(t, e, i);

              return;
            }

            const o = e.split(".");
            e = o.pop();
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
              for (var _iterator = o[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                const e = _step.value;

                if (!R(t[e])) {
                  t[e] = {};
                }

                t = t[e];
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }

            if (R(n)) {
              if (!R(t[e])) {
                t[e] = {};
              }

              t = t[e];

              this._setObjectToTarget(t, n, i);

              return;
            }

            if (i && typeof t[e] != "undefined") {
              return;
            }

            t[e] = n;
          }

          _getFromSource(t, e) {
            const n = e.split(".");
            e = n.pop();
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
              for (var _iterator2 = n[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                const e = _step2.value;

                if (!R(t[e])) {
                  t = null;
                  break;
                }

                t = t[e];
              }
            } catch (err) {
              _didIteratorError2 = true;
              _iteratorError2 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                  _iterator2.return();
                }
              } finally {
                if (_didIteratorError2) {
                  throw _iteratorError2;
                }
              }
            }

            return t ? Ks(t[e]) : undefined;
          }

          _setObjectToTarget(t, e, n) {
            Object.keys(e).forEach(i => {
              this._setToTarget(t, i, e[i], n);
            });
          }

        }

        function Ks(t) {
          return $s(t, Js);
        }

        function Js(t) {
          return Gs(t) ? t : undefined;
        }

        function Zs() {
          return function t() {
            t.called = true;
          };
        }

        var Xs = Zs;

        class tr {
          constructor(t, e) {
            this.source = t;
            this.name = e;
            this.path = [];
            this.stop = Xs();
            this.off = Xs();
          }

        }

        const er = new Array(256).fill().map((t, e) => ("0" + e.toString(16)).slice(-2));

        function nr() {
          const t = Math.random() * 4294967296 >>> 0;
          const e = Math.random() * 4294967296 >>> 0;
          const n = Math.random() * 4294967296 >>> 0;
          const i = Math.random() * 4294967296 >>> 0;
          return "e" + er[t >> 0 & 255] + er[t >> 8 & 255] + er[t >> 16 & 255] + er[t >> 24 & 255] + er[e >> 0 & 255] + er[e >> 8 & 255] + er[e >> 16 & 255] + er[e >> 24 & 255] + er[n >> 0 & 255] + er[n >> 8 & 255] + er[n >> 16 & 255] + er[n >> 24 & 255] + er[i >> 0 & 255] + er[i >> 8 & 255] + er[i >> 16 & 255] + er[i >> 24 & 255];
        }

        const ir = {
          get(t) {
            if (typeof t != "number") {
              return this[t] || this.normal;
            } else {
              return t;
            }
          },

          highest: 1e5,
          high: 1e3,
          normal: 0,
          low: -1e3,
          lowest: -1e5
        };
        var or = ir;
        var sr = n(6);
        var rr = n(0);
        const ar = Symbol("listeningTo");
        const cr = Symbol("emitterId");
        const lr = {
          on(t, e, n = {}) {
            this.listenTo(this, t, e, n);
          },

          once(t, e, n) {
            let i = false;

            const o = function o(t, ...n) {
              if (!i) {
                i = true;
                t.off();
                e.call(this, t, ...n);
              }
            };

            this.listenTo(this, t, o, n);
          },

          off(t, e) {
            this.stopListening(this, t, e);
          },

          listenTo(t, e, n, i = {}) {
            let o, s;

            if (!this[ar]) {
              this[ar] = {};
            }

            const r = this[ar];

            if (!fr(t)) {
              hr(t);
            }

            const a = fr(t);

            if (!(o = r[a])) {
              o = r[a] = {
                emitter: t,
                callbacks: {}
              };
            }

            if (!(s = o.callbacks[e])) {
              s = o.callbacks[e] = [];
            }

            s.push(n);
            pr(t, e);
            const c = br(t, e);
            const l = or.get(i.priority);
            const d = {
              callback: n,
              priority: l
            };
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
              for (var _iterator3 = c[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                const t = _step3.value;
                let e = false;

                for (let n = 0; n < t.length; n++) {
                  if (t[n].priority < l) {
                    t.splice(n, 0, d);
                    e = true;
                    break;
                  }
                }

                if (!e) {
                  t.push(d);
                }
              }
            } catch (err) {
              _didIteratorError3 = true;
              _iteratorError3 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
                  _iterator3.return();
                }
              } finally {
                if (_didIteratorError3) {
                  throw _iteratorError3;
                }
              }
            }
          },

          stopListening(t, e, n) {
            const i = this[ar];
            let o = t && fr(t);
            const s = i && o && i[o];
            const r = s && e && s.callbacks[e];

            if (!i || t && !s || e && !r) {
              return;
            }

            if (n) {
              kr(t, e, n);
            } else if (r) {
              while (n = r.pop()) {
                kr(t, e, n);
              }

              delete s.callbacks[e];
            } else if (s) {
              for (e in s.callbacks) {
                this.stopListening(t, e);
              }

              delete i[o];
            } else {
              for (o in i) {
                this.stopListening(i[o].emitter);
              }

              delete this[ar];
            }
          },

          fire(t, ...e) {
            try {
              const n = t instanceof tr ? t : new tr(this, t);
              const i = n.name;
              let o = wr(this, i);
              n.path.push(this);

              if (o) {
                const t = [n, ...e];
                o = Array.from(o);

                for (let e = 0; e < o.length; e++) {
                  o[e].callback.apply(this, t);

                  if (n.off.called) {
                    delete n.off.called;
                    kr(this, i, o[e].callback);
                  }

                  if (n.stop.called) {
                    break;
                  }
                }
              }

              if (this._delegations) {
                const t = this._delegations.get(i);

                const o = this._delegations.get("*");

                if (t) {
                  _r(t, n, e);
                }

                if (o) {
                  _r(o, n, e);
                }
              }

              return n.return;
            } catch (t) {
              rr["b"].rethrowUnexpectedError(t, this);
            }
          },

          delegate(...t) {
            return {
              to: (e, n) => {
                if (!this._delegations) {
                  this._delegations = new Map();
                }

                t.forEach(t => {
                  const i = this._delegations.get(t);

                  if (!i) {
                    this._delegations.set(t, new Map([[e, n]]));
                  } else {
                    i.set(e, n);
                  }
                });
              }
            };
          },

          stopDelegating(t, e) {
            if (!this._delegations) {
              return;
            }

            if (!t) {
              this._delegations.clear();
            } else if (!e) {
              this._delegations.delete(t);
            } else {
              const n = this._delegations.get(t);

              if (n) {
                n.delete(e);
              }
            }
          }

        };
        var dr = lr;

        function ur(t, e) {
          if (t[ar] && t[ar][e]) {
            return t[ar][e].emitter;
          }

          return null;
        }

        function hr(t, e) {
          if (!t[cr]) {
            t[cr] = e || nr();
          }
        }

        function fr(t) {
          return t[cr];
        }

        function mr(t) {
          if (!t._events) {
            Object.defineProperty(t, "_events", {
              value: {}
            });
          }

          return t._events;
        }

        function gr() {
          return {
            callbacks: [],
            childEvents: []
          };
        }

        function pr(t, e) {
          const n = mr(t);

          if (n[e]) {
            return;
          }

          let i = e;
          let o = null;
          const s = [];

          while (i !== "") {
            if (n[i]) {
              break;
            }

            n[i] = gr();
            s.push(n[i]);

            if (o) {
              n[i].childEvents.push(o);
            }

            o = i;
            i = i.substr(0, i.lastIndexOf(":"));
          }

          if (i !== "") {
            var _iteratorNormalCompletion4 = true;
            var _didIteratorError4 = false;
            var _iteratorError4 = undefined;

            try {
              for (var _iterator4 = s[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                const t = _step4.value;
                t.callbacks = n[i].callbacks.slice();
              }
            } catch (err) {
              _didIteratorError4 = true;
              _iteratorError4 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion4 && _iterator4.return != null) {
                  _iterator4.return();
                }
              } finally {
                if (_didIteratorError4) {
                  throw _iteratorError4;
                }
              }
            }

            n[i].childEvents.push(o);
          }
        }

        function br(t, e) {
          const n = mr(t)[e];

          if (!n) {
            return [];
          }

          let i = [n.callbacks];

          for (let e = 0; e < n.childEvents.length; e++) {
            const o = br(t, n.childEvents[e]);
            i = i.concat(o);
          }

          return i;
        }

        function wr(t, e) {
          let n;

          if (!t._events || !(n = t._events[e]) || !n.callbacks.length) {
            if (e.indexOf(":") > -1) {
              return wr(t, e.substr(0, e.lastIndexOf(":")));
            } else {
              return null;
            }
          }

          return n.callbacks;
        }

        function _r(t, e, n) {
          var _iteratorNormalCompletion5 = true;
          var _didIteratorError5 = false;
          var _iteratorError5 = undefined;

          try {
            for (var _iterator5 = t[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
              let _step5$value = _slicedToArray(_step5.value, 2),
                  i = _step5$value[0],
                  o = _step5$value[1];

              if (!o) {
                o = e.name;
              } else if (typeof o == "function") {
                o = o(e.name);
              }

              const t = new tr(e.source, o);
              t.path = [...e.path];
              i.fire(t, ...n);
            }
          } catch (err) {
            _didIteratorError5 = true;
            _iteratorError5 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion5 && _iterator5.return != null) {
                _iterator5.return();
              }
            } finally {
              if (_didIteratorError5) {
                throw _iteratorError5;
              }
            }
          }
        }

        function kr(t, e, n) {
          const i = br(t, e);
          var _iteratorNormalCompletion6 = true;
          var _didIteratorError6 = false;
          var _iteratorError6 = undefined;

          try {
            for (var _iterator6 = i[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {
              const t = _step6.value;

              for (let e = 0; e < t.length; e++) {
                if (t[e].callback == n) {
                  t.splice(e, 1);
                  e--;
                }
              }
            }
          } catch (err) {
            _didIteratorError6 = true;
            _iteratorError6 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion6 && _iterator6.return != null) {
                _iterator6.return();
              }
            } finally {
              if (_didIteratorError6) {
                throw _iteratorError6;
              }
            }
          }
        }

        function vr(t, ...e) {
          e.forEach(e => {
            Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n => {
              if (n in t.prototype) {
                return;
              }

              const i = Object.getOwnPropertyDescriptor(e, n);
              i.enumerable = false;
              Object.defineProperty(t.prototype, n, i);
            });
          });
        }

        class yr {
          constructor(t = {}) {
            this._items = [];
            this._itemMap = new Map();
            this._idProperty = t.idProperty || "id";
            this._bindToExternalToInternalMap = new WeakMap();
            this._bindToInternalToExternalMap = new WeakMap();
            this._skippedIndexesFromExternal = [];
          }

          get length() {
            return this._items.length;
          }

          get first() {
            return this._items[0] || null;
          }

          get last() {
            return this._items[this.length - 1] || null;
          }

          add(t, e) {
            let n;
            const i = this._idProperty;

            if (i in t) {
              n = t[i];

              if (typeof n != "string") {
                throw new rr["b"]("collection-add-invalid-id", this);
              }

              if (this.get(n)) {
                throw new rr["b"]("collection-add-item-already-exists", this);
              }
            } else {
              t[i] = n = nr();
            }

            if (e === undefined) {
              e = this._items.length;
            } else if (e > this._items.length || e < 0) {
              throw new rr["b"]("collection-add-item-invalid-index", this);
            }

            this._items.splice(e, 0, t);

            this._itemMap.set(n, t);

            this.fire("add", t, e);
            return this;
          }

          get(t) {
            let e;

            if (typeof t == "string") {
              e = this._itemMap.get(t);
            } else if (typeof t == "number") {
              e = this._items[t];
            } else {
              throw new rr["b"]("collection-get-invalid-arg: Index or id must be given.", this);
            }

            return e || null;
          }

          has(t) {
            if (typeof t == "string") {
              return this._itemMap.has(t);
            } else {
              const e = this._idProperty;
              const n = t[e];
              return this._itemMap.has(n);
            }
          }

          getIndex(t) {
            let e;

            if (typeof t == "string") {
              e = this._itemMap.get(t);
            } else {
              e = t;
            }

            return this._items.indexOf(e);
          }

          remove(t) {
            let e, n, i;
            let o = false;
            const s = this._idProperty;

            if (typeof t == "string") {
              n = t;
              i = this._itemMap.get(n);
              o = !i;

              if (i) {
                e = this._items.indexOf(i);
              }
            } else if (typeof t == "number") {
              e = t;
              i = this._items[e];
              o = !i;

              if (i) {
                n = i[s];
              }
            } else {
              i = t;
              n = i[s];
              e = this._items.indexOf(i);
              o = e == -1 || !this._itemMap.get(n);
            }

            if (o) {
              throw new rr["b"]("collection-remove-404: Item not found.", this);
            }

            this._items.splice(e, 1);

            this._itemMap.delete(n);

            const r = this._bindToInternalToExternalMap.get(i);

            this._bindToInternalToExternalMap.delete(i);

            this._bindToExternalToInternalMap.delete(r);

            this.fire("remove", i, e);
            return i;
          }

          map(t, e) {
            return this._items.map(t, e);
          }

          find(t, e) {
            return this._items.find(t, e);
          }

          filter(t, e) {
            return this._items.filter(t, e);
          }

          clear() {
            if (this._bindToCollection) {
              this.stopListening(this._bindToCollection);
              this._bindToCollection = null;
            }

            while (this.length) {
              this.remove(0);
            }
          }

          bindTo(t) {
            if (this._bindToCollection) {
              throw new rr["b"]("collection-bind-to-rebind: The collection cannot be bound more than once.", this);
            }

            this._bindToCollection = t;
            return {
              as: t => {
                this._setUpBindToBinding(e => new t(e));
              },
              using: t => {
                if (typeof t == "function") {
                  this._setUpBindToBinding(e => t(e));
                } else {
                  this._setUpBindToBinding(e => e[t]);
                }
              }
            };
          }

          _setUpBindToBinding(t) {
            const e = this._bindToCollection;

            const n = (n, i, o) => {
              const s = e._bindToCollection == this;

              const r = e._bindToInternalToExternalMap.get(i);

              if (s && r) {
                this._bindToExternalToInternalMap.set(i, r);

                this._bindToInternalToExternalMap.set(r, i);
              } else {
                const n = t(i);

                if (!n) {
                  this._skippedIndexesFromExternal.push(o);

                  return;
                }

                let s = o;
                var _iteratorNormalCompletion7 = true;
                var _didIteratorError7 = false;
                var _iteratorError7 = undefined;

                try {
                  for (var _iterator7 = this._skippedIndexesFromExternal[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {
                    const t = _step7.value;

                    if (o > t) {
                      s--;
                    }
                  }
                } catch (err) {
                  _didIteratorError7 = true;
                  _iteratorError7 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion7 && _iterator7.return != null) {
                      _iterator7.return();
                    }
                  } finally {
                    if (_didIteratorError7) {
                      throw _iteratorError7;
                    }
                  }
                }

                var _iteratorNormalCompletion8 = true;
                var _didIteratorError8 = false;
                var _iteratorError8 = undefined;

                try {
                  for (var _iterator8 = e._skippedIndexesFromExternal[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {
                    const t = _step8.value;

                    if (s >= t) {
                      s++;
                    }
                  }
                } catch (err) {
                  _didIteratorError8 = true;
                  _iteratorError8 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion8 && _iterator8.return != null) {
                      _iterator8.return();
                    }
                  } finally {
                    if (_didIteratorError8) {
                      throw _iteratorError8;
                    }
                  }
                }

                this._bindToExternalToInternalMap.set(i, n);

                this._bindToInternalToExternalMap.set(n, i);

                this.add(n, s);

                for (let t = 0; t < e._skippedIndexesFromExternal.length; t++) {
                  if (s <= e._skippedIndexesFromExternal[t]) {
                    e._skippedIndexesFromExternal[t]++;
                  }
                }
              }
            };

            var _iteratorNormalCompletion9 = true;
            var _didIteratorError9 = false;
            var _iteratorError9 = undefined;

            try {
              for (var _iterator9 = e[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {
                const t = _step9.value;
                n(null, t, e.getIndex(t));
              }
            } catch (err) {
              _didIteratorError9 = true;
              _iteratorError9 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion9 && _iterator9.return != null) {
                  _iterator9.return();
                }
              } finally {
                if (_didIteratorError9) {
                  throw _iteratorError9;
                }
              }
            }

            this.listenTo(e, "add", n);
            this.listenTo(e, "remove", (t, e, n) => {
              const i = this._bindToExternalToInternalMap.get(e);

              if (i) {
                this.remove(i);
              }

              this._skippedIndexesFromExternal = this._skippedIndexesFromExternal.reduce((t, e) => {
                if (n < e) {
                  t.push(e - 1);
                }

                if (n > e) {
                  t.push(e);
                }

                return t;
              }, []);
            });
          }

          [Symbol.iterator]() {
            return this._items[Symbol.iterator]();
          }

        }

        vr(yr, dr);

        class xr {
          constructor(t, e = [], n = []) {
            this._context = t;
            this._plugins = new Map();
            this._availablePlugins = new Map();
            var _iteratorNormalCompletion10 = true;
            var _didIteratorError10 = false;
            var _iteratorError10 = undefined;

            try {
              for (var _iterator10 = e[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {
                const t = _step10.value;

                if (t.pluginName) {
                  this._availablePlugins.set(t.pluginName, t);
                }
              }
            } catch (err) {
              _didIteratorError10 = true;
              _iteratorError10 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion10 && _iterator10.return != null) {
                  _iterator10.return();
                }
              } finally {
                if (_didIteratorError10) {
                  throw _iteratorError10;
                }
              }
            }

            this._contextPlugins = new Map();
            var _iteratorNormalCompletion11 = true;
            var _didIteratorError11 = false;
            var _iteratorError11 = undefined;

            try {
              for (var _iterator11 = n[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {
                const _step11$value = _slicedToArray(_step11.value, 2),
                      t = _step11$value[0],
                      e = _step11$value[1];

                this._contextPlugins.set(t, e);

                this._contextPlugins.set(e, t);

                if (t.pluginName) {
                  this._availablePlugins.set(t.pluginName, t);
                }
              }
            } catch (err) {
              _didIteratorError11 = true;
              _iteratorError11 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion11 && _iterator11.return != null) {
                  _iterator11.return();
                }
              } finally {
                if (_didIteratorError11) {
                  throw _iteratorError11;
                }
              }
            }
          }

          [Symbol.iterator]() {
            var _this2 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee2() {
                var _iteratorNormalCompletion12, _didIteratorError12, _iteratorError12, _iterator12, _step12, t;

                return regeneratorRuntime.wrap(function _callee2$(_context2) {
                  while (1) switch (_context2.prev = _context2.next) {
                    case 0:
                      _iteratorNormalCompletion12 = true;
                      _didIteratorError12 = false;
                      _iteratorError12 = undefined;
                      _context2.prev = 3;
                      _iterator12 = _this2._plugins[Symbol.iterator]();

                    case 5:
                      if (_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done) {
                        _context2.next = 13;
                        break;
                      }

                      t = _step12.value;

                      if (!(typeof t[0] == "function")) {
                        _context2.next = 10;
                        break;
                      }

                      _context2.next = 10;
                      return t;

                    case 10:
                      _iteratorNormalCompletion12 = true;
                      _context2.next = 5;
                      break;

                    case 13:
                      _context2.next = 19;
                      break;

                    case 15:
                      _context2.prev = 15;
                      _context2.t0 = _context2["catch"](3);
                      _didIteratorError12 = true;
                      _iteratorError12 = _context2.t0;

                    case 19:
                      _context2.prev = 19;
                      _context2.prev = 20;

                      if (!_iteratorNormalCompletion12 && _iterator12.return != null) {
                        _iterator12.return();
                      }

                    case 22:
                      _context2.prev = 22;

                      if (!_didIteratorError12) {
                        _context2.next = 25;
                        break;
                      }

                      throw _iteratorError12;

                    case 25:
                      return _context2.finish(22);

                    case 26:
                      return _context2.finish(19);

                    case 27:
                    case "end":
                      return _context2.stop();
                  }
                }, _callee2, null, [[3, 15, 19, 27], [20,, 22, 26]]);
              })()
            );
          }

          get(t) {
            const e = this._plugins.get(t);

            if (!e) {
              const e = "plugincollection-plugin-not-loaded: The requested plugin is not loaded.";
              let n = t;

              if (typeof t == "function") {
                n = t.pluginName || t.name;
              }

              throw new rr["b"](e, this._context, {
                plugin: n
              });
            }

            return e;
          }

          has(t) {
            return this._plugins.has(t);
          }

          init(t, e = []) {
            const n = this;
            const i = this._context;
            const o = new Set();
            const s = [];
            const r = m(t);
            const a = m(e);
            const c = f(t);

            if (c) {
              const t = "plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";
              console.error(Object(rr["a"])(t), {
                plugins: c
              });
              return Promise.reject(new rr["b"](t, i, {
                plugins: c
              }));
            }

            return Promise.all(r.map(l)).then(() => d(s, "init")).then(() => d(s, "afterInit")).then(() => s);

            function l(t) {
              if (a.includes(t)) {
                return;
              }

              if (n._plugins.has(t) || o.has(t)) {
                return;
              }

              return u(t).catch(e => {
                console.error(Object(rr["a"])("plugincollection-load: It was not possible to load the plugin."), {
                  plugin: t
                });
                throw e;
              });
            }

            function d(t, e) {
              return t.reduce((t, i) => {
                if (!i[e]) {
                  return t;
                }

                if (n._contextPlugins.has(i)) {
                  return t;
                }

                return t.then(i[e].bind(i));
              }, Promise.resolve());
            }

            function u(t) {
              return new Promise(r => {
                o.add(t);

                if (t.requires) {
                  t.requires.forEach(n => {
                    const o = h(n);

                    if (t.isContextPlugin && !o.isContextPlugin) {
                      throw new rr["b"]("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin", null, {
                        plugin: o.name,
                        requiredBy: t.name
                      });
                    }

                    if (e.includes(o)) {
                      throw new rr["b"]("plugincollection-required: Cannot load a plugin because one of its dependencies is listed in" + "the `removePlugins` option.", i, {
                        plugin: o.name,
                        requiredBy: t.name
                      });
                    }

                    l(o);
                  });
                }

                const a = n._contextPlugins.get(t) || new t(i);

                n._add(t, a);

                s.push(a);
                r();
              });
            }

            function h(t) {
              if (typeof t == "function") {
                return t;
              }

              return n._availablePlugins.get(t);
            }

            function f(t) {
              const e = [];
              var _iteratorNormalCompletion13 = true;
              var _didIteratorError13 = false;
              var _iteratorError13 = undefined;

              try {
                for (var _iterator13 = t[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {
                  const n = _step13.value;

                  if (!h(n)) {
                    e.push(n);
                  }
                }
              } catch (err) {
                _didIteratorError13 = true;
                _iteratorError13 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion13 && _iterator13.return != null) {
                    _iterator13.return();
                  }
                } finally {
                  if (_didIteratorError13) {
                    throw _iteratorError13;
                  }
                }
              }

              return e.length ? e : null;
            }

            function m(t) {
              return t.map(t => h(t)).filter(t => !!t);
            }
          }

          destroy() {
            const t = [];
            var _iteratorNormalCompletion14 = true;
            var _didIteratorError14 = false;
            var _iteratorError14 = undefined;

            try {
              for (var _iterator14 = this[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {
                const _step14$value = _slicedToArray(_step14.value, 2),
                      e = _step14$value[1];

                if (typeof e.destroy == "function" && !this._contextPlugins.has(e)) {
                  t.push(e.destroy());
                }
              }
            } catch (err) {
              _didIteratorError14 = true;
              _iteratorError14 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion14 && _iterator14.return != null) {
                  _iterator14.return();
                }
              } finally {
                if (_didIteratorError14) {
                  throw _iteratorError14;
                }
              }
            }

            return Promise.all(t);
          }

          _add(t, e) {
            this._plugins.set(t, e);

            const n = t.pluginName;

            if (!n) {
              return;
            }

            if (this._plugins.has(n)) {
              throw new rr["b"]("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.", null, {
                pluginName: n,
                plugin1: this._plugins.get(n).constructor,
                plugin2: t
              });
            }

            this._plugins.set(n, e);
          }

        }

        vr(xr, dr);

        if (!window.CKEDITOR_TRANSLATIONS) {
          window.CKEDITOR_TRANSLATIONS = {};
        }

        function Ar(t, e) {
          const n = window.CKEDITOR_TRANSLATIONS[t] || (window.CKEDITOR_TRANSLATIONS[t] = {});
          Object.assign(n, e);
        }

        function Tr(t, e) {
          const n = Sr();

          if (n === 1) {
            t = Object.keys(window.CKEDITOR_TRANSLATIONS)[0];
          }

          if (n === 0 || !Pr(t, e)) {
            return e.replace(/ \[context: [^\]]+\]$/, "");
          }

          const i = window.CKEDITOR_TRANSLATIONS[t];
          return i[e].replace(/ \[context: [^\]]+\]$/, "");
        }

        function Cr() {
          window.CKEDITOR_TRANSLATIONS = {};
        }

        function Pr(t, e) {
          return t in window.CKEDITOR_TRANSLATIONS && e in window.CKEDITOR_TRANSLATIONS[t];
        }

        function Sr() {
          return Object.keys(window.CKEDITOR_TRANSLATIONS).length;
        }

        const Mr = ["ar", "fa", "he", "ku", "ug"];

        class Er {
          constructor(t = {}) {
            this.uiLanguage = t.uiLanguage || "en";
            this.contentLanguage = t.contentLanguage || this.uiLanguage;
            this.uiLanguageDirection = Ir(this.uiLanguage);
            this.contentLanguageDirection = Ir(this.contentLanguage);

            this.t = (...t) => this._t(...t);
          }

          get language() {
            console.warn("locale-deprecated-language-property: " + "The Locale#language property has been deprecated and will be removed in the near future. " + "Please use #uiLanguage and #contentLanguage properties instead.");
            return this.uiLanguage;
          }

          _t(t, e) {
            let n = Tr(this.uiLanguage, t);

            if (e) {
              n = n.replace(/%(\d+)/g, (t, n) => n < e.length ? e[n] : t);
            }

            return n;
          }

        }

        function Ir(t) {
          return Mr.includes(t) ? "rtl" : "ltr";
        }

        class Nr {
          constructor(t) {
            this.config = new Qs(t, this.constructor.defaultConfig);
            const e = this.constructor.builtinPlugins;
            this.config.define("plugins", e);
            this.plugins = new xr(this, e);
            const n = this.config.get("language") || {};
            this.locale = new Er({
              uiLanguage: typeof n === "string" ? n : n.ui,
              contentLanguage: this.config.get("language.content")
            });
            this.t = this.locale.t;
            this.editors = new yr();
            this._contextOwner = null;
          }

          initPlugins() {
            const t = this.config.get("plugins") || [];
            var _iteratorNormalCompletion15 = true;
            var _didIteratorError15 = false;
            var _iteratorError15 = undefined;

            try {
              for (var _iterator15 = t[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {
                const e = _step15.value;

                if (typeof e != "function") {
                  throw new rr["b"]("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.", null, {
                    Plugin: e
                  });
                }

                if (e.isContextPlugin !== true) {
                  throw new rr["b"]("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.", null, {
                    Plugin: e
                  });
                }
              }
            } catch (err) {
              _didIteratorError15 = true;
              _iteratorError15 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion15 && _iterator15.return != null) {
                  _iterator15.return();
                }
              } finally {
                if (_didIteratorError15) {
                  throw _iteratorError15;
                }
              }
            }

            return this.plugins.init(t);
          }

          destroy() {
            return Promise.all(Array.from(this.editors, t => t.destroy())).then(() => this.plugins.destroy());
          }

          _addEditor(t, e) {
            if (this._contextOwner) {
              throw new rr["b"]("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");
            }

            this.editors.add(t);

            if (e) {
              this._contextOwner = t;
            }
          }

          _removeEditor(t) {
            if (this.editors.has(t)) {
              this.editors.remove(t);
            }

            if (this._contextOwner === t) {
              return this.destroy();
            }

            return Promise.resolve();
          }

          _getEditorConfig() {
            const t = {};
            var _iteratorNormalCompletion16 = true;
            var _didIteratorError16 = false;
            var _iteratorError16 = undefined;

            try {
              for (var _iterator16 = this.config.names()[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {
                const e = _step16.value;

                if (!["plugins", "removePlugins", "extraPlugins"].includes(e)) {
                  t[e] = this.config.get(e);
                }
              }
            } catch (err) {
              _didIteratorError16 = true;
              _iteratorError16 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion16 && _iterator16.return != null) {
                  _iterator16.return();
                }
              } finally {
                if (_didIteratorError16) {
                  throw _iteratorError16;
                }
              }
            }

            return t;
          }

          static create(t) {
            return new Promise(e => {
              const n = new this(t);
              e(n.initPlugins().then(() => n));
            });
          }

        }

        function Or(t, e) {
          const n = Math.min(t.length, e.length);

          for (let i = 0; i < n; i++) {
            if (t[i] != e[i]) {
              return i;
            }
          }

          if (t.length == e.length) {
            return "same";
          } else if (t.length < e.length) {
            return "prefix";
          } else {
            return "extension";
          }
        }

        var Rr = 4;

        function Dr(t) {
          return Hs(t, Rr);
        }

        var Lr = Dr;

        class zr {
          constructor() {
            this.parent = null;
          }

          get index() {
            let t;

            if (!this.parent) {
              return null;
            }

            if ((t = this.parent.getChildIndex(this)) == -1) {
              throw new rr["b"]("view-node-not-found-in-parent: The node's parent does not contain this node.", this);
            }

            return t;
          }

          get nextSibling() {
            const t = this.index;
            return t !== null && this.parent.getChild(t + 1) || null;
          }

          get previousSibling() {
            const t = this.index;
            return t !== null && this.parent.getChild(t - 1) || null;
          }

          get root() {
            let t = this;

            while (t.parent) {
              t = t.parent;
            }

            return t;
          }

          get document() {
            if (this.parent instanceof zr) {
              return this.parent.document;
            } else {
              return null;
            }
          }

          getPath() {
            const t = [];
            let e = this;

            while (e.parent) {
              t.unshift(e.index);
              e = e.parent;
            }

            return t;
          }

          getAncestors(t = {
            includeSelf: false,
            parentFirst: false
          }) {
            const e = [];
            let n = t.includeSelf ? this : this.parent;

            while (n) {
              e[t.parentFirst ? "push" : "unshift"](n);
              n = n.parent;
            }

            return e;
          }

          getCommonAncestor(t, e = {}) {
            const n = this.getAncestors(e);
            const i = t.getAncestors(e);
            let o = 0;

            while (n[o] == i[o] && n[o]) {
              o++;
            }

            return o === 0 ? null : n[o - 1];
          }

          isBefore(t) {
            if (this == t) {
              return false;
            }

            if (this.root !== t.root) {
              return false;
            }

            const e = this.getPath();
            const n = t.getPath();
            const i = Or(e, n);

            switch (i) {
              case "prefix":
                return true;

              case "extension":
                return false;

              default:
                return e[i] < n[i];
            }
          }

          isAfter(t) {
            if (this == t) {
              return false;
            }

            if (this.root !== t.root) {
              return false;
            }

            return !this.isBefore(t);
          }

          _remove() {
            this.parent._removeChildren(this.index);
          }

          _fireChange(t, e) {
            this.fire("change:" + t, e);

            if (this.parent) {
              this.parent._fireChange(t, e);
            }
          }

          toJSON() {
            const t = Lr(this);
            delete t.parent;
            return t;
          }

          is(t) {
            return t == "node" || t == "view:node";
          }

        }

        vr(zr, dr);

        class jr extends zr {
          constructor(t) {
            super();
            this._textData = t;
          }

          is(t) {
            return t == "text" || t == "view:text" || super.is(t);
          }

          get data() {
            return this._textData;
          }

          get _data() {
            return this.data;
          }

          set _data(t) {
            this._fireChange("text", this);

            this._textData = t;
          }

          isSimilar(t) {
            if (!(t instanceof jr)) {
              return false;
            }

            return this === t || this.data === t.data;
          }

          _clone() {
            return new jr(this.data);
          }

        }

        class Vr {
          constructor(t, e, n) {
            this.textNode = t;

            if (e < 0 || e > t.data.length) {
              throw new rr["b"]("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.", this);
            }

            if (n < 0 || e + n > t.data.length) {
              throw new rr["b"]("view-textproxy-wrong-length: Given length value is incorrect.", this);
            }

            this.data = t.data.substring(e, e + n);
            this.offsetInText = e;
          }

          get offsetSize() {
            return this.data.length;
          }

          get isPartial() {
            return this.data.length !== this.textNode.data.length;
          }

          get parent() {
            return this.textNode.parent;
          }

          get root() {
            return this.textNode.root;
          }

          get document() {
            return this.textNode.document;
          }

          is(t) {
            return t == "textProxy" || t == "view:textProxy";
          }

          getAncestors(t = {
            includeSelf: false,
            parentFirst: false
          }) {
            const e = [];
            let n = t.includeSelf ? this.textNode : this.parent;

            while (n !== null) {
              e[t.parentFirst ? "push" : "unshift"](n);
              n = n.parent;
            }

            return e;
          }

        }

        function Br(t) {
          const e = new Map();

          for (const n in t) {
            e.set(n, t[n]);
          }

          return e;
        }

        function Fr(t) {
          return !!(t && t[Symbol.iterator]);
        }

        function Hr(t) {
          if (Fr(t)) {
            return new Map(t);
          } else {
            return Br(t);
          }
        }

        class Ur {
          constructor(...t) {
            this._patterns = [];
            this.add(...t);
          }

          add(...t) {
            for (var _i3 = 0, _t2 = t; _i3 < _t2.length; _i3++) {
              let e = _t2[_i3];

              if (typeof e == "string" || e instanceof RegExp) {
                e = {
                  name: e
                };
              }

              if (e.classes && (typeof e.classes == "string" || e.classes instanceof RegExp)) {
                e.classes = [e.classes];
              }

              this._patterns.push(e);
            }
          }

          match(...t) {
            for (var _i4 = 0, _t3 = t; _i4 < _t3.length; _i4++) {
              const e = _t3[_i4];
              var _iteratorNormalCompletion17 = true;
              var _didIteratorError17 = false;
              var _iteratorError17 = undefined;

              try {
                for (var _iterator17 = this._patterns[Symbol.iterator](), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {
                  const t = _step17.value;
                  const n = Wr(e, t);

                  if (n) {
                    return {
                      element: e,
                      pattern: t,
                      match: n
                    };
                  }
                }
              } catch (err) {
                _didIteratorError17 = true;
                _iteratorError17 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion17 && _iterator17.return != null) {
                    _iterator17.return();
                  }
                } finally {
                  if (_didIteratorError17) {
                    throw _iteratorError17;
                  }
                }
              }
            }

            return null;
          }

          matchAll(...t) {
            const e = [];

            for (var _i5 = 0, _t4 = t; _i5 < _t4.length; _i5++) {
              const n = _t4[_i5];
              var _iteratorNormalCompletion18 = true;
              var _didIteratorError18 = false;
              var _iteratorError18 = undefined;

              try {
                for (var _iterator18 = this._patterns[Symbol.iterator](), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {
                  const t = _step18.value;
                  const i = Wr(n, t);

                  if (i) {
                    e.push({
                      element: n,
                      pattern: t,
                      match: i
                    });
                  }
                }
              } catch (err) {
                _didIteratorError18 = true;
                _iteratorError18 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion18 && _iterator18.return != null) {
                    _iterator18.return();
                  }
                } finally {
                  if (_didIteratorError18) {
                    throw _iteratorError18;
                  }
                }
              }
            }

            return e.length > 0 ? e : null;
          }

          getElementName() {
            if (this._patterns.length !== 1) {
              return null;
            }

            const t = this._patterns[0];
            const e = t.name;
            return typeof t != "function" && e && !(e instanceof RegExp) ? e : null;
          }

        }

        function Wr(t, e) {
          if (typeof e == "function") {
            return e(t);
          }

          const n = {};

          if (e.name) {
            n.name = qr(e.name, t.name);

            if (!n.name) {
              return null;
            }
          }

          if (e.attributes) {
            n.attributes = $r(e.attributes, t);

            if (!n.attributes) {
              return null;
            }
          }

          if (e.classes) {
            n.classes = Yr(e.classes, t);

            if (!n.classes) {
              return false;
            }
          }

          if (e.styles) {
            n.styles = Gr(e.styles, t);

            if (!n.styles) {
              return false;
            }
          }

          return n;
        }

        function qr(t, e) {
          if (t instanceof RegExp) {
            return t.test(e);
          }

          return t === e;
        }

        function $r(t, e) {
          const n = [];

          for (const i in t) {
            const o = t[i];

            if (e.hasAttribute(i)) {
              const t = e.getAttribute(i);

              if (o === true) {
                n.push(i);
              } else if (o instanceof RegExp) {
                if (o.test(t)) {
                  n.push(i);
                } else {
                  return null;
                }
              } else if (t === o) {
                n.push(i);
              } else {
                return null;
              }
            } else {
              return null;
            }
          }

          return n;
        }

        function Yr(t, e) {
          const n = [];
          var _iteratorNormalCompletion19 = true;
          var _didIteratorError19 = false;
          var _iteratorError19 = undefined;

          try {
            for (var _iterator19 = t[Symbol.iterator](), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {
              const i = _step19.value;

              if (i instanceof RegExp) {
                const t = e.getClassNames();
                var _iteratorNormalCompletion20 = true;
                var _didIteratorError20 = false;
                var _iteratorError20 = undefined;

                try {
                  for (var _iterator20 = t[Symbol.iterator](), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {
                    const e = _step20.value;

                    if (i.test(e)) {
                      n.push(e);
                    }
                  }
                } catch (err) {
                  _didIteratorError20 = true;
                  _iteratorError20 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion20 && _iterator20.return != null) {
                      _iterator20.return();
                    }
                  } finally {
                    if (_didIteratorError20) {
                      throw _iteratorError20;
                    }
                  }
                }

                if (n.length === 0) {
                  return null;
                }
              } else if (e.hasClass(i)) {
                n.push(i);
              } else {
                return null;
              }
            }
          } catch (err) {
            _didIteratorError19 = true;
            _iteratorError19 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion19 && _iterator19.return != null) {
                _iterator19.return();
              }
            } finally {
              if (_didIteratorError19) {
                throw _iteratorError19;
              }
            }
          }

          return n;
        }

        function Gr(t, e) {
          const n = [];

          for (const i in t) {
            const o = t[i];

            if (e.hasStyle(i)) {
              const t = e.getStyle(i);

              if (o instanceof RegExp) {
                if (o.test(t)) {
                  n.push(i);
                } else {
                  return null;
                }
              } else if (t === o) {
                n.push(i);
              } else {
                return null;
              }
            } else {
              return null;
            }
          }

          return n;
        }

        var Qr = "[object Symbol]";

        function Kr(t) {
          return typeof t == "symbol" || C(t) && k(t) == Qr;
        }

        var Jr = Kr;
        var Zr = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
            Xr = /^\w*$/;

        function ta(t, e) {
          if (Qe(t)) {
            return false;
          }

          var n = typeof t;

          if (n == "number" || n == "symbol" || n == "boolean" || t == null || Jr(t)) {
            return true;
          }

          return Xr.test(t) || !Zr.test(t) || e != null && t in Object(e);
        }

        var ea = ta;
        var na = "Expected a function";

        function ia(t, e) {
          if (typeof t != "function" || e != null && typeof e != "function") {
            throw new TypeError(na);
          }

          var n = function n() {
            var i = arguments,
                o = e ? e.apply(this, i) : i[0],
                s = n.cache;

            if (s.has(o)) {
              return s.get(o);
            }

            var r = t.apply(this, i);
            n.cache = s.set(o, r) || s;
            return r;
          };

          n.cache = new (ia.Cache || ke)();
          return n;
        }

        ia.Cache = ke;
        var oa = ia;
        var sa = 500;

        function ra(t) {
          var e = oa(t, function (t) {
            if (n.size === sa) {
              n.clear();
            }

            return t;
          });
          var n = e.cache;
          return e;
        }

        var aa = ra;
        var ca = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
        var la = /\\(\\)?/g;
        var da = aa(function (t) {
          var e = [];

          if (t.charCodeAt(0) === 46) {
            e.push("");
          }

          t.replace(ca, function (t, n, i, o) {
            e.push(i ? o.replace(la, "$1") : n || t);
          });
          return e;
        });
        var ua = da;

        function ha(t, e) {
          var n = -1,
              i = t == null ? 0 : t.length,
              o = Array(i);

          while (++n < i) {
            o[n] = e(t[n], n, t);
          }

          return o;
        }

        var fa = ha;
        var ma = 1 / 0;
        var ga = s ? s.prototype : undefined,
            pa = ga ? ga.toString : undefined;

        function ba(t) {
          if (typeof t == "string") {
            return t;
          }

          if (Qe(t)) {
            return fa(t, ba) + "";
          }

          if (Jr(t)) {
            return pa ? pa.call(t) : "";
          }

          var e = t + "";
          return e == "0" && 1 / t == -ma ? "-0" : e;
        }

        var wa = ba;

        function _a(t) {
          return t == null ? "" : wa(t);
        }

        var ka = _a;

        function va(t, e) {
          if (Qe(t)) {
            return t;
          }

          return ea(t, e) ? [t] : ua(ka(t));
        }

        var ya = va;

        function xa(t) {
          var e = t == null ? 0 : t.length;
          return e ? t[e - 1] : undefined;
        }

        var Aa = xa;
        var Ta = 1 / 0;

        function Ca(t) {
          if (typeof t == "string" || Jr(t)) {
            return t;
          }

          var e = t + "";
          return e == "0" && 1 / t == -Ta ? "-0" : e;
        }

        var Pa = Ca;

        function Sa(t, e) {
          e = ya(e, t);
          var n = 0,
              i = e.length;

          while (t != null && n < i) {
            t = t[Pa(e[n++])];
          }

          return n && n == i ? t : undefined;
        }

        var Ma = Sa;

        function Ea(t, e, n) {
          var i = -1,
              o = t.length;

          if (e < 0) {
            e = -e > o ? 0 : o + e;
          }

          n = n > o ? o : n;

          if (n < 0) {
            n += o;
          }

          o = e > n ? 0 : n - e >>> 0;
          e >>>= 0;
          var s = Array(o);

          while (++i < o) {
            s[i] = t[i + e];
          }

          return s;
        }

        var Ia = Ea;

        function Na(t, e) {
          return e.length < 2 ? t : Ma(t, Ia(e, 0, -1));
        }

        var Oa = Na;

        function Ra(t, e) {
          e = ya(e, t);
          t = Oa(t, e);
          return t == null || delete t[Pa(Aa(e))];
        }

        var Da = Ra;

        function La(t, e) {
          return t == null ? true : Da(t, e);
        }

        var za = La;

        function ja(t, e, n) {
          var i = t == null ? undefined : Ma(t, e);
          return i === undefined ? n : i;
        }

        var Va = ja;

        function Ba(t, e, n) {
          if (n !== undefined && !j(t[e], n) || n === undefined && !(e in t)) {
            Ie(t, e, n);
          }
        }

        var Fa = Ba;

        function Ha(t) {
          return function (e, n, i) {
            var o = -1,
                s = Object(e),
                r = i(e),
                a = r.length;

            while (a--) {
              var c = r[t ? a : ++o];

              if (n(s[c], c, s) === false) {
                break;
              }
            }

            return e;
          };
        }

        var Ua = Ha;
        var Wa = Ua();
        var qa = Wa;

        function $a(t) {
          return C(t) && Zn(t);
        }

        var Ya = $a;

        function Ga(t, e) {
          if (e === "constructor" && typeof t[e] === "function") {
            return;
          }

          if (e == "__proto__") {
            return;
          }

          return t[e];
        }

        var Qa = Ga;

        function Ka(t) {
          return ze(t, di(t));
        }

        var Ja = Ka;

        function Za(t, e, n, i, o, s, r) {
          var a = Qa(t, n),
              c = Qa(e, n),
              l = r.get(c);

          if (l) {
            Fa(t, n, l);
            return;
          }

          var d = s ? s(a, c, n + "", t, e, r) : undefined;
          var u = d === undefined;

          if (u) {
            var h = Qe(c),
                f = !h && Object(Ke["a"])(c),
                m = !h && !f && zn(c);
            d = c;

            if (h || f || m) {
              if (Qe(a)) {
                d = a;
              } else if (Ya(a)) {
                d = gi(a);
              } else if (f) {
                u = false;
                d = Object(fi["a"])(c, true);
              } else if (m) {
                u = false;
                d = Co(c, true);
              } else {
                d = [];
              }
            } else if (R(c) || Ye(c)) {
              d = a;

              if (Ye(a)) {
                d = Ja(a);
              } else if (!ct(a) || mt(a)) {
                d = Zo(c);
              }
            } else {
              u = false;
            }
          }

          if (u) {
            r.set(c, d);
            o(d, c, i, s, r);
            r["delete"](c);
          }

          Fa(t, n, d);
        }

        var Xa = Za;

        function tc(t, e, n, i, o) {
          if (t === e) {
            return;
          }

          qa(e, function (s, r) {
            o || (o = new Te());

            if (ct(s)) {
              Xa(t, e, r, n, tc, i, o);
            } else {
              var a = i ? i(Qa(t, r), s, r + "", t, e, o) : undefined;

              if (a === undefined) {
                a = s;
              }

              Fa(t, r, a);
            }
          }, di);
        }

        var ec = tc;

        function nc(t) {
          return t;
        }

        var ic = nc;

        function oc(t, e, n) {
          switch (n.length) {
            case 0:
              return t.call(e);

            case 1:
              return t.call(e, n[0]);

            case 2:
              return t.call(e, n[0], n[1]);

            case 3:
              return t.call(e, n[0], n[1], n[2]);
          }

          return t.apply(e, n);
        }

        var sc = oc;
        var rc = Math.max;

        function ac(t, e, n) {
          e = rc(e === undefined ? t.length - 1 : e, 0);
          return function () {
            var i = arguments,
                o = -1,
                s = rc(i.length - e, 0),
                r = Array(s);

            while (++o < s) {
              r[o] = i[e + o];
            }

            o = -1;
            var a = Array(e + 1);

            while (++o < e) {
              a[o] = i[o];
            }

            a[e] = n(r);
            return sc(t, this, a);
          };
        }

        var cc = ac;

        function lc(t) {
          return function () {
            return t;
          };
        }

        var dc = lc;
        var uc = !Me ? ic : function (t, e) {
          return Me(t, "toString", {
            configurable: true,
            enumerable: false,
            value: dc(e),
            writable: true
          });
        };
        var hc = uc;
        var fc = 800,
            mc = 16;
        var gc = Date.now;

        function pc(t) {
          var e = 0,
              n = 0;
          return function () {
            var i = gc(),
                o = mc - (i - n);
            n = i;

            if (o > 0) {
              if (++e >= fc) {
                return arguments[0];
              }
            } else {
              e = 0;
            }

            return t.apply(undefined, arguments);
          };
        }

        var bc = pc;
        var wc = bc(hc);
        var _c = wc;

        function kc(t, e) {
          return _c(cc(t, e, ic), t + "");
        }

        var vc = kc;

        function yc(t, e, n) {
          if (!ct(n)) {
            return false;
          }

          var i = typeof e;

          if (i == "number" ? Zn(n) && tn(e, n.length) : i == "string" && e in n) {
            return j(n[e], t);
          }

          return false;
        }

        var xc = yc;

        function Ac(t) {
          return vc(function (e, n) {
            var i = -1,
                o = n.length,
                s = o > 1 ? n[o - 1] : undefined,
                r = o > 2 ? n[2] : undefined;
            s = t.length > 3 && typeof s == "function" ? (o--, s) : undefined;

            if (r && xc(n[0], n[1], r)) {
              s = o < 3 ? undefined : s;
              o = 1;
            }

            e = Object(e);

            while (++i < o) {
              var a = n[i];

              if (a) {
                t(e, a, i, s);
              }
            }

            return e;
          });
        }

        var Tc = Ac;
        var Cc = Tc(function (t, e, n) {
          ec(t, e, n);
        });
        var Pc = Cc;

        function Sc(t, e, n, i) {
          if (!ct(t)) {
            return t;
          }

          e = ya(e, t);
          var o = -1,
              s = e.length,
              r = s - 1,
              a = t;

          while (a != null && ++o < s) {
            var c = Pa(e[o]),
                l = n;

            if (o != r) {
              var d = a[c];
              l = i ? i(d, c, a) : undefined;

              if (l === undefined) {
                l = ct(d) ? d : tn(e[o + 1]) ? [] : {};
              }
            }

            De(a, c, l);
            a = a[c];
          }

          return t;
        }

        var Mc = Sc;

        function Ec(t, e, n) {
          return t == null ? t : Mc(t, e, n);
        }

        var Ic = Ec;

        class Nc {
          constructor() {
            this._styles = {};
            Object.defineProperty(this, "_styleProcessor", {
              get() {
                return Nc._styleProcessor;
              },

              enumerable: false
            });
          }

          get isEmpty() {
            const t = Object.entries(this._styles);
            const e = Array.from(t);
            return !e.length;
          }

          get size() {
            if (this.isEmpty) {
              return 0;
            }

            return this.getStyleNames().length;
          }

          setTo(t) {
            this.clear();
            const e = Array.from(Rc(t).entries());

            for (var _i6 = 0, _e2 = e; _i6 < _e2.length; _i6++) {
              const _e2$_i = _slicedToArray(_e2[_i6], 2),
                    t = _e2$_i[0],
                    n = _e2$_i[1];

              this._styleProcessor.toNormalizedForm(t, n, this._styles);
            }
          }

          has(t) {
            if (this.isEmpty) {
              return false;
            }

            const e = this._styleProcessor.getReducedForm(t, this._styles);

            const n = e.find(([e]) => e === t);
            return Array.isArray(n);
          }

          set(t, e) {
            if (ct(t)) {
              for (var _i7 = 0, _Object$entries = Object.entries(t); _i7 < _Object$entries.length; _i7++) {
                const _Object$entries$_i = _slicedToArray(_Object$entries[_i7], 2),
                      e = _Object$entries$_i[0],
                      n = _Object$entries$_i[1];

                this._styleProcessor.toNormalizedForm(e, n, this._styles);
              }
            } else {
              this._styleProcessor.toNormalizedForm(t, e, this._styles);
            }
          }

          remove(t) {
            const e = Dc(t);
            za(this._styles, e);
            delete this._styles[t];

            this._cleanEmptyObjectsOnPath(e);
          }

          getNormalized(t) {
            return this._styleProcessor.getNormalized(t, this._styles);
          }

          toString() {
            if (this.isEmpty) {
              return "";
            }

            return this._getStylesEntries().map(t => t.join(":")).sort().join(";") + ";";
          }

          getAsString(t) {
            if (this.isEmpty) {
              return;
            }

            if (this._styles[t] && !ct(this._styles[t])) {
              return this._styles[t];
            }

            const e = this._styleProcessor.getReducedForm(t, this._styles);

            const n = e.find(([e]) => e === t);

            if (Array.isArray(n)) {
              return n[1];
            }
          }

          getStyleNames() {
            if (this.isEmpty) {
              return [];
            }

            const t = this._getStylesEntries();

            return t.map(([t]) => t);
          }

          clear() {
            this._styles = {};
          }

          static getRelatedStyles(t) {
            return this._styleProcessor.getRelatedStyles(t);
          }

          _getStylesEntries() {
            const t = [];
            const e = Object.keys(this._styles);

            for (var _i8 = 0, _e3 = e; _i8 < _e3.length; _i8++) {
              const n = _e3[_i8];
              t.push(...this._styleProcessor.getReducedForm(n, this._styles));
            }

            return t;
          }

          _cleanEmptyObjectsOnPath(t) {
            const e = t.split(".");
            const n = e.length > 1;

            if (!n) {
              return;
            }

            const i = e.splice(0, e.length - 1).join(".");
            const o = Va(this._styles, i);

            if (!o) {
              return;
            }

            const s = !Array.from(Object.keys(o)).length;

            if (s) {
              this.remove(i);
            }
          }

          static get _styleProcessor() {
            if (!this._processor) {
              this._processor = new Oc();
            }

            return this._processor;
          }

          static _setProcessor(t) {
            this._processor = t;
          }

        }

        class Oc {
          constructor() {
            this._normalizers = new Map();
            this._extractors = new Map();
            this._reducers = new Map();
            this._consumables = new Map();
          }

          toNormalizedForm(t, e, n) {
            if (ct(e)) {
              Lc(n, Dc(t), e);
              return;
            }

            if (this._normalizers.has(t)) {
              const i = this._normalizers.get(t);

              const _i9 = i(e),
                    o = _i9.path,
                    s = _i9.value;

              Lc(n, o, s);
            } else {
              Lc(n, t, e);
            }
          }

          getNormalized(t, e) {
            if (!t) {
              return Pc({}, e);
            }

            if (e[t] !== undefined) {
              return e[t];
            }

            if (this._extractors.has(t)) {
              const n = this._extractors.get(t);

              if (typeof n === "string") {
                return Va(e, n);
              }

              const i = n(t, e);

              if (i) {
                return i;
              }
            }

            return Va(e, Dc(t));
          }

          getReducedForm(t, e) {
            const n = this.getNormalized(t, e);

            if (n === undefined) {
              return [];
            }

            if (this._reducers.has(t)) {
              const e = this._reducers.get(t);

              return e(n);
            }

            return [[t, n]];
          }

          getRelatedStyles(t) {
            return this._consumables.get(t) || [];
          }

          setNormalizer(t, e) {
            this._normalizers.set(t, e);
          }

          setExtractor(t, e) {
            this._extractors.set(t, e);
          }

          setReducer(t, e) {
            this._reducers.set(t, e);
          }

          setStyleRelation(t, e) {
            this._mapStyleNames(t, e);

            var _iteratorNormalCompletion21 = true;
            var _didIteratorError21 = false;
            var _iteratorError21 = undefined;

            try {
              for (var _iterator21 = e[Symbol.iterator](), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {
                const n = _step21.value;

                this._mapStyleNames(n, [t]);
              }
            } catch (err) {
              _didIteratorError21 = true;
              _iteratorError21 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion21 && _iterator21.return != null) {
                  _iterator21.return();
                }
              } finally {
                if (_didIteratorError21) {
                  throw _iteratorError21;
                }
              }
            }
          }

          _mapStyleNames(t, e) {
            if (!this._consumables.has(t)) {
              this._consumables.set(t, []);
            }

            this._consumables.get(t).push(...e);
          }

        }

        function Rc(t) {
          let e = null;
          let n = 0;
          let i = 0;
          let o = null;
          const s = new Map();

          if (t === "") {
            return s;
          }

          if (t.charAt(t.length - 1) != ";") {
            t = t + ";";
          }

          for (let r = 0; r < t.length; r++) {
            const a = t.charAt(r);

            if (e === null) {
              switch (a) {
                case ":":
                  if (!o) {
                    o = t.substr(n, r - n);
                    i = r + 1;
                  }

                  break;

                case '"':
                case "'":
                  e = a;
                  break;

                case ";":
                  {
                    const e = t.substr(i, r - i);

                    if (o) {
                      s.set(o.trim(), e.trim());
                    }

                    o = null;
                    n = r + 1;
                    break;
                  }
              }
            } else if (a === e) {
              e = null;
            }
          }

          return s;
        }

        function Dc(t) {
          return t.replace("-", ".");
        }

        function Lc(t, e, n) {
          let i = n;

          if (ct(n)) {
            i = Pc({}, Va(t, e), n);
          }

          Ic(t, e, i);
        }

        class zc extends zr {
          constructor(t, e, n) {
            super();
            this.name = t;
            this._attrs = jc(e);
            this._children = [];

            if (n) {
              this._insertChild(0, n);
            }

            this._classes = new Set();

            if (this._attrs.has("class")) {
              const t = this._attrs.get("class");

              Vc(this._classes, t);

              this._attrs.delete("class");
            }

            this._styles = new Nc();

            if (this._attrs.has("style")) {
              this._styles.setTo(this._attrs.get("style"));

              this._attrs.delete("style");
            }

            this._customProperties = new Map();
          }

          get childCount() {
            return this._children.length;
          }

          get isEmpty() {
            return this._children.length === 0;
          }

          is(t, e = null) {
            const n = t.replace(/^view:/, "");

            if (!e) {
              return n == "element" || n == this.name || super.is(t);
            } else {
              return n == "element" && e == this.name;
            }
          }

          getChild(t) {
            return this._children[t];
          }

          getChildIndex(t) {
            return this._children.indexOf(t);
          }

          getChildren() {
            return this._children[Symbol.iterator]();
          }

          getAttributeKeys() {
            var _this3 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee3() {
                return regeneratorRuntime.wrap(function _callee3$(_context3) {
                  while (1) switch (_context3.prev = _context3.next) {
                    case 0:
                      if (!(_this3._classes.size > 0)) {
                        _context3.next = 3;
                        break;
                      }

                      _context3.next = 3;
                      return "class";

                    case 3:
                      if (_this3._styles.isEmpty) {
                        _context3.next = 6;
                        break;
                      }

                      _context3.next = 6;
                      return "style";

                    case 6:
                      return _context3.delegateYield(_this3._attrs.keys(), "t0", 7);

                    case 7:
                    case "end":
                      return _context3.stop();
                  }
                }, _callee3);
              })()
            );
          }

          getAttributes() {
            var _this4 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee4() {
                return regeneratorRuntime.wrap(function _callee4$(_context4) {
                  while (1) switch (_context4.prev = _context4.next) {
                    case 0:
                      return _context4.delegateYield(_this4._attrs.entries(), "t0", 1);

                    case 1:
                      if (!(_this4._classes.size > 0)) {
                        _context4.next = 4;
                        break;
                      }

                      _context4.next = 4;
                      return ["class", _this4.getAttribute("class")];

                    case 4:
                      if (_this4._styles.isEmpty) {
                        _context4.next = 7;
                        break;
                      }

                      _context4.next = 7;
                      return ["style", _this4.getAttribute("style")];

                    case 7:
                    case "end":
                      return _context4.stop();
                  }
                }, _callee4);
              })()
            );
          }

          getAttribute(t) {
            if (t == "class") {
              if (this._classes.size > 0) {
                return [...this._classes].join(" ");
              }

              return undefined;
            }

            if (t == "style") {
              const t = this._styles.toString();

              return t == "" ? undefined : t;
            }

            return this._attrs.get(t);
          }

          hasAttribute(t) {
            if (t == "class") {
              return this._classes.size > 0;
            }

            if (t == "style") {
              return !this._styles.isEmpty;
            }

            return this._attrs.has(t);
          }

          isSimilar(t) {
            if (!(t instanceof zc)) {
              return false;
            }

            if (this === t) {
              return true;
            }

            if (this.name != t.name) {
              return false;
            }

            if (this._attrs.size !== t._attrs.size || this._classes.size !== t._classes.size || this._styles.size !== t._styles.size) {
              return false;
            }

            var _iteratorNormalCompletion22 = true;
            var _didIteratorError22 = false;
            var _iteratorError22 = undefined;

            try {
              for (var _iterator22 = this._attrs[Symbol.iterator](), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {
                const _step22$value = _slicedToArray(_step22.value, 2),
                      e = _step22$value[0],
                      n = _step22$value[1];

                if (!t._attrs.has(e) || t._attrs.get(e) !== n) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError22 = true;
              _iteratorError22 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion22 && _iterator22.return != null) {
                  _iterator22.return();
                }
              } finally {
                if (_didIteratorError22) {
                  throw _iteratorError22;
                }
              }
            }

            var _iteratorNormalCompletion23 = true;
            var _didIteratorError23 = false;
            var _iteratorError23 = undefined;

            try {
              for (var _iterator23 = this._classes[Symbol.iterator](), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {
                const e = _step23.value;

                if (!t._classes.has(e)) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError23 = true;
              _iteratorError23 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion23 && _iterator23.return != null) {
                  _iterator23.return();
                }
              } finally {
                if (_didIteratorError23) {
                  throw _iteratorError23;
                }
              }
            }

            var _iteratorNormalCompletion24 = true;
            var _didIteratorError24 = false;
            var _iteratorError24 = undefined;

            try {
              for (var _iterator24 = this._styles.getStyleNames()[Symbol.iterator](), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {
                const e = _step24.value;

                if (!t._styles.has(e) || t._styles.getAsString(e) !== this._styles.getAsString(e)) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError24 = true;
              _iteratorError24 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion24 && _iterator24.return != null) {
                  _iterator24.return();
                }
              } finally {
                if (_didIteratorError24) {
                  throw _iteratorError24;
                }
              }
            }

            return true;
          }

          hasClass(...t) {
            for (var _i10 = 0, _t5 = t; _i10 < _t5.length; _i10++) {
              const e = _t5[_i10];

              if (!this._classes.has(e)) {
                return false;
              }
            }

            return true;
          }

          getClassNames() {
            return this._classes.keys();
          }

          getStyle(t) {
            return this._styles.getAsString(t);
          }

          getNormalizedStyle(t) {
            return this._styles.getNormalized(t);
          }

          getStyleNames() {
            return this._styles.getStyleNames();
          }

          hasStyle(...t) {
            for (var _i11 = 0, _t6 = t; _i11 < _t6.length; _i11++) {
              const e = _t6[_i11];

              if (!this._styles.has(e)) {
                return false;
              }
            }

            return true;
          }

          findAncestor(...t) {
            const e = new Ur(...t);
            let n = this.parent;

            while (n) {
              if (e.match(n)) {
                return n;
              }

              n = n.parent;
            }

            return null;
          }

          getCustomProperty(t) {
            return this._customProperties.get(t);
          }

          getCustomProperties() {
            var _this5 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee5() {
                return regeneratorRuntime.wrap(function _callee5$(_context5) {
                  while (1) switch (_context5.prev = _context5.next) {
                    case 0:
                      return _context5.delegateYield(_this5._customProperties.entries(), "t0", 1);

                    case 1:
                    case "end":
                      return _context5.stop();
                  }
                }, _callee5);
              })()
            );
          }

          getIdentity() {
            const t = Array.from(this._classes).sort().join(",");

            const e = this._styles.toString();

            const n = Array.from(this._attrs).map(t => "".concat(t[0], "=\"").concat(t[1], "\"")).sort().join(" ");
            return this.name + (t == "" ? "" : " class=\"".concat(t, "\"")) + (!e ? "" : " style=\"".concat(e, "\"")) + (n == "" ? "" : " ".concat(n));
          }

          _clone(t = false) {
            const e = [];

            if (t) {
              var _iteratorNormalCompletion25 = true;
              var _didIteratorError25 = false;
              var _iteratorError25 = undefined;

              try {
                for (var _iterator25 = this.getChildren()[Symbol.iterator](), _step25; !(_iteratorNormalCompletion25 = (_step25 = _iterator25.next()).done); _iteratorNormalCompletion25 = true) {
                  const n = _step25.value;
                  e.push(n._clone(t));
                }
              } catch (err) {
                _didIteratorError25 = true;
                _iteratorError25 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion25 && _iterator25.return != null) {
                    _iterator25.return();
                  }
                } finally {
                  if (_didIteratorError25) {
                    throw _iteratorError25;
                  }
                }
              }
            }

            const n = new this.constructor(this.name, this._attrs, e);
            n._classes = new Set(this._classes);

            n._styles.set(this._styles.getNormalized());

            n._customProperties = new Map(this._customProperties);
            n.getFillerOffset = this.getFillerOffset;
            return n;
          }

          _appendChild(t) {
            return this._insertChild(this.childCount, t);
          }

          _insertChild(t, e) {
            this._fireChange("children", this);

            let n = 0;
            const i = Bc(e);
            var _iteratorNormalCompletion26 = true;
            var _didIteratorError26 = false;
            var _iteratorError26 = undefined;

            try {
              for (var _iterator26 = i[Symbol.iterator](), _step26; !(_iteratorNormalCompletion26 = (_step26 = _iterator26.next()).done); _iteratorNormalCompletion26 = true) {
                const e = _step26.value;

                if (e.parent !== null) {
                  e._remove();
                }

                e.parent = this;

                this._children.splice(t, 0, e);

                t++;
                n++;
              }
            } catch (err) {
              _didIteratorError26 = true;
              _iteratorError26 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion26 && _iterator26.return != null) {
                  _iterator26.return();
                }
              } finally {
                if (_didIteratorError26) {
                  throw _iteratorError26;
                }
              }
            }

            return n;
          }

          _removeChildren(t, e = 1) {
            this._fireChange("children", this);

            for (let n = t; n < t + e; n++) {
              this._children[n].parent = null;
            }

            return this._children.splice(t, e);
          }

          _setAttribute(t, e) {
            e = String(e);

            this._fireChange("attributes", this);

            if (t == "class") {
              Vc(this._classes, e);
            } else if (t == "style") {
              this._styles.setTo(e);
            } else {
              this._attrs.set(t, e);
            }
          }

          _removeAttribute(t) {
            this._fireChange("attributes", this);

            if (t == "class") {
              if (this._classes.size > 0) {
                this._classes.clear();

                return true;
              }

              return false;
            }

            if (t == "style") {
              if (!this._styles.isEmpty) {
                this._styles.clear();

                return true;
              }

              return false;
            }

            return this._attrs.delete(t);
          }

          _addClass(t) {
            this._fireChange("attributes", this);

            t = Array.isArray(t) ? t : [t];
            t.forEach(t => this._classes.add(t));
          }

          _removeClass(t) {
            this._fireChange("attributes", this);

            t = Array.isArray(t) ? t : [t];
            t.forEach(t => this._classes.delete(t));
          }

          _setStyle(t, e) {
            this._fireChange("attributes", this);

            this._styles.set(t, e);
          }

          _removeStyle(t) {
            this._fireChange("attributes", this);

            t = Array.isArray(t) ? t : [t];
            t.forEach(t => this._styles.remove(t));
          }

          _setCustomProperty(t, e) {
            this._customProperties.set(t, e);
          }

          _removeCustomProperty(t) {
            return this._customProperties.delete(t);
          }

        }

        function jc(t) {
          t = Hr(t);
          var _iteratorNormalCompletion27 = true;
          var _didIteratorError27 = false;
          var _iteratorError27 = undefined;

          try {
            for (var _iterator27 = t[Symbol.iterator](), _step27; !(_iteratorNormalCompletion27 = (_step27 = _iterator27.next()).done); _iteratorNormalCompletion27 = true) {
              const _step27$value = _slicedToArray(_step27.value, 2),
                    e = _step27$value[0],
                    n = _step27$value[1];

              if (n === null) {
                t.delete(e);
              } else if (typeof n != "string") {
                t.set(e, String(n));
              }
            }
          } catch (err) {
            _didIteratorError27 = true;
            _iteratorError27 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion27 && _iterator27.return != null) {
                _iterator27.return();
              }
            } finally {
              if (_didIteratorError27) {
                throw _iteratorError27;
              }
            }
          }

          return t;
        }

        function Vc(t, e) {
          const n = e.split(/\s+/);
          t.clear();
          n.forEach(e => t.add(e));
        }

        function Bc(t) {
          if (typeof t == "string") {
            return [new jr(t)];
          }

          if (!Fr(t)) {
            t = [t];
          }

          return Array.from(t).map(t => {
            if (typeof t == "string") {
              return new jr(t);
            }

            if (t instanceof Vr) {
              return new jr(t.data);
            }

            return t;
          });
        }

        class Fc extends zc {
          constructor(t, e, n) {
            super(t, e, n);
            this.getFillerOffset = Hc;
          }

          is(t, e = null) {
            const n = t && t.replace(/^view:/, "");

            if (!e) {
              return n == "containerElement" || super.is(t);
            } else {
              return n == "containerElement" && e == this.name || super.is(t, e);
            }
          }

        }

        function Hc() {
          const t = [...this.getChildren()];
          const e = t[this.childCount - 1];

          if (e && e.is("element", "br")) {
            return this.childCount;
          }

          for (var _i12 = 0, _t7 = t; _i12 < _t7.length; _i12++) {
            const e = _t7[_i12];

            if (!e.is("uiElement")) {
              return null;
            }
          }

          return this.childCount;
        }

        var Uc = Tc(function (t, e) {
          ze(e, di(e), t);
        });
        var Wc = Uc;
        const qc = Symbol("observableProperties");
        const $c = Symbol("boundObservables");
        const Yc = Symbol("boundProperties");
        const Gc = {
          set(t, e) {
            if (ct(t)) {
              Object.keys(t).forEach(e => {
                this.set(e, t[e]);
              }, this);
              return;
            }

            Kc(this);
            const n = this[qc];

            if (t in this && !n.has(t)) {
              throw new rr["b"]("observable-set-cannot-override: Cannot override an existing property.", this);
            }

            Object.defineProperty(this, t, {
              enumerable: true,
              configurable: true,

              get() {
                return n.get(t);
              },

              set(e) {
                const i = n.get(t);
                let o = this.fire("set:" + t, t, e, i);

                if (o === undefined) {
                  o = e;
                }

                if (i !== o || !n.has(t)) {
                  n.set(t, o);
                  this.fire("change:" + t, t, o, i);
                }
              }

            });
            this[t] = e;
          },

          bind(...t) {
            if (!t.length || !tl(t)) {
              throw new rr["b"]("observable-bind-wrong-properties: All properties must be strings.", this);
            }

            if (new Set(t).size !== t.length) {
              throw new rr["b"]("observable-bind-duplicate-properties: Properties must be unique.", this);
            }

            Kc(this);
            const e = this[Yc];
            t.forEach(t => {
              if (e.has(t)) {
                throw new rr["b"]("observable-bind-rebind: Cannot bind the same property more than once.", this);
              }
            });
            const n = new Map();
            t.forEach(t => {
              const i = {
                property: t,
                to: []
              };
              e.set(t, i);
              n.set(t, i);
            });
            return {
              to: Jc,
              toMany: Zc,
              _observable: this,
              _bindProperties: t,
              _to: [],
              _bindings: n
            };
          },

          unbind(...t) {
            if (!(qc in this)) {
              return;
            }

            const e = this[Yc];
            const n = this[$c];

            if (t.length) {
              if (!tl(t)) {
                throw new rr["b"]("observable-unbind-wrong-properties: Properties must be strings.", this);
              }

              t.forEach(t => {
                const i = e.get(t);

                if (!i) {
                  return;
                }

                let o, s, r, a;
                i.to.forEach(t => {
                  o = t[0];
                  s = t[1];
                  r = n.get(o);
                  a = r[s];
                  a.delete(i);

                  if (!a.size) {
                    delete r[s];
                  }

                  if (!Object.keys(r).length) {
                    n.delete(o);
                    this.stopListening(o, "change");
                  }
                });
                e.delete(t);
              });
            } else {
              n.forEach((t, e) => {
                this.stopListening(e, "change");
              });
              n.clear();
              e.clear();
            }
          },

          decorate(t) {
            const e = this[t];

            if (!e) {
              throw new rr["b"]("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.", this, {
                object: this,
                methodName: t
              });
            }

            this.on(t, (t, n) => {
              t.return = e.apply(this, n);
            });

            this[t] = function (...e) {
              return this.fire(t, e);
            };
          }

        };
        Wc(Gc, dr);
        var Qc = Gc;

        function Kc(t) {
          if (qc in t) {
            return;
          }

          Object.defineProperty(t, qc, {
            value: new Map()
          });
          Object.defineProperty(t, $c, {
            value: new Map()
          });
          Object.defineProperty(t, Yc, {
            value: new Map()
          });
        }

        function Jc(...t) {
          const e = el(...t);
          const n = Array.from(this._bindings.keys());
          const i = n.length;

          if (!e.callback && e.to.length > 1) {
            throw new rr["b"]("observable-bind-to-no-callback: Binding multiple observables only possible with callback.", this);
          }

          if (i > 1 && e.callback) {
            throw new rr["b"]("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.", this);
          }

          e.to.forEach(t => {
            if (t.properties.length && t.properties.length !== i) {
              throw new rr["b"]("observable-bind-to-properties-length: The number of properties must match.", this);
            }

            if (!t.properties.length) {
              t.properties = this._bindProperties;
            }
          });
          this._to = e.to;

          if (e.callback) {
            this._bindings.get(n[0]).callback = e.callback;
          }

          sl(this._observable, this._to);
          il(this);

          this._bindProperties.forEach(t => {
            ol(this._observable, t);
          });
        }

        function Zc(t, e, n) {
          if (this._bindings.size > 1) {
            throw new rr["b"]("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().", this);
          }

          this.to(...Xc(t, e), n);
        }

        function Xc(t, e) {
          const n = t.map(t => [t, e]);
          return Array.prototype.concat.apply([], n);
        }

        function tl(t) {
          return t.every(t => typeof t == "string");
        }

        function el(...t) {
          if (!t.length) {
            throw new rr["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.", null);
          }

          const e = {
            to: []
          };
          let n;

          if (typeof t[t.length - 1] == "function") {
            e.callback = t.pop();
          }

          t.forEach(t => {
            if (typeof t == "string") {
              n.properties.push(t);
            } else if (typeof t == "object") {
              n = {
                observable: t,
                properties: []
              };
              e.to.push(n);
            } else {
              throw new rr["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.", null);
            }
          });
          return e;
        }

        function nl(t, e, n, i) {
          const o = t[$c];
          const s = o.get(n);
          const r = s || {};

          if (!r[i]) {
            r[i] = new Set();
          }

          r[i].add(e);

          if (!s) {
            o.set(n, r);
          }
        }

        function il(t) {
          let e;

          t._bindings.forEach((n, i) => {
            t._to.forEach(o => {
              e = o.properties[n.callback ? 0 : t._bindProperties.indexOf(i)];
              n.to.push([o.observable, e]);
              nl(t._observable, n, o.observable, e);
            });
          });
        }

        function ol(t, e) {
          const n = t[Yc];
          const i = n.get(e);
          let o;

          if (i.callback) {
            o = i.callback.apply(t, i.to.map(t => t[0][t[1]]));
          } else {
            o = i.to[0];
            o = o[0][o[1]];
          }

          if (t.hasOwnProperty(e)) {
            t[e] = o;
          } else {
            t.set(e, o);
          }
        }

        function sl(t, e) {
          e.forEach(e => {
            const n = t[$c];
            let i;

            if (!n.get(e.observable)) {
              t.listenTo(e.observable, "change", (o, s) => {
                i = n.get(e.observable)[s];

                if (i) {
                  i.forEach(e => {
                    ol(t, e.property);
                  });
                }
              });
            }
          });
        }

        const rl = Symbol("document");

        class al extends Fc {
          constructor(t, e, n) {
            super(t, e, n);
            this.set("isReadOnly", false);
            this.set("isFocused", false);
          }

          is(t, e = null) {
            const n = t && t.replace(/^view:/, "");

            if (!e) {
              return n == "editableElement" || super.is(t);
            } else {
              return n == "editableElement" && e == this.name || super.is(t, e);
            }
          }

          destroy() {
            this.stopListening();
          }

          get document() {
            return this.getCustomProperty(rl);
          }

          set _document(t) {
            if (this.getCustomProperty(rl)) {
              throw new rr["b"]("view-editableelement-document-already-set: View document is already set.", this);
            }

            this._setCustomProperty(rl, t);

            this.bind("isReadOnly").to(t);
            this.bind("isFocused").to(t, "isFocused", e => e && t.selection.editableElement == this);
            this.listenTo(t.selection, "change", () => {
              this.isFocused = t.isFocused && t.selection.editableElement == this;
            });
          }

        }

        vr(al, Qc);
        const cl = Symbol("rootName");

        class ll extends al {
          constructor(t) {
            super(t);
            this.rootName = "main";
          }

          is(t, e = null) {
            const n = t.replace(/^view:/, "");

            if (!e) {
              return n == "rootElement" || super.is(t);
            } else {
              return n == "rootElement" && e == this.name || super.is(t, e);
            }
          }

          get rootName() {
            return this.getCustomProperty(cl);
          }

          set rootName(t) {
            this._setCustomProperty(cl, t);
          }

          set _name(t) {
            this.name = t;
          }

        }

        class dl {
          constructor(t = {}) {
            if (!t.boundaries && !t.startPosition) {
              throw new rr["b"]("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.", null);
            }

            if (t.direction && t.direction != "forward" && t.direction != "backward") {
              throw new rr["b"]("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.", t.startPosition, {
                direction: t.direction
              });
            }

            this.boundaries = t.boundaries || null;

            if (t.startPosition) {
              this.position = ul._createAt(t.startPosition);
            } else {
              this.position = ul._createAt(t.boundaries[t.direction == "backward" ? "end" : "start"]);
            }

            this.direction = t.direction || "forward";
            this.singleCharacters = !!t.singleCharacters;
            this.shallow = !!t.shallow;
            this.ignoreElementEnd = !!t.ignoreElementEnd;
            this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null;
            this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null;
          }

          [Symbol.iterator]() {
            return this;
          }

          skip(t) {
            let e, n, i;

            do {
              i = this.position;

              var _this$next = this.next();

              e = _this$next.done;
              n = _this$next.value;
            } while (!e && t(n));

            if (!e) {
              this.position = i;
            }
          }

          next() {
            if (this.direction == "forward") {
              return this._next();
            } else {
              return this._previous();
            }
          }

          _next() {
            let t = this.position.clone();
            const e = this.position;
            const n = t.parent;

            if (n.parent === null && t.offset === n.childCount) {
              return {
                done: true
              };
            }

            if (n === this._boundaryEndParent && t.offset == this.boundaries.end.offset) {
              return {
                done: true
              };
            }

            let i;

            if (n instanceof jr) {
              if (t.isAtEnd) {
                this.position = ul._createAfter(n);
                return this._next();
              }

              i = n.data[t.offset];
            } else {
              i = n.getChild(t.offset);
            }

            if (i instanceof zc) {
              if (!this.shallow) {
                t = new ul(i, 0);
              } else {
                t.offset++;
              }

              this.position = t;
              return this._formatReturnValue("elementStart", i, e, t, 1);
            } else if (i instanceof jr) {
              if (this.singleCharacters) {
                t = new ul(i, 0);
                this.position = t;
                return this._next();
              } else {
                let n = i.data.length;
                let o;

                if (i == this._boundaryEndParent) {
                  n = this.boundaries.end.offset;
                  o = new Vr(i, 0, n);
                  t = ul._createAfter(o);
                } else {
                  o = new Vr(i, 0, i.data.length);
                  t.offset++;
                }

                this.position = t;
                return this._formatReturnValue("text", o, e, t, n);
              }
            } else if (typeof i == "string") {
              let i;

              if (this.singleCharacters) {
                i = 1;
              } else {
                const e = n === this._boundaryEndParent ? this.boundaries.end.offset : n.data.length;
                i = e - t.offset;
              }

              const o = new Vr(n, t.offset, i);
              t.offset += i;
              this.position = t;
              return this._formatReturnValue("text", o, e, t, i);
            } else {
              t = ul._createAfter(n);
              this.position = t;

              if (this.ignoreElementEnd) {
                return this._next();
              } else {
                return this._formatReturnValue("elementEnd", n, e, t);
              }
            }
          }

          _previous() {
            let t = this.position.clone();
            const e = this.position;
            const n = t.parent;

            if (n.parent === null && t.offset === 0) {
              return {
                done: true
              };
            }

            if (n == this._boundaryStartParent && t.offset == this.boundaries.start.offset) {
              return {
                done: true
              };
            }

            let i;

            if (n instanceof jr) {
              if (t.isAtStart) {
                this.position = ul._createBefore(n);
                return this._previous();
              }

              i = n.data[t.offset - 1];
            } else {
              i = n.getChild(t.offset - 1);
            }

            if (i instanceof zc) {
              if (!this.shallow) {
                t = new ul(i, i.childCount);
                this.position = t;

                if (this.ignoreElementEnd) {
                  return this._previous();
                } else {
                  return this._formatReturnValue("elementEnd", i, e, t);
                }
              } else {
                t.offset--;
                this.position = t;
                return this._formatReturnValue("elementStart", i, e, t, 1);
              }
            } else if (i instanceof jr) {
              if (this.singleCharacters) {
                t = new ul(i, i.data.length);
                this.position = t;
                return this._previous();
              } else {
                let n = i.data.length;
                let o;

                if (i == this._boundaryStartParent) {
                  const e = this.boundaries.start.offset;
                  o = new Vr(i, e, i.data.length - e);
                  n = o.data.length;
                  t = ul._createBefore(o);
                } else {
                  o = new Vr(i, 0, i.data.length);
                  t.offset--;
                }

                this.position = t;
                return this._formatReturnValue("text", o, e, t, n);
              }
            } else if (typeof i == "string") {
              let i;

              if (!this.singleCharacters) {
                const e = n === this._boundaryStartParent ? this.boundaries.start.offset : 0;
                i = t.offset - e;
              } else {
                i = 1;
              }

              t.offset -= i;
              const o = new Vr(n, t.offset, i);
              this.position = t;
              return this._formatReturnValue("text", o, e, t, i);
            } else {
              t = ul._createBefore(n);
              this.position = t;
              return this._formatReturnValue("elementStart", n, e, t, 1);
            }
          }

          _formatReturnValue(t, e, n, i, o) {
            if (e instanceof Vr) {
              if (e.offsetInText + e.data.length == e.textNode.data.length) {
                if (this.direction == "forward" && !(this.boundaries && this.boundaries.end.isEqual(this.position))) {
                  i = ul._createAfter(e.textNode);
                  this.position = i;
                } else {
                  n = ul._createAfter(e.textNode);
                }
              }

              if (e.offsetInText === 0) {
                if (this.direction == "backward" && !(this.boundaries && this.boundaries.start.isEqual(this.position))) {
                  i = ul._createBefore(e.textNode);
                  this.position = i;
                } else {
                  n = ul._createBefore(e.textNode);
                }
              }
            }

            return {
              done: false,
              value: {
                type: t,
                item: e,
                previousPosition: n,
                nextPosition: i,
                length: o
              }
            };
          }

        }

        class ul {
          constructor(t, e) {
            this.parent = t;
            this.offset = e;
          }

          get nodeAfter() {
            if (this.parent.is("text")) {
              return null;
            }

            return this.parent.getChild(this.offset) || null;
          }

          get nodeBefore() {
            if (this.parent.is("text")) {
              return null;
            }

            return this.parent.getChild(this.offset - 1) || null;
          }

          get isAtStart() {
            return this.offset === 0;
          }

          get isAtEnd() {
            const t = this.parent.is("text") ? this.parent.data.length : this.parent.childCount;
            return this.offset === t;
          }

          get root() {
            return this.parent.root;
          }

          get editableElement() {
            let t = this.parent;

            while (!(t instanceof al)) {
              if (t.parent) {
                t = t.parent;
              } else {
                return null;
              }
            }

            return t;
          }

          getShiftedBy(t) {
            const e = ul._createAt(this);

            const n = e.offset + t;
            e.offset = n < 0 ? 0 : n;
            return e;
          }

          getLastMatchingPosition(t, e = {}) {
            e.startPosition = this;
            const n = new dl(e);
            n.skip(t);
            return n.position;
          }

          getAncestors() {
            if (this.parent.is("documentFragment")) {
              return [this.parent];
            } else {
              return this.parent.getAncestors({
                includeSelf: true
              });
            }
          }

          getCommonAncestor(t) {
            const e = this.getAncestors();
            const n = t.getAncestors();
            let i = 0;

            while (e[i] == n[i] && e[i]) {
              i++;
            }

            return i === 0 ? null : e[i - 1];
          }

          is(t) {
            return t == "position" || t == "view:position";
          }

          isEqual(t) {
            return this.parent == t.parent && this.offset == t.offset;
          }

          isBefore(t) {
            return this.compareWith(t) == "before";
          }

          isAfter(t) {
            return this.compareWith(t) == "after";
          }

          compareWith(t) {
            if (this.root !== t.root) {
              return "different";
            }

            if (this.isEqual(t)) {
              return "same";
            }

            const e = this.parent.is("node") ? this.parent.getPath() : [];
            const n = t.parent.is("node") ? t.parent.getPath() : [];
            e.push(this.offset);
            n.push(t.offset);
            const i = Or(e, n);

            switch (i) {
              case "prefix":
                return "before";

              case "extension":
                return "after";

              default:
                return e[i] < n[i] ? "before" : "after";
            }
          }

          getWalker(t = {}) {
            t.startPosition = this;
            return new dl(t);
          }

          clone() {
            return new ul(this.parent, this.offset);
          }

          static _createAt(t, e) {
            if (t instanceof ul) {
              return new this(t.parent, t.offset);
            } else {
              const n = t;

              if (e == "end") {
                e = n.is("text") ? n.data.length : n.childCount;
              } else if (e == "before") {
                return this._createBefore(n);
              } else if (e == "after") {
                return this._createAfter(n);
              } else if (e !== 0 && !e) {
                throw new rr["b"]("view-createPositionAt-offset-required: " + "View#createPositionAt() requires the offset when the first parameter is a view item.", n);
              }

              return new ul(n, e);
            }
          }

          static _createAfter(t) {
            if (t.is("textProxy")) {
              return new ul(t.textNode, t.offsetInText + t.data.length);
            }

            if (!t.parent) {
              throw new rr["b"]("view-position-after-root: You can not make position after root.", t, {
                root: t
              });
            }

            return new ul(t.parent, t.index + 1);
          }

          static _createBefore(t) {
            if (t.is("textProxy")) {
              return new ul(t.textNode, t.offsetInText);
            }

            if (!t.parent) {
              throw new rr["b"]("view-position-before-root: You can not make position before root.", t, {
                root: t
              });
            }

            return new ul(t.parent, t.index);
          }

        }

        class hl {
          constructor(t, e = null) {
            this.start = t.clone();
            this.end = e ? e.clone() : t.clone();
          }

          [Symbol.iterator]() {
            var _this6 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee6() {
                return regeneratorRuntime.wrap(function _callee6$(_context6) {
                  while (1) switch (_context6.prev = _context6.next) {
                    case 0:
                      return _context6.delegateYield(new dl({
                        boundaries: _this6,
                        ignoreElementEnd: true
                      }), "t0", 1);

                    case 1:
                    case "end":
                      return _context6.stop();
                  }
                }, _callee6);
              })()
            );
          }

          get isCollapsed() {
            return this.start.isEqual(this.end);
          }

          get isFlat() {
            return this.start.parent === this.end.parent;
          }

          get root() {
            return this.start.root;
          }

          getEnlarged() {
            let t = this.start.getLastMatchingPosition(fl, {
              direction: "backward"
            });
            let e = this.end.getLastMatchingPosition(fl);

            if (t.parent.is("text") && t.isAtStart) {
              t = ul._createBefore(t.parent);
            }

            if (e.parent.is("text") && e.isAtEnd) {
              e = ul._createAfter(e.parent);
            }

            return new hl(t, e);
          }

          getTrimmed() {
            let t = this.start.getLastMatchingPosition(fl);

            if (t.isAfter(this.end) || t.isEqual(this.end)) {
              return new hl(t, t);
            }

            let e = this.end.getLastMatchingPosition(fl, {
              direction: "backward"
            });
            const n = t.nodeAfter;
            const i = e.nodeBefore;

            if (n && n.is("text")) {
              t = new ul(n, 0);
            }

            if (i && i.is("text")) {
              e = new ul(i, i.data.length);
            }

            return new hl(t, e);
          }

          isEqual(t) {
            return this == t || this.start.isEqual(t.start) && this.end.isEqual(t.end);
          }

          containsPosition(t) {
            return t.isAfter(this.start) && t.isBefore(this.end);
          }

          containsRange(t, e = false) {
            if (t.isCollapsed) {
              e = false;
            }

            const n = this.containsPosition(t.start) || e && this.start.isEqual(t.start);
            const i = this.containsPosition(t.end) || e && this.end.isEqual(t.end);
            return n && i;
          }

          getDifference(t) {
            const e = [];

            if (this.isIntersecting(t)) {
              if (this.containsPosition(t.start)) {
                e.push(new hl(this.start, t.start));
              }

              if (this.containsPosition(t.end)) {
                e.push(new hl(t.end, this.end));
              }
            } else {
              e.push(this.clone());
            }

            return e;
          }

          getIntersection(t) {
            if (this.isIntersecting(t)) {
              let e = this.start;
              let n = this.end;

              if (this.containsPosition(t.start)) {
                e = t.start;
              }

              if (this.containsPosition(t.end)) {
                n = t.end;
              }

              return new hl(e, n);
            }

            return null;
          }

          getWalker(t = {}) {
            t.boundaries = this;
            return new dl(t);
          }

          getCommonAncestor() {
            return this.start.getCommonAncestor(this.end);
          }

          clone() {
            return new hl(this.start, this.end);
          }

          getItems(t = {}) {
            var _this7 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee7() {
                var e, _iteratorNormalCompletion28, _didIteratorError28, _iteratorError28, _iterator28, _step28, t;

                return regeneratorRuntime.wrap(function _callee7$(_context7) {
                  while (1) switch (_context7.prev = _context7.next) {
                    case 0:
                      t.boundaries = _this7;
                      t.ignoreElementEnd = true;
                      e = new dl(t);
                      _iteratorNormalCompletion28 = true;
                      _didIteratorError28 = false;
                      _iteratorError28 = undefined;
                      _context7.prev = 6;
                      _iterator28 = e[Symbol.iterator]();

                    case 8:
                      if (_iteratorNormalCompletion28 = (_step28 = _iterator28.next()).done) {
                        _context7.next = 15;
                        break;
                      }

                      t = _step28.value;
                      _context7.next = 12;
                      return t.item;

                    case 12:
                      _iteratorNormalCompletion28 = true;
                      _context7.next = 8;
                      break;

                    case 15:
                      _context7.next = 21;
                      break;

                    case 17:
                      _context7.prev = 17;
                      _context7.t0 = _context7["catch"](6);
                      _didIteratorError28 = true;
                      _iteratorError28 = _context7.t0;

                    case 21:
                      _context7.prev = 21;
                      _context7.prev = 22;

                      if (!_iteratorNormalCompletion28 && _iterator28.return != null) {
                        _iterator28.return();
                      }

                    case 24:
                      _context7.prev = 24;

                      if (!_didIteratorError28) {
                        _context7.next = 27;
                        break;
                      }

                      throw _iteratorError28;

                    case 27:
                      return _context7.finish(24);

                    case 28:
                      return _context7.finish(21);

                    case 29:
                    case "end":
                      return _context7.stop();
                  }
                }, _callee7, null, [[6, 17, 21, 29], [22,, 24, 28]]);
              })()
            );
          }

          getPositions(t = {}) {
            var _this8 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee8() {
                var e, _iteratorNormalCompletion29, _didIteratorError29, _iteratorError29, _iterator29, _step29, t;

                return regeneratorRuntime.wrap(function _callee8$(_context8) {
                  while (1) switch (_context8.prev = _context8.next) {
                    case 0:
                      t.boundaries = _this8;
                      e = new dl(t);
                      _context8.next = 4;
                      return e.position;

                    case 4:
                      _iteratorNormalCompletion29 = true;
                      _didIteratorError29 = false;
                      _iteratorError29 = undefined;
                      _context8.prev = 7;
                      _iterator29 = e[Symbol.iterator]();

                    case 9:
                      if (_iteratorNormalCompletion29 = (_step29 = _iterator29.next()).done) {
                        _context8.next = 16;
                        break;
                      }

                      t = _step29.value;
                      _context8.next = 13;
                      return t.nextPosition;

                    case 13:
                      _iteratorNormalCompletion29 = true;
                      _context8.next = 9;
                      break;

                    case 16:
                      _context8.next = 22;
                      break;

                    case 18:
                      _context8.prev = 18;
                      _context8.t0 = _context8["catch"](7);
                      _didIteratorError29 = true;
                      _iteratorError29 = _context8.t0;

                    case 22:
                      _context8.prev = 22;
                      _context8.prev = 23;

                      if (!_iteratorNormalCompletion29 && _iterator29.return != null) {
                        _iterator29.return();
                      }

                    case 25:
                      _context8.prev = 25;

                      if (!_didIteratorError29) {
                        _context8.next = 28;
                        break;
                      }

                      throw _iteratorError29;

                    case 28:
                      return _context8.finish(25);

                    case 29:
                      return _context8.finish(22);

                    case 30:
                    case "end":
                      return _context8.stop();
                  }
                }, _callee8, null, [[7, 18, 22, 30], [23,, 25, 29]]);
              })()
            );
          }

          is(t) {
            return t == "range" || t == "view:range";
          }

          isIntersecting(t) {
            return this.start.isBefore(t.end) && this.end.isAfter(t.start);
          }

          static _createFromParentsAndOffsets(t, e, n, i) {
            return new this(new ul(t, e), new ul(n, i));
          }

          static _createFromPositionAndShift(t, e) {
            const n = t;
            const i = t.getShiftedBy(e);
            return e > 0 ? new this(n, i) : new this(i, n);
          }

          static _createIn(t) {
            return this._createFromParentsAndOffsets(t, 0, t, t.childCount);
          }

          static _createOn(t) {
            const e = t.is("textProxy") ? t.offsetSize : 1;
            return this._createFromPositionAndShift(ul._createBefore(t), e);
          }

        }

        function fl(t) {
          if (t.item.is("attributeElement") || t.item.is("uiElement")) {
            return true;
          }

          return false;
        }

        function ml(t) {
          let e = 0;
          var _iteratorNormalCompletion30 = true;
          var _didIteratorError30 = false;
          var _iteratorError30 = undefined;

          try {
            for (var _iterator30 = t[Symbol.iterator](), _step30; !(_iteratorNormalCompletion30 = (_step30 = _iterator30.next()).done); _iteratorNormalCompletion30 = true) {
              const n = _step30.value;
              e++;
            }
          } catch (err) {
            _didIteratorError30 = true;
            _iteratorError30 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion30 && _iterator30.return != null) {
                _iterator30.return();
              }
            } finally {
              if (_didIteratorError30) {
                throw _iteratorError30;
              }
            }
          }

          return e;
        }

        class gl {
          constructor(t = null, e, n) {
            this._ranges = [];
            this._lastRangeBackward = false;
            this._isFake = false;
            this._fakeSelectionLabel = "";
            this.setTo(t, e, n);
          }

          get isFake() {
            return this._isFake;
          }

          get fakeSelectionLabel() {
            return this._fakeSelectionLabel;
          }

          get anchor() {
            if (!this._ranges.length) {
              return null;
            }

            const t = this._ranges[this._ranges.length - 1];
            const e = this._lastRangeBackward ? t.end : t.start;
            return e.clone();
          }

          get focus() {
            if (!this._ranges.length) {
              return null;
            }

            const t = this._ranges[this._ranges.length - 1];
            const e = this._lastRangeBackward ? t.start : t.end;
            return e.clone();
          }

          get isCollapsed() {
            return this.rangeCount === 1 && this._ranges[0].isCollapsed;
          }

          get rangeCount() {
            return this._ranges.length;
          }

          get isBackward() {
            return !this.isCollapsed && this._lastRangeBackward;
          }

          get editableElement() {
            if (this.anchor) {
              return this.anchor.editableElement;
            }

            return null;
          }

          getRanges() {
            var _this9 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee9() {
                var _iteratorNormalCompletion31, _didIteratorError31, _iteratorError31, _iterator31, _step31, t;

                return regeneratorRuntime.wrap(function _callee9$(_context9) {
                  while (1) switch (_context9.prev = _context9.next) {
                    case 0:
                      _iteratorNormalCompletion31 = true;
                      _didIteratorError31 = false;
                      _iteratorError31 = undefined;
                      _context9.prev = 3;
                      _iterator31 = _this9._ranges[Symbol.iterator]();

                    case 5:
                      if (_iteratorNormalCompletion31 = (_step31 = _iterator31.next()).done) {
                        _context9.next = 12;
                        break;
                      }

                      t = _step31.value;
                      _context9.next = 9;
                      return t.clone();

                    case 9:
                      _iteratorNormalCompletion31 = true;
                      _context9.next = 5;
                      break;

                    case 12:
                      _context9.next = 18;
                      break;

                    case 14:
                      _context9.prev = 14;
                      _context9.t0 = _context9["catch"](3);
                      _didIteratorError31 = true;
                      _iteratorError31 = _context9.t0;

                    case 18:
                      _context9.prev = 18;
                      _context9.prev = 19;

                      if (!_iteratorNormalCompletion31 && _iterator31.return != null) {
                        _iterator31.return();
                      }

                    case 21:
                      _context9.prev = 21;

                      if (!_didIteratorError31) {
                        _context9.next = 24;
                        break;
                      }

                      throw _iteratorError31;

                    case 24:
                      return _context9.finish(21);

                    case 25:
                      return _context9.finish(18);

                    case 26:
                    case "end":
                      return _context9.stop();
                  }
                }, _callee9, null, [[3, 14, 18, 26], [19,, 21, 25]]);
              })()
            );
          }

          getFirstRange() {
            let t = null;
            var _iteratorNormalCompletion32 = true;
            var _didIteratorError32 = false;
            var _iteratorError32 = undefined;

            try {
              for (var _iterator32 = this._ranges[Symbol.iterator](), _step32; !(_iteratorNormalCompletion32 = (_step32 = _iterator32.next()).done); _iteratorNormalCompletion32 = true) {
                const e = _step32.value;

                if (!t || e.start.isBefore(t.start)) {
                  t = e;
                }
              }
            } catch (err) {
              _didIteratorError32 = true;
              _iteratorError32 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion32 && _iterator32.return != null) {
                  _iterator32.return();
                }
              } finally {
                if (_didIteratorError32) {
                  throw _iteratorError32;
                }
              }
            }

            return t ? t.clone() : null;
          }

          getLastRange() {
            let t = null;
            var _iteratorNormalCompletion33 = true;
            var _didIteratorError33 = false;
            var _iteratorError33 = undefined;

            try {
              for (var _iterator33 = this._ranges[Symbol.iterator](), _step33; !(_iteratorNormalCompletion33 = (_step33 = _iterator33.next()).done); _iteratorNormalCompletion33 = true) {
                const e = _step33.value;

                if (!t || e.end.isAfter(t.end)) {
                  t = e;
                }
              }
            } catch (err) {
              _didIteratorError33 = true;
              _iteratorError33 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion33 && _iterator33.return != null) {
                  _iterator33.return();
                }
              } finally {
                if (_didIteratorError33) {
                  throw _iteratorError33;
                }
              }
            }

            return t ? t.clone() : null;
          }

          getFirstPosition() {
            const t = this.getFirstRange();
            return t ? t.start.clone() : null;
          }

          getLastPosition() {
            const t = this.getLastRange();
            return t ? t.end.clone() : null;
          }

          isEqual(t) {
            if (this.isFake != t.isFake) {
              return false;
            }

            if (this.isFake && this.fakeSelectionLabel != t.fakeSelectionLabel) {
              return false;
            }

            if (this.rangeCount != t.rangeCount) {
              return false;
            } else if (this.rangeCount === 0) {
              return true;
            }

            if (!this.anchor.isEqual(t.anchor) || !this.focus.isEqual(t.focus)) {
              return false;
            }

            var _iteratorNormalCompletion34 = true;
            var _didIteratorError34 = false;
            var _iteratorError34 = undefined;

            try {
              for (var _iterator34 = this._ranges[Symbol.iterator](), _step34; !(_iteratorNormalCompletion34 = (_step34 = _iterator34.next()).done); _iteratorNormalCompletion34 = true) {
                const e = _step34.value;
                let n = false;
                var _iteratorNormalCompletion35 = true;
                var _didIteratorError35 = false;
                var _iteratorError35 = undefined;

                try {
                  for (var _iterator35 = t._ranges[Symbol.iterator](), _step35; !(_iteratorNormalCompletion35 = (_step35 = _iterator35.next()).done); _iteratorNormalCompletion35 = true) {
                    const i = _step35.value;

                    if (e.isEqual(i)) {
                      n = true;
                      break;
                    }
                  }
                } catch (err) {
                  _didIteratorError35 = true;
                  _iteratorError35 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion35 && _iterator35.return != null) {
                      _iterator35.return();
                    }
                  } finally {
                    if (_didIteratorError35) {
                      throw _iteratorError35;
                    }
                  }
                }

                if (!n) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError34 = true;
              _iteratorError34 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion34 && _iterator34.return != null) {
                  _iterator34.return();
                }
              } finally {
                if (_didIteratorError34) {
                  throw _iteratorError34;
                }
              }
            }

            return true;
          }

          isSimilar(t) {
            if (this.isBackward != t.isBackward) {
              return false;
            }

            const e = ml(this.getRanges());
            const n = ml(t.getRanges());

            if (e != n) {
              return false;
            }

            if (e == 0) {
              return true;
            }

            var _iteratorNormalCompletion36 = true;
            var _didIteratorError36 = false;
            var _iteratorError36 = undefined;

            try {
              for (var _iterator36 = this.getRanges()[Symbol.iterator](), _step36; !(_iteratorNormalCompletion36 = (_step36 = _iterator36.next()).done); _iteratorNormalCompletion36 = true) {
                let e = _step36.value;
                e = e.getTrimmed();
                let n = false;
                var _iteratorNormalCompletion37 = true;
                var _didIteratorError37 = false;
                var _iteratorError37 = undefined;

                try {
                  for (var _iterator37 = t.getRanges()[Symbol.iterator](), _step37; !(_iteratorNormalCompletion37 = (_step37 = _iterator37.next()).done); _iteratorNormalCompletion37 = true) {
                    let i = _step37.value;
                    i = i.getTrimmed();

                    if (e.start.isEqual(i.start) && e.end.isEqual(i.end)) {
                      n = true;
                      break;
                    }
                  }
                } catch (err) {
                  _didIteratorError37 = true;
                  _iteratorError37 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion37 && _iterator37.return != null) {
                      _iterator37.return();
                    }
                  } finally {
                    if (_didIteratorError37) {
                      throw _iteratorError37;
                    }
                  }
                }

                if (!n) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError36 = true;
              _iteratorError36 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion36 && _iterator36.return != null) {
                  _iterator36.return();
                }
              } finally {
                if (_didIteratorError36) {
                  throw _iteratorError36;
                }
              }
            }

            return true;
          }

          getSelectedElement() {
            if (this.rangeCount !== 1) {
              return null;
            }

            const t = this.getFirstRange();
            let e = t.start.nodeAfter;
            let n = t.end.nodeBefore;

            if (t.start.parent.is("text") && t.start.isAtEnd && t.start.parent.nextSibling) {
              e = t.start.parent.nextSibling;
            }

            if (t.end.parent.is("text") && t.end.isAtStart && t.end.parent.previousSibling) {
              n = t.end.parent.previousSibling;
            }

            return e instanceof zc && e == n ? e : null;
          }

          setTo(t, e, n) {
            if (t === null) {
              this._setRanges([]);

              this._setFakeOptions(e);
            } else if (t instanceof gl || t instanceof pl) {
              this._setRanges(t.getRanges(), t.isBackward);

              this._setFakeOptions({
                fake: t.isFake,
                label: t.fakeSelectionLabel
              });
            } else if (t instanceof hl) {
              this._setRanges([t], e && e.backward);

              this._setFakeOptions(e);
            } else if (t instanceof ul) {
              this._setRanges([new hl(t)]);

              this._setFakeOptions(e);
            } else if (t instanceof zr) {
              const i = !!n && !!n.backward;
              let o;

              if (e === undefined) {
                throw new rr["b"]("view-selection-setTo-required-second-parameter: " + "selection.setTo requires the second parameter when the first parameter is a node.", this);
              } else if (e == "in") {
                o = hl._createIn(t);
              } else if (e == "on") {
                o = hl._createOn(t);
              } else {
                o = new hl(ul._createAt(t, e));
              }

              this._setRanges([o], i);

              this._setFakeOptions(n);
            } else if (Fr(t)) {
              this._setRanges(t, e && e.backward);

              this._setFakeOptions(e);
            } else {
              throw new rr["b"]("view-selection-setTo-not-selectable: Cannot set selection to given place.", this);
            }

            this.fire("change");
          }

          setFocus(t, e) {
            if (this.anchor === null) {
              throw new rr["b"]("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.", this);
            }

            const n = ul._createAt(t, e);

            if (n.compareWith(this.focus) == "same") {
              return;
            }

            const i = this.anchor;

            this._ranges.pop();

            if (n.compareWith(i) == "before") {
              this._addRange(new hl(n, i), true);
            } else {
              this._addRange(new hl(i, n));
            }

            this.fire("change");
          }

          is(t) {
            return t == "selection" || t == "view:selection";
          }

          _setRanges(t, e = false) {
            t = Array.from(t);
            this._ranges = [];
            var _iteratorNormalCompletion38 = true;
            var _didIteratorError38 = false;
            var _iteratorError38 = undefined;

            try {
              for (var _iterator38 = t[Symbol.iterator](), _step38; !(_iteratorNormalCompletion38 = (_step38 = _iterator38.next()).done); _iteratorNormalCompletion38 = true) {
                const e = _step38.value;

                this._addRange(e);
              }
            } catch (err) {
              _didIteratorError38 = true;
              _iteratorError38 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion38 && _iterator38.return != null) {
                  _iterator38.return();
                }
              } finally {
                if (_didIteratorError38) {
                  throw _iteratorError38;
                }
              }
            }

            this._lastRangeBackward = !!e;
          }

          _setFakeOptions(t = {}) {
            this._isFake = !!t.fake;
            this._fakeSelectionLabel = t.fake ? t.label || "" : "";
          }

          _addRange(t, e = false) {
            if (!(t instanceof hl)) {
              throw new rr["b"]("view-selection-add-range-not-range: " + "Selection range set to an object that is not an instance of view.Range", this);
            }

            this._pushRange(t);

            this._lastRangeBackward = !!e;
          }

          _pushRange(t) {
            var _iteratorNormalCompletion39 = true;
            var _didIteratorError39 = false;
            var _iteratorError39 = undefined;

            try {
              for (var _iterator39 = this._ranges[Symbol.iterator](), _step39; !(_iteratorNormalCompletion39 = (_step39 = _iterator39.next()).done); _iteratorNormalCompletion39 = true) {
                const e = _step39.value;

                if (t.isIntersecting(e)) {
                  throw new rr["b"]("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.", this, {
                    addedRange: t,
                    intersectingRange: e
                  });
                }
              }
            } catch (err) {
              _didIteratorError39 = true;
              _iteratorError39 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion39 && _iterator39.return != null) {
                  _iterator39.return();
                }
              } finally {
                if (_didIteratorError39) {
                  throw _iteratorError39;
                }
              }
            }

            this._ranges.push(new hl(t.start, t.end));
          }

        }

        vr(gl, dr);

        class pl {
          constructor(t = null, e, n) {
            this._selection = new gl();

            this._selection.delegate("change").to(this);

            this._selection.setTo(t, e, n);
          }

          get isFake() {
            return this._selection.isFake;
          }

          get fakeSelectionLabel() {
            return this._selection.fakeSelectionLabel;
          }

          get anchor() {
            return this._selection.anchor;
          }

          get focus() {
            return this._selection.focus;
          }

          get isCollapsed() {
            return this._selection.isCollapsed;
          }

          get rangeCount() {
            return this._selection.rangeCount;
          }

          get isBackward() {
            return this._selection.isBackward;
          }

          get editableElement() {
            return this._selection.editableElement;
          }

          get _ranges() {
            return this._selection._ranges;
          }

          getRanges() {
            var _this10 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee10() {
                return regeneratorRuntime.wrap(function _callee10$(_context10) {
                  while (1) switch (_context10.prev = _context10.next) {
                    case 0:
                      return _context10.delegateYield(_this10._selection.getRanges(), "t0", 1);

                    case 1:
                    case "end":
                      return _context10.stop();
                  }
                }, _callee10);
              })()
            );
          }

          getFirstRange() {
            return this._selection.getFirstRange();
          }

          getLastRange() {
            return this._selection.getLastRange();
          }

          getFirstPosition() {
            return this._selection.getFirstPosition();
          }

          getLastPosition() {
            return this._selection.getLastPosition();
          }

          getSelectedElement() {
            return this._selection.getSelectedElement();
          }

          isEqual(t) {
            return this._selection.isEqual(t);
          }

          isSimilar(t) {
            return this._selection.isSimilar(t);
          }

          is(t) {
            return t == "selection" || t == "documentSelection" || t == "view:selection" || t == "view:documentSelection";
          }

          _setTo(t, e, n) {
            this._selection.setTo(t, e, n);
          }

          _setFocus(t, e) {
            this._selection.setFocus(t, e);
          }

        }

        vr(pl, dr);

        class bl {
          constructor() {
            this.selection = new pl();
            this.roots = new yr({
              idProperty: "rootName"
            });
            this.set("isReadOnly", false);
            this.set("isFocused", false);
            this.set("isComposing", false);
            this._postFixers = new Set();
          }

          getRoot(t = "main") {
            return this.roots.get(t);
          }

          registerPostFixer(t) {
            this._postFixers.add(t);
          }

          destroy() {
            this.roots.map(t => t.destroy());
            this.stopListening();
          }

          addStyleProcessorRules(t) {
            t(Nc._styleProcessor);
          }

          _callPostFixers(t) {
            let e = false;

            do {
              var _iteratorNormalCompletion40 = true;
              var _didIteratorError40 = false;
              var _iteratorError40 = undefined;

              try {
                for (var _iterator40 = this._postFixers[Symbol.iterator](), _step40; !(_iteratorNormalCompletion40 = (_step40 = _iterator40.next()).done); _iteratorNormalCompletion40 = true) {
                  const n = _step40.value;
                  e = n(t);

                  if (e) {
                    break;
                  }
                }
              } catch (err) {
                _didIteratorError40 = true;
                _iteratorError40 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion40 && _iterator40.return != null) {
                    _iterator40.return();
                  }
                } finally {
                  if (_didIteratorError40) {
                    throw _iteratorError40;
                  }
                }
              }
            } while (e);
          }

        }

        vr(bl, Qc);
        const wl = 10;

        class _l extends zc {
          constructor(t, e, n) {
            super(t, e, n);
            this.getFillerOffset = kl;
            this._priority = wl;
            this._id = null;
            this._clonesGroup = null;
          }

          get priority() {
            return this._priority;
          }

          get id() {
            return this._id;
          }

          getElementsWithSameId() {
            if (this.id === null) {
              throw new rr["b"]("attribute-element-get-elements-with-same-id-no-id: " + "Cannot get elements with the same id for an attribute element without id.", this);
            }

            return new Set(this._clonesGroup);
          }

          is(t, e = null) {
            const n = t && t.replace(/^view:/, "");

            if (!e) {
              return n == "attributeElement" || super.is(t);
            } else {
              return n == "attributeElement" && e == this.name || super.is(t, e);
            }
          }

          isSimilar(t) {
            if (this.id !== null || t.id !== null) {
              return this.id === t.id;
            }

            return super.isSimilar(t) && this.priority == t.priority;
          }

          _clone(t) {
            const e = super._clone(t);

            e._priority = this._priority;
            e._id = this._id;
            return e;
          }

        }

        _l.DEFAULT_PRIORITY = wl;

        function kl() {
          if (vl(this)) {
            return null;
          }

          let t = this.parent;

          while (t && t.is("attributeElement")) {
            if (vl(t) > 1) {
              return null;
            }

            t = t.parent;
          }

          if (!t || vl(t) > 1) {
            return null;
          }

          return this.childCount;
        }

        function vl(t) {
          return Array.from(t.getChildren()).filter(t => !t.is("uiElement")).length;
        }

        class yl extends zc {
          constructor(t, e, n) {
            super(t, e, n);
            this.getFillerOffset = xl;
          }

          is(t, e = null) {
            const n = t.replace(/^view:/, "");

            if (!e) {
              return n == "emptyElement" || super.is(t);
            } else {
              return n == "emptyElement" && e == this.name || super.is(t, e);
            }
          }

          _insertChild(t, e) {
            if (e && (e instanceof zr || Array.from(e).length > 0)) {
              throw new rr["b"]("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.", [this, e]);
            }
          }

        }

        function xl() {
          return null;
        }

        const Al = navigator.userAgent.toLowerCase();
        const Tl = {
          isMac: Pl(Al),
          isEdge: Sl(Al),
          isGecko: Ml(Al),
          isSafari: El(Al),
          isAndroid: Il(Al),
          features: {
            isRegExpUnicodePropertySupported: Nl()
          }
        };
        var Cl = Tl;

        function Pl(t) {
          return t.indexOf("macintosh") > -1;
        }

        function Sl(t) {
          return !!t.match(/edge\/(\d+.?\d*)/);
        }

        function Ml(t) {
          return !!t.match(/gecko\/\d+/);
        }

        function El(t) {
          return t.indexOf(" applewebkit/") > -1 && t.indexOf("chrome") === -1;
        }

        function Il(t) {
          return t.indexOf("android") > -1;
        }

        function Nl() {
          let t = false;

          try {
            t = "ć".search(new RegExp("[\\p{L}]", "u")) === 0;
          } catch (t) {}

          return t;
        }

        const Ol = {
          "⌘": "ctrl",
          "⇧": "shift",
          "⌥": "alt"
        };
        const Rl = {
          ctrl: "⌘",
          shift: "⇧",
          alt: "⌥"
        };
        const Dl = Vl();

        function Ll(t) {
          let e;

          if (typeof t == "string") {
            e = Dl[t.toLowerCase()];

            if (!e) {
              throw new rr["b"]("keyboard-unknown-key: Unknown key name.", null, {
                key: t
              });
            }
          } else {
            e = t.keyCode + (t.altKey ? Dl.alt : 0) + (t.ctrlKey ? Dl.ctrl : 0) + (t.shiftKey ? Dl.shift : 0);
          }

          return e;
        }

        function zl(t) {
          if (typeof t == "string") {
            t = Bl(t);
          }

          return t.map(t => typeof t == "string" ? Ll(t) : t).reduce((t, e) => e + t, 0);
        }

        function jl(t) {
          if (!Cl.isMac) {
            return t;
          }

          return Bl(t).map(t => Rl[t.toLowerCase()] || t).reduce((t, e) => {
            if (t.slice(-1) in Ol) {
              return t + e;
            } else {
              return t + "+" + e;
            }
          });
        }

        function Vl() {
          const t = {
            arrowleft: 37,
            arrowup: 38,
            arrowright: 39,
            arrowdown: 40,
            backspace: 8,
            delete: 46,
            enter: 13,
            space: 32,
            esc: 27,
            tab: 9,
            ctrl: 1114112,
            cmd: 1114112,
            shift: 2228224,
            alt: 4456448
          };

          for (let e = 65; e <= 90; e++) {
            const n = String.fromCharCode(e);
            t[n.toLowerCase()] = e;
          }

          for (let e = 48; e <= 57; e++) {
            t[e - 48] = e;
          }

          for (let e = 112; e <= 123; e++) {
            t["f" + (e - 111)] = e;
          }

          return t;
        }

        function Bl(t) {
          return t.split(/\s*\+\s*/);
        }

        class Fl extends zc {
          constructor(t, e, n) {
            super(t, e, n);
            this.getFillerOffset = Ul;
          }

          is(t, e = null) {
            const n = t.replace(/^view:/, "");

            if (!e) {
              return n == "uiElement" || super.is(t);
            } else {
              return n == "uiElement" && e == this.name || super.is(t, e);
            }
          }

          _insertChild(t, e) {
            if (e && (e instanceof zr || Array.from(e).length > 0)) {
              throw new rr["b"]("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.", this);
            }
          }

          render(t) {
            return this.toDomElement(t);
          }

          toDomElement(t) {
            const e = t.createElement(this.name);
            var _iteratorNormalCompletion41 = true;
            var _didIteratorError41 = false;
            var _iteratorError41 = undefined;

            try {
              for (var _iterator41 = this.getAttributeKeys()[Symbol.iterator](), _step41; !(_iteratorNormalCompletion41 = (_step41 = _iterator41.next()).done); _iteratorNormalCompletion41 = true) {
                const t = _step41.value;
                e.setAttribute(t, this.getAttribute(t));
              }
            } catch (err) {
              _didIteratorError41 = true;
              _iteratorError41 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion41 && _iterator41.return != null) {
                  _iterator41.return();
                }
              } finally {
                if (_didIteratorError41) {
                  throw _iteratorError41;
                }
              }
            }

            return e;
          }

        }

        function Hl(t) {
          t.document.on("keydown", (e, n) => Wl(e, n, t.domConverter));
        }

        function Ul() {
          return null;
        }

        function Wl(t, e, n) {
          if (e.keyCode == Dl.arrowright) {
            const t = e.domTarget.ownerDocument.defaultView.getSelection();
            const i = t.rangeCount == 1 && t.getRangeAt(0).collapsed;

            if (i || e.shiftKey) {
              const e = t.focusNode;
              const o = t.focusOffset;
              const s = n.domPositionToView(e, o);

              if (s === null) {
                return;
              }

              let r = false;
              const a = s.getLastMatchingPosition(t => {
                if (t.item.is("uiElement")) {
                  r = true;
                }

                if (t.item.is("uiElement") || t.item.is("attributeElement")) {
                  return true;
                }

                return false;
              });

              if (r) {
                const e = n.viewPositionToDom(a);

                if (i) {
                  t.collapse(e.parent, e.offset);
                } else {
                  t.extend(e.parent, e.offset);
                }
              }
            }
          }
        }

        class ql {
          constructor(t) {
            this._children = [];

            if (t) {
              this._insertChild(0, t);
            }
          }

          [Symbol.iterator]() {
            return this._children[Symbol.iterator]();
          }

          get childCount() {
            return this._children.length;
          }

          get isEmpty() {
            return this.childCount === 0;
          }

          get root() {
            return this;
          }

          get parent() {
            return null;
          }

          is(t) {
            return t == "documentFragment" || t == "view:documentFragment";
          }

          _appendChild(t) {
            return this._insertChild(this.childCount, t);
          }

          getChild(t) {
            return this._children[t];
          }

          getChildIndex(t) {
            return this._children.indexOf(t);
          }

          getChildren() {
            return this._children[Symbol.iterator]();
          }

          _insertChild(t, e) {
            this._fireChange("children", this);

            let n = 0;
            const i = $l(e);
            var _iteratorNormalCompletion42 = true;
            var _didIteratorError42 = false;
            var _iteratorError42 = undefined;

            try {
              for (var _iterator42 = i[Symbol.iterator](), _step42; !(_iteratorNormalCompletion42 = (_step42 = _iterator42.next()).done); _iteratorNormalCompletion42 = true) {
                const e = _step42.value;

                if (e.parent !== null) {
                  e._remove();
                }

                e.parent = this;

                this._children.splice(t, 0, e);

                t++;
                n++;
              }
            } catch (err) {
              _didIteratorError42 = true;
              _iteratorError42 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion42 && _iterator42.return != null) {
                  _iterator42.return();
                }
              } finally {
                if (_didIteratorError42) {
                  throw _iteratorError42;
                }
              }
            }

            return n;
          }

          _removeChildren(t, e = 1) {
            this._fireChange("children", this);

            for (let n = t; n < t + e; n++) {
              this._children[n].parent = null;
            }

            return this._children.splice(t, e);
          }

          _fireChange(t, e) {
            this.fire("change:" + t, e);
          }

        }

        vr(ql, dr);

        function $l(t) {
          if (typeof t == "string") {
            return [new jr(t)];
          }

          if (!Fr(t)) {
            t = [t];
          }

          return Array.from(t).map(t => {
            if (typeof t == "string") {
              return new jr(t);
            }

            if (t instanceof Vr) {
              return new jr(t.data);
            }

            return t;
          });
        }

        class Yl {
          constructor(t) {
            this.document = t;
            this._cloneGroups = new Map();
          }

          setSelection(t, e, n) {
            this.document.selection._setTo(t, e, n);
          }

          setSelectionFocus(t, e) {
            this.document.selection._setFocus(t, e);
          }

          createText(t) {
            return new jr(t);
          }

          createAttributeElement(t, e, n = {}) {
            const i = new _l(t, e);

            if (n.priority) {
              i._priority = n.priority;
            }

            if (n.id) {
              i._id = n.id;
            }

            return i;
          }

          createContainerElement(t, e) {
            return new Fc(t, e);
          }

          createEditableElement(t, e) {
            const n = new al(t, e);
            n._document = this.document;
            return n;
          }

          createEmptyElement(t, e) {
            return new yl(t, e);
          }

          createUIElement(t, e, n) {
            const i = new Fl(t, e);

            if (n) {
              i.render = n;
            }

            return i;
          }

          setAttribute(t, e, n) {
            n._setAttribute(t, e);
          }

          removeAttribute(t, e) {
            e._removeAttribute(t);
          }

          addClass(t, e) {
            e._addClass(t);
          }

          removeClass(t, e) {
            e._removeClass(t);
          }

          setStyle(t, e, n) {
            if (R(t) && n === undefined) {
              n = e;
            }

            n._setStyle(t, e);
          }

          removeStyle(t, e) {
            e._removeStyle(t);
          }

          setCustomProperty(t, e, n) {
            n._setCustomProperty(t, e);
          }

          removeCustomProperty(t, e) {
            return e._removeCustomProperty(t);
          }

          breakAttributes(t) {
            if (t instanceof ul) {
              return this._breakAttributes(t);
            } else {
              return this._breakAttributesRange(t);
            }
          }

          breakContainer(t) {
            const e = t.parent;

            if (!e.is("containerElement")) {
              throw new rr["b"]("view-writer-break-non-container-element: Trying to break an element which is not a container element.", this.document);
            }

            if (!e.parent) {
              throw new rr["b"]("view-writer-break-root: Trying to break root element.", this.document);
            }

            if (t.isAtStart) {
              return ul._createBefore(e);
            } else if (!t.isAtEnd) {
              const n = e._clone(false);

              this.insert(ul._createAfter(e), n);
              const i = new hl(t, ul._createAt(e, "end"));
              const o = new ul(n, 0);
              this.move(i, o);
            }

            return ul._createAfter(e);
          }

          mergeAttributes(t) {
            const e = t.offset;
            const n = t.parent;

            if (n.is("text")) {
              return t;
            }

            if (n.is("attributeElement") && n.childCount === 0) {
              const t = n.parent;
              const e = n.index;

              n._remove();

              this._removeFromClonedElementsGroup(n);

              return this.mergeAttributes(new ul(t, e));
            }

            const i = n.getChild(e - 1);
            const o = n.getChild(e);

            if (!i || !o) {
              return t;
            }

            if (i.is("text") && o.is("text")) {
              return Xl(i, o);
            } else if (i.is("attributeElement") && o.is("attributeElement") && i.isSimilar(o)) {
              const t = i.childCount;

              i._appendChild(o.getChildren());

              o._remove();

              this._removeFromClonedElementsGroup(o);

              return this.mergeAttributes(new ul(i, t));
            }

            return t;
          }

          mergeContainers(t) {
            const e = t.nodeBefore;
            const n = t.nodeAfter;

            if (!e || !n || !e.is("containerElement") || !n.is("containerElement")) {
              throw new rr["b"]("view-writer-merge-containers-invalid-position: " + "Element before and after given position cannot be merged.", this.document);
            }

            const i = e.getChild(e.childCount - 1);
            const o = i instanceof jr ? ul._createAt(i, "end") : ul._createAt(e, "end");
            this.move(hl._createIn(n), ul._createAt(e, "end"));
            this.remove(hl._createOn(n));
            return o;
          }

          insert(t, e) {
            e = Fr(e) ? [...e] : [e];
            td(e, this.document);
            const n = Ql(t);

            if (!n) {
              throw new rr["b"]("view-writer-invalid-position-container", this.document);
            }

            const i = this._breakAttributes(t, true);

            const o = n._insertChild(i.offset, e);

            var _iteratorNormalCompletion43 = true;
            var _didIteratorError43 = false;
            var _iteratorError43 = undefined;

            try {
              for (var _iterator43 = e[Symbol.iterator](), _step43; !(_iteratorNormalCompletion43 = (_step43 = _iterator43.next()).done); _iteratorNormalCompletion43 = true) {
                const t = _step43.value;

                this._addToClonedElementsGroup(t);
              }
            } catch (err) {
              _didIteratorError43 = true;
              _iteratorError43 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion43 && _iterator43.return != null) {
                  _iterator43.return();
                }
              } finally {
                if (_didIteratorError43) {
                  throw _iteratorError43;
                }
              }
            }

            const s = i.getShiftedBy(o);
            const r = this.mergeAttributes(i);

            if (o === 0) {
              return new hl(r, r);
            } else {
              if (!r.isEqual(i)) {
                s.offset--;
              }

              const t = this.mergeAttributes(s);
              return new hl(r, t);
            }
          }

          remove(t) {
            const e = t instanceof hl ? t : hl._createOn(t);
            id(e, this.document);

            if (e.isCollapsed) {
              return new ql();
            }

            const _this$_breakAttribute = this._breakAttributesRange(e, true),
                  n = _this$_breakAttribute.start,
                  i = _this$_breakAttribute.end;

            const o = n.parent;
            const s = i.offset - n.offset;

            const r = o._removeChildren(n.offset, s);

            var _iteratorNormalCompletion44 = true;
            var _didIteratorError44 = false;
            var _iteratorError44 = undefined;

            try {
              for (var _iterator44 = r[Symbol.iterator](), _step44; !(_iteratorNormalCompletion44 = (_step44 = _iterator44.next()).done); _iteratorNormalCompletion44 = true) {
                const t = _step44.value;

                this._removeFromClonedElementsGroup(t);
              }
            } catch (err) {
              _didIteratorError44 = true;
              _iteratorError44 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion44 && _iterator44.return != null) {
                  _iterator44.return();
                }
              } finally {
                if (_didIteratorError44) {
                  throw _iteratorError44;
                }
              }
            }

            const a = this.mergeAttributes(n);
            e.start = a;
            e.end = a.clone();
            return new ql(r);
          }

          clear(t, e) {
            id(t, this.document);
            const n = t.getWalker({
              direction: "backward",
              ignoreElementEnd: true
            });
            var _iteratorNormalCompletion45 = true;
            var _didIteratorError45 = false;
            var _iteratorError45 = undefined;

            try {
              for (var _iterator45 = n[Symbol.iterator](), _step45; !(_iteratorNormalCompletion45 = (_step45 = _iterator45.next()).done); _iteratorNormalCompletion45 = true) {
                const i = _step45.value;
                const n = i.item;
                let o;

                if (n.is("element") && e.isSimilar(n)) {
                  o = hl._createOn(n);
                } else if (!i.nextPosition.isAfter(t.start) && n.is("textProxy")) {
                  const t = n.getAncestors().find(t => t.is("element") && e.isSimilar(t));

                  if (t) {
                    o = hl._createIn(t);
                  }
                }

                if (o) {
                  if (o.end.isAfter(t.end)) {
                    o.end = t.end;
                  }

                  if (o.start.isBefore(t.start)) {
                    o.start = t.start;
                  }

                  this.remove(o);
                }
              }
            } catch (err) {
              _didIteratorError45 = true;
              _iteratorError45 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion45 && _iterator45.return != null) {
                  _iterator45.return();
                }
              } finally {
                if (_didIteratorError45) {
                  throw _iteratorError45;
                }
              }
            }
          }

          move(t, e) {
            let n;

            if (e.isAfter(t.end)) {
              e = this._breakAttributes(e, true);
              const i = e.parent;
              const o = i.childCount;
              t = this._breakAttributesRange(t, true);
              n = this.remove(t);
              e.offset += i.childCount - o;
            } else {
              n = this.remove(t);
            }

            return this.insert(e, n);
          }

          wrap(t, e) {
            if (!(e instanceof _l)) {
              throw new rr["b"]("view-writer-wrap-invalid-attribute", this.document);
            }

            id(t, this.document);

            if (!t.isCollapsed) {
              return this._wrapRange(t, e);
            } else {
              let n = t.start;

              if (n.parent.is("element") && !Gl(n.parent)) {
                n = n.getLastMatchingPosition(t => t.item.is("uiElement"));
              }

              n = this._wrapPosition(n, e);
              const i = this.document.selection;

              if (i.isCollapsed && i.getFirstPosition().isEqual(t.start)) {
                this.setSelection(n);
              }

              return new hl(n);
            }
          }

          unwrap(t, e) {
            if (!(e instanceof _l)) {
              throw new rr["b"]("view-writer-unwrap-invalid-attribute", this.document);
            }

            id(t, this.document);

            if (t.isCollapsed) {
              return t;
            }

            const _this$_breakAttribute2 = this._breakAttributesRange(t, true),
                  n = _this$_breakAttribute2.start,
                  i = _this$_breakAttribute2.end;

            const o = n.parent;

            const s = this._unwrapChildren(o, n.offset, i.offset, e);

            const r = this.mergeAttributes(s.start);

            if (!r.isEqual(s.start)) {
              s.end.offset--;
            }

            const a = this.mergeAttributes(s.end);
            return new hl(r, a);
          }

          rename(t, e) {
            const n = new Fc(t, e.getAttributes());
            this.insert(ul._createAfter(e), n);
            this.move(hl._createIn(e), ul._createAt(n, 0));
            this.remove(hl._createOn(e));
            return n;
          }

          clearClonedElementsGroup(t) {
            this._cloneGroups.delete(t);
          }

          createPositionAt(t, e) {
            return ul._createAt(t, e);
          }

          createPositionAfter(t) {
            return ul._createAfter(t);
          }

          createPositionBefore(t) {
            return ul._createBefore(t);
          }

          createRange(t, e) {
            return new hl(t, e);
          }

          createRangeOn(t) {
            return hl._createOn(t);
          }

          createRangeIn(t) {
            return hl._createIn(t);
          }

          createSelection(t, e, n) {
            return new gl(t, e, n);
          }

          _wrapChildren(t, e, n, i) {
            let o = e;
            const s = [];

            while (o < n) {
              const e = t.getChild(o);
              const n = e.is("text");
              const r = e.is("attributeElement");
              const a = e.is("emptyElement");
              const c = e.is("uiElement");

              if (r && this._wrapAttributeElement(i, e)) {
                s.push(new ul(t, o));
              } else if (n || a || c || r && Kl(i, e)) {
                const n = i._clone();

                e._remove();

                n._appendChild(e);

                t._insertChild(o, n);

                this._addToClonedElementsGroup(n);

                s.push(new ul(t, o));
              } else if (r) {
                this._wrapChildren(e, 0, e.childCount, i);
              }

              o++;
            }

            let r = 0;

            for (var _i13 = 0, _s2 = s; _i13 < _s2.length; _i13++) {
              const t = _s2[_i13];
              t.offset -= r;

              if (t.offset == e) {
                continue;
              }

              const i = this.mergeAttributes(t);

              if (!i.isEqual(t)) {
                r++;
                n--;
              }
            }

            return hl._createFromParentsAndOffsets(t, e, t, n);
          }

          _unwrapChildren(t, e, n, i) {
            let o = e;
            const s = [];

            while (o < n) {
              const e = t.getChild(o);

              if (!e.is("attributeElement")) {
                o++;
                continue;
              }

              if (e.isSimilar(i)) {
                const i = e.getChildren();
                const r = e.childCount;

                e._remove();

                t._insertChild(o, i);

                this._removeFromClonedElementsGroup(e);

                s.push(new ul(t, o), new ul(t, o + r));
                o += r;
                n += r - 1;
                continue;
              }

              if (this._unwrapAttributeElement(i, e)) {
                s.push(new ul(t, o), new ul(t, o + 1));
                o++;
                continue;
              }

              this._unwrapChildren(e, 0, e.childCount, i);

              o++;
            }

            let r = 0;

            for (var _i14 = 0, _s3 = s; _i14 < _s3.length; _i14++) {
              const t = _s3[_i14];
              t.offset -= r;

              if (t.offset == e || t.offset == n) {
                continue;
              }

              const i = this.mergeAttributes(t);

              if (!i.isEqual(t)) {
                r++;
                n--;
              }
            }

            return hl._createFromParentsAndOffsets(t, e, t, n);
          }

          _wrapRange(t, e) {
            const _this$_breakAttribute3 = this._breakAttributesRange(t, true),
                  n = _this$_breakAttribute3.start,
                  i = _this$_breakAttribute3.end;

            const o = n.parent;

            const s = this._wrapChildren(o, n.offset, i.offset, e);

            const r = this.mergeAttributes(s.start);

            if (!r.isEqual(s.start)) {
              s.end.offset--;
            }

            const a = this.mergeAttributes(s.end);
            return new hl(r, a);
          }

          _wrapPosition(t, e) {
            if (e.isSimilar(t.parent)) {
              return Jl(t.clone());
            }

            if (t.parent.is("text")) {
              t = Zl(t);
            }

            const n = this.createAttributeElement();
            n._priority = Number.POSITIVE_INFINITY;

            n.isSimilar = () => false;

            t.parent._insertChild(t.offset, n);

            const i = new hl(t, t.getShiftedBy(1));
            this.wrap(i, e);
            const o = new ul(n.parent, n.index);

            n._remove();

            const s = o.nodeBefore;
            const r = o.nodeAfter;

            if (s instanceof jr && r instanceof jr) {
              return Xl(s, r);
            }

            return Jl(o);
          }

          _wrapAttributeElement(t, e) {
            if (!od(t, e)) {
              return false;
            }

            if (t.name !== e.name || t.priority !== e.priority) {
              return false;
            }

            var _iteratorNormalCompletion46 = true;
            var _didIteratorError46 = false;
            var _iteratorError46 = undefined;

            try {
              for (var _iterator46 = t.getAttributeKeys()[Symbol.iterator](), _step46; !(_iteratorNormalCompletion46 = (_step46 = _iterator46.next()).done); _iteratorNormalCompletion46 = true) {
                const n = _step46.value;

                if (n === "class" || n === "style") {
                  continue;
                }

                if (e.hasAttribute(n) && e.getAttribute(n) !== t.getAttribute(n)) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError46 = true;
              _iteratorError46 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion46 && _iterator46.return != null) {
                  _iterator46.return();
                }
              } finally {
                if (_didIteratorError46) {
                  throw _iteratorError46;
                }
              }
            }

            var _iteratorNormalCompletion47 = true;
            var _didIteratorError47 = false;
            var _iteratorError47 = undefined;

            try {
              for (var _iterator47 = t.getStyleNames()[Symbol.iterator](), _step47; !(_iteratorNormalCompletion47 = (_step47 = _iterator47.next()).done); _iteratorNormalCompletion47 = true) {
                const n = _step47.value;

                if (e.hasStyle(n) && e.getStyle(n) !== t.getStyle(n)) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError47 = true;
              _iteratorError47 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion47 && _iterator47.return != null) {
                  _iterator47.return();
                }
              } finally {
                if (_didIteratorError47) {
                  throw _iteratorError47;
                }
              }
            }

            var _iteratorNormalCompletion48 = true;
            var _didIteratorError48 = false;
            var _iteratorError48 = undefined;

            try {
              for (var _iterator48 = t.getAttributeKeys()[Symbol.iterator](), _step48; !(_iteratorNormalCompletion48 = (_step48 = _iterator48.next()).done); _iteratorNormalCompletion48 = true) {
                const n = _step48.value;

                if (n === "class" || n === "style") {
                  continue;
                }

                if (!e.hasAttribute(n)) {
                  this.setAttribute(n, t.getAttribute(n), e);
                }
              }
            } catch (err) {
              _didIteratorError48 = true;
              _iteratorError48 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion48 && _iterator48.return != null) {
                  _iterator48.return();
                }
              } finally {
                if (_didIteratorError48) {
                  throw _iteratorError48;
                }
              }
            }

            var _iteratorNormalCompletion49 = true;
            var _didIteratorError49 = false;
            var _iteratorError49 = undefined;

            try {
              for (var _iterator49 = t.getStyleNames()[Symbol.iterator](), _step49; !(_iteratorNormalCompletion49 = (_step49 = _iterator49.next()).done); _iteratorNormalCompletion49 = true) {
                const n = _step49.value;

                if (!e.hasStyle(n)) {
                  this.setStyle(n, t.getStyle(n), e);
                }
              }
            } catch (err) {
              _didIteratorError49 = true;
              _iteratorError49 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion49 && _iterator49.return != null) {
                  _iterator49.return();
                }
              } finally {
                if (_didIteratorError49) {
                  throw _iteratorError49;
                }
              }
            }

            var _iteratorNormalCompletion50 = true;
            var _didIteratorError50 = false;
            var _iteratorError50 = undefined;

            try {
              for (var _iterator50 = t.getClassNames()[Symbol.iterator](), _step50; !(_iteratorNormalCompletion50 = (_step50 = _iterator50.next()).done); _iteratorNormalCompletion50 = true) {
                const n = _step50.value;

                if (!e.hasClass(n)) {
                  this.addClass(n, e);
                }
              }
            } catch (err) {
              _didIteratorError50 = true;
              _iteratorError50 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion50 && _iterator50.return != null) {
                  _iterator50.return();
                }
              } finally {
                if (_didIteratorError50) {
                  throw _iteratorError50;
                }
              }
            }

            return true;
          }

          _unwrapAttributeElement(t, e) {
            if (!od(t, e)) {
              return false;
            }

            if (t.name !== e.name || t.priority !== e.priority) {
              return false;
            }

            var _iteratorNormalCompletion51 = true;
            var _didIteratorError51 = false;
            var _iteratorError51 = undefined;

            try {
              for (var _iterator51 = t.getAttributeKeys()[Symbol.iterator](), _step51; !(_iteratorNormalCompletion51 = (_step51 = _iterator51.next()).done); _iteratorNormalCompletion51 = true) {
                const n = _step51.value;

                if (n === "class" || n === "style") {
                  continue;
                }

                if (!e.hasAttribute(n) || e.getAttribute(n) !== t.getAttribute(n)) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError51 = true;
              _iteratorError51 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion51 && _iterator51.return != null) {
                  _iterator51.return();
                }
              } finally {
                if (_didIteratorError51) {
                  throw _iteratorError51;
                }
              }
            }

            if (!e.hasClass(...t.getClassNames())) {
              return false;
            }

            var _iteratorNormalCompletion52 = true;
            var _didIteratorError52 = false;
            var _iteratorError52 = undefined;

            try {
              for (var _iterator52 = t.getStyleNames()[Symbol.iterator](), _step52; !(_iteratorNormalCompletion52 = (_step52 = _iterator52.next()).done); _iteratorNormalCompletion52 = true) {
                const n = _step52.value;

                if (!e.hasStyle(n) || e.getStyle(n) !== t.getStyle(n)) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError52 = true;
              _iteratorError52 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion52 && _iterator52.return != null) {
                  _iterator52.return();
                }
              } finally {
                if (_didIteratorError52) {
                  throw _iteratorError52;
                }
              }
            }

            var _iteratorNormalCompletion53 = true;
            var _didIteratorError53 = false;
            var _iteratorError53 = undefined;

            try {
              for (var _iterator53 = t.getAttributeKeys()[Symbol.iterator](), _step53; !(_iteratorNormalCompletion53 = (_step53 = _iterator53.next()).done); _iteratorNormalCompletion53 = true) {
                const n = _step53.value;

                if (n === "class" || n === "style") {
                  continue;
                }

                this.removeAttribute(n, e);
              }
            } catch (err) {
              _didIteratorError53 = true;
              _iteratorError53 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion53 && _iterator53.return != null) {
                  _iterator53.return();
                }
              } finally {
                if (_didIteratorError53) {
                  throw _iteratorError53;
                }
              }
            }

            this.removeClass(Array.from(t.getClassNames()), e);
            this.removeStyle(Array.from(t.getStyleNames()), e);
            return true;
          }

          _breakAttributesRange(t, e = false) {
            const n = t.start;
            const i = t.end;
            id(t, this.document);

            if (t.isCollapsed) {
              const n = this._breakAttributes(t.start, e);

              return new hl(n, n);
            }

            const o = this._breakAttributes(i, e);

            const s = o.parent.childCount;

            const r = this._breakAttributes(n, e);

            o.offset += o.parent.childCount - s;
            return new hl(r, o);
          }

          _breakAttributes(t, e = false) {
            const n = t.offset;
            const i = t.parent;

            if (t.parent.is("emptyElement")) {
              throw new rr["b"]("view-writer-cannot-break-empty-element", this.document);
            }

            if (t.parent.is("uiElement")) {
              throw new rr["b"]("view-writer-cannot-break-ui-element", this.document);
            }

            if (!e && i.is("text") && nd(i.parent)) {
              return t.clone();
            }

            if (nd(i)) {
              return t.clone();
            }

            if (i.is("text")) {
              return this._breakAttributes(Zl(t), e);
            }

            const o = i.childCount;

            if (n == o) {
              const t = new ul(i.parent, i.index + 1);
              return this._breakAttributes(t, e);
            } else {
              if (n === 0) {
                const t = new ul(i.parent, i.index);
                return this._breakAttributes(t, e);
              } else {
                const t = i.index + 1;

                const o = i._clone();

                i.parent._insertChild(t, o);

                this._addToClonedElementsGroup(o);

                const s = i.childCount - n;

                const r = i._removeChildren(n, s);

                o._appendChild(r);

                const a = new ul(i.parent, t);
                return this._breakAttributes(a, e);
              }
            }
          }

          _addToClonedElementsGroup(t) {
            if (!t.root.is("rootElement")) {
              return;
            }

            if (t.is("element")) {
              var _iteratorNormalCompletion54 = true;
              var _didIteratorError54 = false;
              var _iteratorError54 = undefined;

              try {
                for (var _iterator54 = t.getChildren()[Symbol.iterator](), _step54; !(_iteratorNormalCompletion54 = (_step54 = _iterator54.next()).done); _iteratorNormalCompletion54 = true) {
                  const e = _step54.value;

                  this._addToClonedElementsGroup(e);
                }
              } catch (err) {
                _didIteratorError54 = true;
                _iteratorError54 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion54 && _iterator54.return != null) {
                    _iterator54.return();
                  }
                } finally {
                  if (_didIteratorError54) {
                    throw _iteratorError54;
                  }
                }
              }
            }

            const e = t.id;

            if (!e) {
              return;
            }

            let n = this._cloneGroups.get(e);

            if (!n) {
              n = new Set();

              this._cloneGroups.set(e, n);
            }

            n.add(t);
            t._clonesGroup = n;
          }

          _removeFromClonedElementsGroup(t) {
            if (t.is("element")) {
              var _iteratorNormalCompletion55 = true;
              var _didIteratorError55 = false;
              var _iteratorError55 = undefined;

              try {
                for (var _iterator55 = t.getChildren()[Symbol.iterator](), _step55; !(_iteratorNormalCompletion55 = (_step55 = _iterator55.next()).done); _iteratorNormalCompletion55 = true) {
                  const e = _step55.value;

                  this._removeFromClonedElementsGroup(e);
                }
              } catch (err) {
                _didIteratorError55 = true;
                _iteratorError55 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion55 && _iterator55.return != null) {
                    _iterator55.return();
                  }
                } finally {
                  if (_didIteratorError55) {
                    throw _iteratorError55;
                  }
                }
              }
            }

            const e = t.id;

            if (!e) {
              return;
            }

            const n = this._cloneGroups.get(e);

            if (!n) {
              return;
            }

            n.delete(t);
          }

        }

        function Gl(t) {
          return Array.from(t.getChildren()).some(t => !t.is("uiElement"));
        }

        function Ql(t) {
          let e = t.parent;

          while (!nd(e)) {
            if (!e) {
              return undefined;
            }

            e = e.parent;
          }

          return e;
        }

        function Kl(t, e) {
          if (t.priority < e.priority) {
            return true;
          } else if (t.priority > e.priority) {
            return false;
          }

          return t.getIdentity() < e.getIdentity();
        }

        function Jl(t) {
          const e = t.nodeBefore;

          if (e && e.is("text")) {
            return new ul(e, e.data.length);
          }

          const n = t.nodeAfter;

          if (n && n.is("text")) {
            return new ul(n, 0);
          }

          return t;
        }

        function Zl(t) {
          if (t.offset == t.parent.data.length) {
            return new ul(t.parent.parent, t.parent.index + 1);
          }

          if (t.offset === 0) {
            return new ul(t.parent.parent, t.parent.index);
          }

          const e = t.parent.data.slice(t.offset);
          t.parent._data = t.parent.data.slice(0, t.offset);

          t.parent.parent._insertChild(t.parent.index + 1, new jr(e));

          return new ul(t.parent.parent, t.parent.index + 1);
        }

        function Xl(t, e) {
          const n = t.data.length;
          t._data += e.data;

          e._remove();

          return new ul(t, n);
        }

        function td(t, e) {
          var _iteratorNormalCompletion56 = true;
          var _didIteratorError56 = false;
          var _iteratorError56 = undefined;

          try {
            for (var _iterator56 = t[Symbol.iterator](), _step56; !(_iteratorNormalCompletion56 = (_step56 = _iterator56.next()).done); _iteratorNormalCompletion56 = true) {
              const n = _step56.value;

              if (!ed.some(t => n instanceof t)) {
                throw new rr["b"]("view-writer-insert-invalid-node", e);
              }

              if (!n.is("text")) {
                td(n.getChildren(), e);
              }
            }
          } catch (err) {
            _didIteratorError56 = true;
            _iteratorError56 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion56 && _iterator56.return != null) {
                _iterator56.return();
              }
            } finally {
              if (_didIteratorError56) {
                throw _iteratorError56;
              }
            }
          }
        }

        const ed = [jr, _l, Fc, yl, Fl];

        function nd(t) {
          return t && (t.is("containerElement") || t.is("documentFragment"));
        }

        function id(t, e) {
          const n = Ql(t.start);
          const i = Ql(t.end);

          if (!n || !i || n !== i) {
            throw new rr["b"]("view-writer-invalid-range-container", e);
          }
        }

        function od(t, e) {
          return t.id === null && e.id === null;
        }

        function sd(t) {
          return Object.prototype.toString.call(t) == "[object Text]";
        }

        const rd = t => t.createTextNode(" ");

        const ad = t => {
          const e = t.createElement("br");
          e.dataset.ckeFiller = true;
          return e;
        };

        const cd = 7;

        const ld = (() => {
          let t = "";

          for (let e = 0; e < cd; e++) {
            t += "​";
          }

          return t;
        })();

        function dd(t) {
          return sd(t) && t.data.substr(0, cd) === ld;
        }

        function ud(t) {
          return t.data.length == cd && dd(t);
        }

        function hd(t) {
          if (dd(t)) {
            return t.data.slice(cd);
          } else {
            return t.data;
          }
        }

        function fd(t) {
          t.document.on("keydown", md);
        }

        function md(t, e) {
          if (e.keyCode == Dl.arrowleft) {
            const t = e.domTarget.ownerDocument.defaultView.getSelection();

            if (t.rangeCount == 1 && t.getRangeAt(0).collapsed) {
              const e = t.getRangeAt(0).startContainer;
              const n = t.getRangeAt(0).startOffset;

              if (dd(e) && n <= cd) {
                t.collapse(e, 0);
              }
            }
          }
        }

        function gd(t, e, n, i = false) {
          n = n || function (t, e) {
            return t === e;
          };

          if (!Array.isArray(t)) {
            t = Array.from(t);
          }

          if (!Array.isArray(e)) {
            e = Array.from(e);
          }

          const o = pd(t, e, n);
          return i ? kd(o, e.length) : _d(e, o);
        }

        function pd(t, e, n) {
          const i = bd(t, e, n);

          if (i === -1) {
            return {
              firstIndex: -1,
              lastIndexOld: -1,
              lastIndexNew: -1
            };
          }

          const o = wd(t, i);
          const s = wd(e, i);
          const r = bd(o, s, n);
          const a = t.length - r;
          const c = e.length - r;
          return {
            firstIndex: i,
            lastIndexOld: a,
            lastIndexNew: c
          };
        }

        function bd(t, e, n) {
          for (let i = 0; i < Math.max(t.length, e.length); i++) {
            if (t[i] === undefined || e[i] === undefined || !n(t[i], e[i])) {
              return i;
            }
          }

          return -1;
        }

        function wd(t, e) {
          return t.slice(e).reverse();
        }

        function _d(t, e) {
          const n = [];
          const i = e.firstIndex,
                o = e.lastIndexOld,
                s = e.lastIndexNew;

          if (s - i > 0) {
            n.push({
              index: i,
              type: "insert",
              values: t.slice(i, s)
            });
          }

          if (o - i > 0) {
            n.push({
              index: i + (s - i),
              type: "delete",
              howMany: o - i
            });
          }

          return n;
        }

        function kd(t, e) {
          const n = t.firstIndex,
                i = t.lastIndexOld,
                o = t.lastIndexNew;

          if (n === -1) {
            return Array(e).fill("equal");
          }

          let s = [];

          if (n > 0) {
            s = s.concat(Array(n).fill("equal"));
          }

          if (o - n > 0) {
            s = s.concat(Array(o - n).fill("insert"));
          }

          if (i - n > 0) {
            s = s.concat(Array(i - n).fill("delete"));
          }

          if (o < e) {
            s = s.concat(Array(e - o).fill("equal"));
          }

          return s;
        }

        function vd(t, e, n) {
          n = n || function (t, e) {
            return t === e;
          };

          const i = t.length;
          const o = e.length;

          if (i > 200 || o > 200 || i + o > 300) {
            return vd.fastDiff(t, e, n, true);
          }

          let s, r;

          if (o < i) {
            const n = t;
            t = e;
            e = n;
            s = "delete";
            r = "insert";
          } else {
            s = "insert";
            r = "delete";
          }

          const a = t.length;
          const c = e.length;
          const l = c - a;
          const d = {};
          const u = {};

          function h(i) {
            const o = (u[i - 1] !== undefined ? u[i - 1] : -1) + 1;
            const l = u[i + 1] !== undefined ? u[i + 1] : -1;
            const h = o > l ? -1 : 1;

            if (d[i + h]) {
              d[i] = d[i + h].slice(0);
            }

            if (!d[i]) {
              d[i] = [];
            }

            d[i].push(o > l ? s : r);
            let f = Math.max(o, l);
            let m = f - i;

            while (m < a && f < c && n(t[m], e[f])) {
              m++;
              f++;
              d[i].push("equal");
            }

            return f;
          }

          let f = 0;
          let m;

          do {
            for (m = -f; m < l; m++) {
              u[m] = h(m);
            }

            for (m = l + f; m > l; m--) {
              u[m] = h(m);
            }

            u[l] = h(l);
            f++;
          } while (u[l] !== c);

          return d[l].slice(1);
        }

        vd.fastDiff = gd;

        function yd(t, e, n) {
          t.insertBefore(n, t.childNodes[e] || null);
        }

        function xd(t) {
          const e = t.parentNode;

          if (e) {
            e.removeChild(t);
          }
        }

        function Ad(t) {
          if (t) {
            if (t.defaultView) {
              return t instanceof t.defaultView.Document;
            } else if (t.ownerDocument && t.ownerDocument.defaultView) {
              return t instanceof t.ownerDocument.defaultView.Node;
            }
          }

          return false;
        }

        class Td {
          constructor(t, e) {
            this.domDocuments = new Set();
            this.domConverter = t;
            this.markedAttributes = new Set();
            this.markedChildren = new Set();
            this.markedTexts = new Set();
            this.selection = e;
            this.isFocused = false;
            this._inlineFiller = null;
            this._fakeSelectionContainer = null;
          }

          markToSync(t, e) {
            if (t === "text") {
              if (this.domConverter.mapViewToDom(e.parent)) {
                this.markedTexts.add(e);
              }
            } else {
              if (!this.domConverter.mapViewToDom(e)) {
                return;
              }

              if (t === "attributes") {
                this.markedAttributes.add(e);
              } else if (t === "children") {
                this.markedChildren.add(e);
              } else {
                throw new rr["b"]("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.", this);
              }
            }
          }

          render() {
            let t;
            var _iteratorNormalCompletion57 = true;
            var _didIteratorError57 = false;
            var _iteratorError57 = undefined;

            try {
              for (var _iterator57 = this.markedChildren[Symbol.iterator](), _step57; !(_iteratorNormalCompletion57 = (_step57 = _iterator57.next()).done); _iteratorNormalCompletion57 = true) {
                const t = _step57.value;

                this._updateChildrenMappings(t);
              }
            } catch (err) {
              _didIteratorError57 = true;
              _iteratorError57 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion57 && _iterator57.return != null) {
                  _iterator57.return();
                }
              } finally {
                if (_didIteratorError57) {
                  throw _iteratorError57;
                }
              }
            }

            if (this._inlineFiller && !this._isSelectionInInlineFiller()) {
              this._removeInlineFiller();
            }

            if (this._inlineFiller) {
              t = this._getInlineFillerPosition();
            } else if (this._needsInlineFillerAtSelection()) {
              t = this.selection.getFirstPosition();
              this.markedChildren.add(t.parent);
            }

            var _iteratorNormalCompletion58 = true;
            var _didIteratorError58 = false;
            var _iteratorError58 = undefined;

            try {
              for (var _iterator58 = this.markedAttributes[Symbol.iterator](), _step58; !(_iteratorNormalCompletion58 = (_step58 = _iterator58.next()).done); _iteratorNormalCompletion58 = true) {
                const t = _step58.value;

                this._updateAttrs(t);
              }
            } catch (err) {
              _didIteratorError58 = true;
              _iteratorError58 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion58 && _iterator58.return != null) {
                  _iterator58.return();
                }
              } finally {
                if (_didIteratorError58) {
                  throw _iteratorError58;
                }
              }
            }

            var _iteratorNormalCompletion59 = true;
            var _didIteratorError59 = false;
            var _iteratorError59 = undefined;

            try {
              for (var _iterator59 = this.markedChildren[Symbol.iterator](), _step59; !(_iteratorNormalCompletion59 = (_step59 = _iterator59.next()).done); _iteratorNormalCompletion59 = true) {
                const e = _step59.value;

                this._updateChildren(e, {
                  inlineFillerPosition: t
                });
              }
            } catch (err) {
              _didIteratorError59 = true;
              _iteratorError59 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion59 && _iterator59.return != null) {
                  _iterator59.return();
                }
              } finally {
                if (_didIteratorError59) {
                  throw _iteratorError59;
                }
              }
            }

            var _iteratorNormalCompletion60 = true;
            var _didIteratorError60 = false;
            var _iteratorError60 = undefined;

            try {
              for (var _iterator60 = this.markedTexts[Symbol.iterator](), _step60; !(_iteratorNormalCompletion60 = (_step60 = _iterator60.next()).done); _iteratorNormalCompletion60 = true) {
                const e = _step60.value;

                if (!this.markedChildren.has(e.parent) && this.domConverter.mapViewToDom(e.parent)) {
                  this._updateText(e, {
                    inlineFillerPosition: t
                  });
                }
              }
            } catch (err) {
              _didIteratorError60 = true;
              _iteratorError60 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion60 && _iterator60.return != null) {
                  _iterator60.return();
                }
              } finally {
                if (_didIteratorError60) {
                  throw _iteratorError60;
                }
              }
            }

            if (t) {
              const e = this.domConverter.viewPositionToDom(t);
              const n = e.parent.ownerDocument;

              if (!dd(e.parent)) {
                this._inlineFiller = Pd(n, e.parent, e.offset);
              } else {
                this._inlineFiller = e.parent;
              }
            } else {
              this._inlineFiller = null;
            }

            this._updateSelection();

            this._updateFocus();

            this.markedTexts.clear();
            this.markedAttributes.clear();
            this.markedChildren.clear();
          }

          _updateChildrenMappings(t) {
            const e = this.domConverter.mapViewToDom(t);

            if (!e) {
              return;
            }

            const n = this.domConverter.mapViewToDom(t).childNodes;
            const i = Array.from(this.domConverter.viewChildrenToDom(t, e.ownerDocument, {
              withChildren: false
            }));

            const o = this._diffNodeLists(n, i);

            const s = this._findReplaceActions(o, n, i);

            if (s.indexOf("replace") !== -1) {
              const e = {
                equal: 0,
                insert: 0,
                delete: 0
              };
              var _iteratorNormalCompletion61 = true;
              var _didIteratorError61 = false;
              var _iteratorError61 = undefined;

              try {
                for (var _iterator61 = s[Symbol.iterator](), _step61; !(_iteratorNormalCompletion61 = (_step61 = _iterator61.next()).done); _iteratorNormalCompletion61 = true) {
                  const o = _step61.value;

                  if (o === "replace") {
                    const o = e.equal + e.insert;
                    const s = e.equal + e.delete;
                    const r = t.getChild(o);

                    if (r && !r.is("uiElement")) {
                      this._updateElementMappings(r, n[s]);
                    }

                    xd(i[o]);
                    e.equal++;
                  } else {
                    e[o]++;
                  }
                }
              } catch (err) {
                _didIteratorError61 = true;
                _iteratorError61 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion61 && _iterator61.return != null) {
                    _iterator61.return();
                  }
                } finally {
                  if (_didIteratorError61) {
                    throw _iteratorError61;
                  }
                }
              }
            }
          }

          _updateElementMappings(t, e) {
            this.domConverter.unbindDomElement(e);
            this.domConverter.bindElements(e, t);
            this.markedChildren.add(t);
            this.markedAttributes.add(t);
          }

          _getInlineFillerPosition() {
            const t = this.selection.getFirstPosition();

            if (t.parent.is("text")) {
              return ul._createBefore(this.selection.getFirstPosition().parent);
            } else {
              return t;
            }
          }

          _isSelectionInInlineFiller() {
            if (this.selection.rangeCount != 1 || !this.selection.isCollapsed) {
              return false;
            }

            const t = this.selection.getFirstPosition();
            const e = this.domConverter.viewPositionToDom(t);

            if (e && sd(e.parent) && dd(e.parent)) {
              return true;
            }

            return false;
          }

          _removeInlineFiller() {
            const t = this._inlineFiller;

            if (!dd(t)) {
              throw new rr["b"]("view-renderer-filler-was-lost: The inline filler node was lost.", this);
            }

            if (ud(t)) {
              t.parentNode.removeChild(t);
            } else {
              t.data = t.data.substr(cd);
            }

            this._inlineFiller = null;
          }

          _needsInlineFillerAtSelection() {
            if (this.selection.rangeCount != 1 || !this.selection.isCollapsed) {
              return false;
            }

            const t = this.selection.getFirstPosition();
            const e = t.parent;
            const n = t.offset;

            if (!this.domConverter.mapViewToDom(e.root)) {
              return false;
            }

            if (!e.is("element")) {
              return false;
            }

            if (!Cd(e)) {
              return false;
            }

            if (n === e.getFillerOffset()) {
              return false;
            }

            const i = t.nodeBefore;
            const o = t.nodeAfter;

            if (i instanceof jr || o instanceof jr) {
              return false;
            }

            return true;
          }

          _updateText(t, e) {
            const n = this.domConverter.findCorrespondingDomText(t);
            const i = this.domConverter.viewToDom(t, n.ownerDocument);
            const o = n.data;
            let s = i.data;
            const r = e.inlineFillerPosition;

            if (r && r.parent == t.parent && r.offset == t.index) {
              s = ld + s;
            }

            if (o != s) {
              const t = gd(o, s);
              var _iteratorNormalCompletion62 = true;
              var _didIteratorError62 = false;
              var _iteratorError62 = undefined;

              try {
                for (var _iterator62 = t[Symbol.iterator](), _step62; !(_iteratorNormalCompletion62 = (_step62 = _iterator62.next()).done); _iteratorNormalCompletion62 = true) {
                  const e = _step62.value;

                  if (e.type === "insert") {
                    n.insertData(e.index, e.values.join(""));
                  } else {
                    n.deleteData(e.index, e.howMany);
                  }
                }
              } catch (err) {
                _didIteratorError62 = true;
                _iteratorError62 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion62 && _iterator62.return != null) {
                    _iterator62.return();
                  }
                } finally {
                  if (_didIteratorError62) {
                    throw _iteratorError62;
                  }
                }
              }
            }
          }

          _updateAttrs(t) {
            const e = this.domConverter.mapViewToDom(t);

            if (!e) {
              return;
            }

            const n = Array.from(e.attributes).map(t => t.name);
            const i = t.getAttributeKeys();
            var _iteratorNormalCompletion63 = true;
            var _didIteratorError63 = false;
            var _iteratorError63 = undefined;

            try {
              for (var _iterator63 = i[Symbol.iterator](), _step63; !(_iteratorNormalCompletion63 = (_step63 = _iterator63.next()).done); _iteratorNormalCompletion63 = true) {
                const n = _step63.value;
                e.setAttribute(n, t.getAttribute(n));
              }
            } catch (err) {
              _didIteratorError63 = true;
              _iteratorError63 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion63 && _iterator63.return != null) {
                  _iterator63.return();
                }
              } finally {
                if (_didIteratorError63) {
                  throw _iteratorError63;
                }
              }
            }

            var _iteratorNormalCompletion64 = true;
            var _didIteratorError64 = false;
            var _iteratorError64 = undefined;

            try {
              for (var _iterator64 = n[Symbol.iterator](), _step64; !(_iteratorNormalCompletion64 = (_step64 = _iterator64.next()).done); _iteratorNormalCompletion64 = true) {
                const i = _step64.value;

                if (!t.hasAttribute(i)) {
                  e.removeAttribute(i);
                }
              }
            } catch (err) {
              _didIteratorError64 = true;
              _iteratorError64 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion64 && _iterator64.return != null) {
                  _iterator64.return();
                }
              } finally {
                if (_didIteratorError64) {
                  throw _iteratorError64;
                }
              }
            }
          }

          _updateChildren(t, e) {
            const n = this.domConverter.mapViewToDom(t);

            if (!n) {
              return;
            }

            const i = e.inlineFillerPosition;
            const o = this.domConverter.mapViewToDom(t).childNodes;
            const s = Array.from(this.domConverter.viewChildrenToDom(t, n.ownerDocument, {
              bind: true,
              inlineFillerPosition: i
            }));

            if (i && i.parent === t) {
              Pd(n.ownerDocument, s, i.offset);
            }

            const r = this._diffNodeLists(o, s);

            let a = 0;
            const c = new Set();
            var _iteratorNormalCompletion65 = true;
            var _didIteratorError65 = false;
            var _iteratorError65 = undefined;

            try {
              for (var _iterator65 = r[Symbol.iterator](), _step65; !(_iteratorNormalCompletion65 = (_step65 = _iterator65.next()).done); _iteratorNormalCompletion65 = true) {
                const t = _step65.value;

                if (t === "insert") {
                  yd(n, a, s[a]);
                  a++;
                } else if (t === "delete") {
                  c.add(o[a]);
                  xd(o[a]);
                } else {
                  this._markDescendantTextToSync(this.domConverter.domToView(s[a]));

                  a++;
                }
              }
            } catch (err) {
              _didIteratorError65 = true;
              _iteratorError65 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion65 && _iterator65.return != null) {
                  _iterator65.return();
                }
              } finally {
                if (_didIteratorError65) {
                  throw _iteratorError65;
                }
              }
            }

            var _iteratorNormalCompletion66 = true;
            var _didIteratorError66 = false;
            var _iteratorError66 = undefined;

            try {
              for (var _iterator66 = c[Symbol.iterator](), _step66; !(_iteratorNormalCompletion66 = (_step66 = _iterator66.next()).done); _iteratorNormalCompletion66 = true) {
                const t = _step66.value;

                if (!t.parentNode) {
                  this.domConverter.unbindDomElement(t);
                }
              }
            } catch (err) {
              _didIteratorError66 = true;
              _iteratorError66 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion66 && _iterator66.return != null) {
                  _iterator66.return();
                }
              } finally {
                if (_didIteratorError66) {
                  throw _iteratorError66;
                }
              }
            }
          }

          _diffNodeLists(t, e) {
            t = Id(t, this._fakeSelectionContainer);
            return vd(t, e, Md.bind(null, this.domConverter));
          }

          _findReplaceActions(t, e, n) {
            if (t.indexOf("insert") === -1 || t.indexOf("delete") === -1) {
              return t;
            }

            let i = [];
            let o = [];
            let s = [];
            const r = {
              equal: 0,
              insert: 0,
              delete: 0
            };
            var _iteratorNormalCompletion67 = true;
            var _didIteratorError67 = false;
            var _iteratorError67 = undefined;

            try {
              for (var _iterator67 = t[Symbol.iterator](), _step67; !(_iteratorNormalCompletion67 = (_step67 = _iterator67.next()).done); _iteratorNormalCompletion67 = true) {
                const a = _step67.value;

                if (a === "insert") {
                  s.push(n[r.equal + r.insert]);
                } else if (a === "delete") {
                  o.push(e[r.equal + r.delete]);
                } else {
                  i = i.concat(vd(o, s, Sd).map(t => t === "equal" ? "replace" : t));
                  i.push("equal");
                  o = [];
                  s = [];
                }

                r[a]++;
              }
            } catch (err) {
              _didIteratorError67 = true;
              _iteratorError67 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion67 && _iterator67.return != null) {
                  _iterator67.return();
                }
              } finally {
                if (_didIteratorError67) {
                  throw _iteratorError67;
                }
              }
            }

            return i.concat(vd(o, s, Sd).map(t => t === "equal" ? "replace" : t));
          }

          _markDescendantTextToSync(t) {
            if (!t) {
              return;
            }

            if (t.is("text")) {
              this.markedTexts.add(t);
            } else if (t.is("element")) {
              var _iteratorNormalCompletion68 = true;
              var _didIteratorError68 = false;
              var _iteratorError68 = undefined;

              try {
                for (var _iterator68 = t.getChildren()[Symbol.iterator](), _step68; !(_iteratorNormalCompletion68 = (_step68 = _iterator68.next()).done); _iteratorNormalCompletion68 = true) {
                  const e = _step68.value;

                  this._markDescendantTextToSync(e);
                }
              } catch (err) {
                _didIteratorError68 = true;
                _iteratorError68 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion68 && _iterator68.return != null) {
                    _iterator68.return();
                  }
                } finally {
                  if (_didIteratorError68) {
                    throw _iteratorError68;
                  }
                }
              }
            }
          }

          _updateSelection() {
            if (this.selection.rangeCount === 0) {
              this._removeDomSelection();

              this._removeFakeSelection();

              return;
            }

            const t = this.domConverter.mapViewToDom(this.selection.editableElement);

            if (!this.isFocused || !t) {
              return;
            }

            if (this.selection.isFake) {
              this._updateFakeSelection(t);
            } else {
              this._removeFakeSelection();

              this._updateDomSelection(t);
            }
          }

          _updateFakeSelection(t) {
            const e = t.ownerDocument;

            if (!this._fakeSelectionContainer) {
              this._fakeSelectionContainer = Nd(e);
            }

            const n = this._fakeSelectionContainer;
            this.domConverter.bindFakeSelection(n, this.selection);

            if (!this._fakeSelectionNeedsUpdate(t)) {
              return;
            }

            if (!n.parentElement || n.parentElement != t) {
              t.appendChild(n);
            }

            n.textContent = this.selection.fakeSelectionLabel || " ";
            const i = e.getSelection();
            const o = e.createRange();
            i.removeAllRanges();
            o.selectNodeContents(n);
            i.addRange(o);
          }

          _updateDomSelection(t) {
            const e = t.ownerDocument.defaultView.getSelection();

            if (!this._domSelectionNeedsUpdate(e)) {
              return;
            }

            const n = this.domConverter.viewPositionToDom(this.selection.anchor);
            const i = this.domConverter.viewPositionToDom(this.selection.focus);
            t.focus();
            e.collapse(n.parent, n.offset);
            e.extend(i.parent, i.offset);

            if (Cl.isGecko) {
              Ed(i, e);
            }
          }

          _domSelectionNeedsUpdate(t) {
            if (!this.domConverter.isDomSelectionCorrect(t)) {
              return true;
            }

            const e = t && this.domConverter.domSelectionToView(t);

            if (e && this.selection.isEqual(e)) {
              return false;
            }

            if (!this.selection.isCollapsed && this.selection.isSimilar(e)) {
              return false;
            }

            return true;
          }

          _fakeSelectionNeedsUpdate(t) {
            const e = this._fakeSelectionContainer;
            const n = t.ownerDocument.getSelection();

            if (!e || e.parentElement !== t) {
              return true;
            }

            if (n.anchorNode !== e && !e.contains(n.anchorNode)) {
              return true;
            }

            return e.textContent !== this.selection.fakeSelectionLabel;
          }

          _removeDomSelection() {
            var _iteratorNormalCompletion69 = true;
            var _didIteratorError69 = false;
            var _iteratorError69 = undefined;

            try {
              for (var _iterator69 = this.domDocuments[Symbol.iterator](), _step69; !(_iteratorNormalCompletion69 = (_step69 = _iterator69.next()).done); _iteratorNormalCompletion69 = true) {
                const t = _step69.value;
                const e = t.getSelection();

                if (e.rangeCount) {
                  const e = t.activeElement;
                  const n = this.domConverter.mapDomToView(e);

                  if (e && n) {
                    t.getSelection().removeAllRanges();
                  }
                }
              }
            } catch (err) {
              _didIteratorError69 = true;
              _iteratorError69 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion69 && _iterator69.return != null) {
                  _iterator69.return();
                }
              } finally {
                if (_didIteratorError69) {
                  throw _iteratorError69;
                }
              }
            }
          }

          _removeFakeSelection() {
            const t = this._fakeSelectionContainer;

            if (t) {
              t.remove();
            }
          }

          _updateFocus() {
            if (this.isFocused) {
              const t = this.selection.editableElement;

              if (t) {
                this.domConverter.focus(t);
              }
            }
          }

        }

        vr(Td, Qc);

        function Cd(t) {
          if (t.getAttribute("contenteditable") == "false") {
            return false;
          }

          const e = t.findAncestor(t => t.hasAttribute("contenteditable"));
          return !e || e.getAttribute("contenteditable") == "true";
        }

        function Pd(t, e, n) {
          const i = e instanceof Array ? e : e.childNodes;
          const o = i[n];

          if (sd(o)) {
            o.data = ld + o.data;
            return o;
          } else {
            const o = t.createTextNode(ld);

            if (Array.isArray(e)) {
              i.splice(n, 0, o);
            } else {
              yd(e, n, o);
            }

            return o;
          }
        }

        function Sd(t, e) {
          return Ad(t) && Ad(e) && !sd(t) && !sd(e) && t.tagName.toLowerCase() === e.tagName.toLowerCase();
        }

        function Md(t, e, n) {
          if (e === n) {
            return true;
          } else if (sd(e) && sd(n)) {
            return e.data === n.data;
          } else if (t.isBlockFiller(e) && t.isBlockFiller(n)) {
            return true;
          }

          return false;
        }

        function Ed(t, e) {
          const n = t.parent;

          if (n.nodeType != Node.ELEMENT_NODE || t.offset != n.childNodes.length - 1) {
            return;
          }

          const i = n.childNodes[t.offset];

          if (i && i.tagName == "BR") {
            e.addRange(e.getRangeAt(0));
          }
        }

        function Id(t, e) {
          const n = Array.from(t);

          if (n.length == 0 || !e) {
            return n;
          }

          const i = n[n.length - 1];

          if (i == e) {
            n.pop();
          }

          return n;
        }

        function Nd(t) {
          const e = t.createElement("div");
          Object.assign(e.style, {
            position: "fixed",
            top: 0,
            left: "-9999px",
            width: "42px"
          });
          e.textContent = " ";
          return e;
        }

        var Od = {
          window: window,
          document: document
        };

        function Rd(t) {
          let e = 0;

          while (t.previousSibling) {
            t = t.previousSibling;
            e++;
          }

          return e;
        }

        function Dd(t) {
          const e = [];

          while (t && t.nodeType != Node.DOCUMENT_NODE) {
            e.unshift(t);
            t = t.parentNode;
          }

          return e;
        }

        function Ld(t, e) {
          const n = Dd(t);
          const i = Dd(e);
          let o = 0;

          while (n[o] == i[o] && n[o]) {
            o++;
          }

          return o === 0 ? null : n[o - 1];
        }

        const zd = ad(document);

        class jd {
          constructor(t = {}) {
            this.blockFillerMode = t.blockFillerMode || "br";
            this.preElements = ["pre"];
            this.blockElements = ["p", "div", "h1", "h2", "h3", "h4", "h5", "h6", "li", "dd", "dt", "figcaption"];
            this._blockFiller = this.blockFillerMode == "br" ? ad : rd;
            this._domToViewMapping = new WeakMap();
            this._viewToDomMapping = new WeakMap();
            this._fakeSelectionMapping = new WeakMap();
          }

          bindFakeSelection(t, e) {
            this._fakeSelectionMapping.set(t, new gl(e));
          }

          fakeSelectionToView(t) {
            return this._fakeSelectionMapping.get(t);
          }

          bindElements(t, e) {
            this._domToViewMapping.set(t, e);

            this._viewToDomMapping.set(e, t);
          }

          unbindDomElement(t) {
            const e = this._domToViewMapping.get(t);

            if (e) {
              this._domToViewMapping.delete(t);

              this._viewToDomMapping.delete(e);

              for (var _i15 = 0, _Array$from = Array.from(t.childNodes); _i15 < _Array$from.length; _i15++) {
                const e = _Array$from[_i15];
                this.unbindDomElement(e);
              }
            }
          }

          bindDocumentFragments(t, e) {
            this._domToViewMapping.set(t, e);

            this._viewToDomMapping.set(e, t);
          }

          viewToDom(t, e, n = {}) {
            if (t.is("text")) {
              const n = this._processDataFromViewText(t);

              return e.createTextNode(n);
            } else {
              if (this.mapViewToDom(t)) {
                return this.mapViewToDom(t);
              }

              let i;

              if (t.is("documentFragment")) {
                i = e.createDocumentFragment();

                if (n.bind) {
                  this.bindDocumentFragments(i, t);
                }
              } else if (t.is("uiElement")) {
                i = t.render(e);

                if (n.bind) {
                  this.bindElements(i, t);
                }

                return i;
              } else {
                if (t.hasAttribute("xmlns")) {
                  i = e.createElementNS(t.getAttribute("xmlns"), t.name);
                } else {
                  i = e.createElement(t.name);
                }

                if (n.bind) {
                  this.bindElements(i, t);
                }

                var _iteratorNormalCompletion70 = true;
                var _didIteratorError70 = false;
                var _iteratorError70 = undefined;

                try {
                  for (var _iterator70 = t.getAttributeKeys()[Symbol.iterator](), _step70; !(_iteratorNormalCompletion70 = (_step70 = _iterator70.next()).done); _iteratorNormalCompletion70 = true) {
                    const e = _step70.value;
                    i.setAttribute(e, t.getAttribute(e));
                  }
                } catch (err) {
                  _didIteratorError70 = true;
                  _iteratorError70 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion70 && _iterator70.return != null) {
                      _iterator70.return();
                    }
                  } finally {
                    if (_didIteratorError70) {
                      throw _iteratorError70;
                    }
                  }
                }
              }

              if (n.withChildren || n.withChildren === undefined) {
                var _iteratorNormalCompletion71 = true;
                var _didIteratorError71 = false;
                var _iteratorError71 = undefined;

                try {
                  for (var _iterator71 = this.viewChildrenToDom(t, e, n)[Symbol.iterator](), _step71; !(_iteratorNormalCompletion71 = (_step71 = _iterator71.next()).done); _iteratorNormalCompletion71 = true) {
                    const o = _step71.value;
                    i.appendChild(o);
                  }
                } catch (err) {
                  _didIteratorError71 = true;
                  _iteratorError71 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion71 && _iterator71.return != null) {
                      _iterator71.return();
                    }
                  } finally {
                    if (_didIteratorError71) {
                      throw _iteratorError71;
                    }
                  }
                }
              }

              return i;
            }
          }

          viewChildrenToDom(t, e, n = {}) {
            var _this11 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee11() {
                var i, o, _iteratorNormalCompletion72, _didIteratorError72, _iteratorError72, _iterator72, _step72, s;

                return regeneratorRuntime.wrap(function _callee11$(_context11) {
                  while (1) switch (_context11.prev = _context11.next) {
                    case 0:
                      i = t.getFillerOffset && t.getFillerOffset();
                      o = 0;
                      _iteratorNormalCompletion72 = true;
                      _didIteratorError72 = false;
                      _iteratorError72 = undefined;
                      _context11.prev = 5;
                      _iterator72 = t.getChildren()[Symbol.iterator]();

                    case 7:
                      if (_iteratorNormalCompletion72 = (_step72 = _iterator72.next()).done) {
                        _context11.next = 18;
                        break;
                      }

                      s = _step72.value;

                      if (!(i === o)) {
                        _context11.next = 12;
                        break;
                      }

                      _context11.next = 12;
                      return _this11._blockFiller(e);

                    case 12:
                      _context11.next = 14;
                      return _this11.viewToDom(s, e, n);

                    case 14:
                      o++;

                    case 15:
                      _iteratorNormalCompletion72 = true;
                      _context11.next = 7;
                      break;

                    case 18:
                      _context11.next = 24;
                      break;

                    case 20:
                      _context11.prev = 20;
                      _context11.t0 = _context11["catch"](5);
                      _didIteratorError72 = true;
                      _iteratorError72 = _context11.t0;

                    case 24:
                      _context11.prev = 24;
                      _context11.prev = 25;

                      if (!_iteratorNormalCompletion72 && _iterator72.return != null) {
                        _iterator72.return();
                      }

                    case 27:
                      _context11.prev = 27;

                      if (!_didIteratorError72) {
                        _context11.next = 30;
                        break;
                      }

                      throw _iteratorError72;

                    case 30:
                      return _context11.finish(27);

                    case 31:
                      return _context11.finish(24);

                    case 32:
                      if (!(i === o)) {
                        _context11.next = 35;
                        break;
                      }

                      _context11.next = 35;
                      return _this11._blockFiller(e);

                    case 35:
                    case "end":
                      return _context11.stop();
                  }
                }, _callee11, null, [[5, 20, 24, 32], [25,, 27, 31]]);
              })()
            );
          }

          viewRangeToDom(t) {
            const e = this.viewPositionToDom(t.start);
            const n = this.viewPositionToDom(t.end);
            const i = document.createRange();
            i.setStart(e.parent, e.offset);
            i.setEnd(n.parent, n.offset);
            return i;
          }

          viewPositionToDom(t) {
            const e = t.parent;

            if (e.is("text")) {
              const n = this.findCorrespondingDomText(e);

              if (!n) {
                return null;
              }

              let i = t.offset;

              if (dd(n)) {
                i += cd;
              }

              return {
                parent: n,
                offset: i
              };
            } else {
              let n, i, o;

              if (t.offset === 0) {
                n = this.mapViewToDom(e);

                if (!n) {
                  return null;
                }

                o = n.childNodes[0];
              } else {
                const e = t.nodeBefore;
                i = e.is("text") ? this.findCorrespondingDomText(e) : this.mapViewToDom(t.nodeBefore);

                if (!i) {
                  return null;
                }

                n = i.parentNode;
                o = i.nextSibling;
              }

              if (sd(o) && dd(o)) {
                return {
                  parent: o,
                  offset: cd
                };
              }

              const s = i ? Rd(i) + 1 : 0;
              return {
                parent: n,
                offset: s
              };
            }
          }

          domToView(t, e = {}) {
            if (this.isBlockFiller(t, this.blockFillerMode)) {
              return null;
            }

            const n = this.getParentUIElement(t, this._domToViewMapping);

            if (n) {
              return n;
            }

            if (sd(t)) {
              if (ud(t)) {
                return null;
              } else {
                const e = this._processDataFromDomText(t);

                return e === "" ? null : new jr(e);
              }
            } else if (this.isComment(t)) {
              return null;
            } else {
              if (this.mapDomToView(t)) {
                return this.mapDomToView(t);
              }

              let n;

              if (this.isDocumentFragment(t)) {
                n = new ql();

                if (e.bind) {
                  this.bindDocumentFragments(t, n);
                }
              } else {
                const i = e.keepOriginalCase ? t.tagName : t.tagName.toLowerCase();
                n = new zc(i);

                if (e.bind) {
                  this.bindElements(t, n);
                }

                const o = t.attributes;

                for (let t = o.length - 1; t >= 0; t--) {
                  n._setAttribute(o[t].name, o[t].value);
                }
              }

              if (e.withChildren || e.withChildren === undefined) {
                var _iteratorNormalCompletion73 = true;
                var _didIteratorError73 = false;
                var _iteratorError73 = undefined;

                try {
                  for (var _iterator73 = this.domChildrenToView(t, e)[Symbol.iterator](), _step73; !(_iteratorNormalCompletion73 = (_step73 = _iterator73.next()).done); _iteratorNormalCompletion73 = true) {
                    const i = _step73.value;

                    n._appendChild(i);
                  }
                } catch (err) {
                  _didIteratorError73 = true;
                  _iteratorError73 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion73 && _iterator73.return != null) {
                      _iterator73.return();
                    }
                  } finally {
                    if (_didIteratorError73) {
                      throw _iteratorError73;
                    }
                  }
                }
              }

              return n;
            }
          }

          domChildrenToView(t, e = {}) {
            var _this12 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee12() {
                var n, i, o;
                return regeneratorRuntime.wrap(function _callee12$(_context12) {
                  while (1) switch (_context12.prev = _context12.next) {
                    case 0:
                      n = 0;

                    case 1:
                      if (!(n < t.childNodes.length)) {
                        _context12.next = 10;
                        break;
                      }

                      i = t.childNodes[n];
                      o = _this12.domToView(i, e);

                      if (!(o !== null)) {
                        _context12.next = 7;
                        break;
                      }

                      _context12.next = 7;
                      return o;

                    case 7:
                      n++;
                      _context12.next = 1;
                      break;

                    case 10:
                    case "end":
                      return _context12.stop();
                  }
                }, _callee12);
              })()
            );
          }

          domSelectionToView(t) {
            if (t.rangeCount === 1) {
              let e = t.getRangeAt(0).startContainer;

              if (sd(e)) {
                e = e.parentNode;
              }

              const n = this.fakeSelectionToView(e);

              if (n) {
                return n;
              }
            }

            const e = this.isDomSelectionBackward(t);
            const n = [];

            for (let e = 0; e < t.rangeCount; e++) {
              const i = t.getRangeAt(e);
              const o = this.domRangeToView(i);

              if (o) {
                n.push(o);
              }
            }

            return new gl(n, {
              backward: e
            });
          }

          domRangeToView(t) {
            const e = this.domPositionToView(t.startContainer, t.startOffset);
            const n = this.domPositionToView(t.endContainer, t.endOffset);

            if (e && n) {
              return new hl(e, n);
            }

            return null;
          }

          domPositionToView(t, e) {
            if (this.isBlockFiller(t, this.blockFillerMode)) {
              return this.domPositionToView(t.parentNode, Rd(t));
            }

            const n = this.mapDomToView(t);

            if (n && n.is("uiElement")) {
              return ul._createBefore(n);
            }

            if (sd(t)) {
              if (ud(t)) {
                return this.domPositionToView(t.parentNode, Rd(t));
              }

              const n = this.findCorrespondingViewText(t);
              let i = e;

              if (!n) {
                return null;
              }

              if (dd(t)) {
                i -= cd;
                i = i < 0 ? 0 : i;
              }

              return new ul(n, i);
            } else {
              if (e === 0) {
                const e = this.mapDomToView(t);

                if (e) {
                  return new ul(e, 0);
                }
              } else {
                const n = t.childNodes[e - 1];
                const i = sd(n) ? this.findCorrespondingViewText(n) : this.mapDomToView(n);

                if (i && i.parent) {
                  return new ul(i.parent, i.index + 1);
                }
              }

              return null;
            }
          }

          mapDomToView(t) {
            return this.getParentUIElement(t) || this._domToViewMapping.get(t);
          }

          findCorrespondingViewText(t) {
            if (ud(t)) {
              return null;
            }

            const e = this.getParentUIElement(t);

            if (e) {
              return e;
            }

            const n = t.previousSibling;

            if (n) {
              if (!this.isElement(n)) {
                return null;
              }

              const t = this.mapDomToView(n);

              if (t) {
                const e = t.nextSibling;

                if (e instanceof jr) {
                  return t.nextSibling;
                } else {
                  return null;
                }
              }
            } else {
              const e = this.mapDomToView(t.parentNode);

              if (e) {
                const t = e.getChild(0);

                if (t instanceof jr) {
                  return t;
                } else {
                  return null;
                }
              }
            }

            return null;
          }

          mapViewToDom(t) {
            return this._viewToDomMapping.get(t);
          }

          findCorrespondingDomText(t) {
            const e = t.previousSibling;

            if (e && this.mapViewToDom(e)) {
              return this.mapViewToDom(e).nextSibling;
            }

            if (!e && t.parent && this.mapViewToDom(t.parent)) {
              return this.mapViewToDom(t.parent).childNodes[0];
            }

            return null;
          }

          focus(t) {
            const e = this.mapViewToDom(t);

            if (e && e.ownerDocument.activeElement !== e) {
              const _Od$window = Od.window,
                    t = _Od$window.scrollX,
                    n = _Od$window.scrollY;
              const i = [];
              Bd(e, t => {
                const e = t.scrollLeft,
                      n = t.scrollTop;
                i.push([e, n]);
              });
              e.focus();
              Bd(e, t => {
                const _i$shift = i.shift(),
                      _i$shift2 = _slicedToArray(_i$shift, 2),
                      e = _i$shift2[0],
                      n = _i$shift2[1];

                t.scrollLeft = e;
                t.scrollTop = n;
              });
              Od.window.scrollTo(t, n);
            }
          }

          isElement(t) {
            return t && t.nodeType == Node.ELEMENT_NODE;
          }

          isDocumentFragment(t) {
            return t && t.nodeType == Node.DOCUMENT_FRAGMENT_NODE;
          }

          isComment(t) {
            return t && t.nodeType == Node.COMMENT_NODE;
          }

          isBlockFiller(t) {
            if (this.blockFillerMode == "br") {
              return t.isEqualNode(zd);
            }

            if (t.tagName === "BR" && Hd(t, this.blockElements) && t.parentNode.childNodes.length === 1) {
              return true;
            }

            return Fd(t, this.blockElements);
          }

          isDomSelectionBackward(t) {
            if (t.isCollapsed) {
              return false;
            }

            const e = document.createRange();
            e.setStart(t.anchorNode, t.anchorOffset);
            e.setEnd(t.focusNode, t.focusOffset);
            const n = e.collapsed;
            e.detach();
            return n;
          }

          getParentUIElement(t) {
            const e = Dd(t);
            e.pop();

            while (e.length) {
              const t = e.pop();

              const n = this._domToViewMapping.get(t);

              if (n && n.is("uiElement")) {
                return n;
              }
            }

            return null;
          }

          isDomSelectionCorrect(t) {
            return this._isDomSelectionPositionCorrect(t.anchorNode, t.anchorOffset) && this._isDomSelectionPositionCorrect(t.focusNode, t.focusOffset);
          }

          _isDomSelectionPositionCorrect(t, e) {
            if (sd(t) && dd(t) && e < cd) {
              return false;
            }

            if (this.isElement(t) && dd(t.childNodes[e])) {
              return false;
            }

            const n = this.mapDomToView(t);

            if (n && n.is("uiElement")) {
              return false;
            }

            return true;
          }

          _processDataFromViewText(t) {
            let e = t.data;

            if (t.getAncestors().some(t => this.preElements.includes(t.name))) {
              return e;
            }

            if (e.charAt(0) == " ") {
              const n = this._getTouchingViewTextNode(t, false);

              const i = n && this._nodeEndsWithSpace(n);

              if (i || !n) {
                e = " " + e.substr(1);
              }
            }

            if (e.charAt(e.length - 1) == " ") {
              const n = this._getTouchingViewTextNode(t, true);

              if (e.charAt(e.length - 2) == " " || !n || n.data.charAt(0) == " ") {
                e = e.substr(0, e.length - 1) + " ";
              }
            }

            return e.replace(/ {2}/g, "  ");
          }

          _nodeEndsWithSpace(t) {
            if (t.getAncestors().some(t => this.preElements.includes(t.name))) {
              return false;
            }

            const e = this._processDataFromViewText(t);

            return e.charAt(e.length - 1) == " ";
          }

          _processDataFromDomText(t) {
            let e = t.data;

            if (Vd(t, this.preElements)) {
              return hd(t);
            }

            e = e.replace(/[ \n\t\r]{1,}/g, " ");

            const n = this._getTouchingInlineDomNode(t, false);

            const i = this._getTouchingInlineDomNode(t, true);

            const o = this._checkShouldLeftTrimDomText(n);

            const s = this._checkShouldRightTrimDomText(t, i);

            if (o) {
              e = e.replace(/^ /, "");
            }

            if (s) {
              e = e.replace(/ $/, "");
            }

            e = hd(new Text(e));
            e = e.replace(/ \u00A0/g, "  ");

            if (/( |\u00A0)\u00A0$/.test(e) || !i || i.data && i.data.charAt(0) == " ") {
              e = e.replace(/\u00A0$/, " ");
            }

            if (o) {
              e = e.replace(/^\u00A0/, " ");
            }

            return e;
          }

          _checkShouldLeftTrimDomText(t) {
            if (!t) {
              return true;
            }

            if (Gs(t)) {
              return true;
            }

            return /[^\S\u00A0]/.test(t.data.charAt(t.data.length - 1));
          }

          _checkShouldRightTrimDomText(t, e) {
            if (e) {
              return false;
            }

            return !dd(t);
          }

          _getTouchingViewTextNode(t, e) {
            const n = new dl({
              startPosition: e ? ul._createAfter(t) : ul._createBefore(t),
              direction: e ? "forward" : "backward"
            });
            var _iteratorNormalCompletion74 = true;
            var _didIteratorError74 = false;
            var _iteratorError74 = undefined;

            try {
              for (var _iterator74 = n[Symbol.iterator](), _step74; !(_iteratorNormalCompletion74 = (_step74 = _iterator74.next()).done); _iteratorNormalCompletion74 = true) {
                const t = _step74.value;

                if (t.item.is("containerElement")) {
                  return null;
                } else if (t.item.is("br")) {
                  return null;
                } else if (t.item.is("textProxy")) {
                  return t.item;
                }
              }
            } catch (err) {
              _didIteratorError74 = true;
              _iteratorError74 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion74 && _iterator74.return != null) {
                  _iterator74.return();
                }
              } finally {
                if (_didIteratorError74) {
                  throw _iteratorError74;
                }
              }
            }

            return null;
          }

          _getTouchingInlineDomNode(t, e) {
            if (!t.parentNode) {
              return null;
            }

            const n = e ? "nextNode" : "previousNode";
            const i = t.ownerDocument;
            const o = Dd(t)[0];
            const s = i.createTreeWalker(o, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, {
              acceptNode(t) {
                if (sd(t)) {
                  return NodeFilter.FILTER_ACCEPT;
                }

                if (t.tagName == "BR") {
                  return NodeFilter.FILTER_ACCEPT;
                }

                return NodeFilter.FILTER_SKIP;
              }

            });
            s.currentNode = t;
            const r = s[n]();

            if (r !== null) {
              const e = Ld(t, r);

              if (e && !Vd(t, this.blockElements, e) && !Vd(r, this.blockElements, e)) {
                return r;
              }
            }

            return null;
          }

        }

        function Vd(t, e, n) {
          let i = Dd(t);

          if (n) {
            i = i.slice(i.indexOf(n) + 1);
          }

          return i.some(t => t.tagName && e.includes(t.tagName.toLowerCase()));
        }

        function Bd(t, e) {
          while (t && t != Od.document) {
            e(t);
            t = t.parentNode;
          }
        }

        function Fd(t, e) {
          const n = sd(t) && t.data == " ";
          return n && Hd(t, e) && t.parentNode.childNodes.length === 1;
        }

        function Hd(t, e) {
          const n = t.parentNode;
          return n && n.tagName && e.includes(n.tagName.toLowerCase());
        }

        function Ud(t) {
          const e = Object.prototype.toString.apply(t);

          if (e == "[object Window]") {
            return true;
          }

          if (e == "[object global]") {
            return true;
          }

          return false;
        }

        const Wd = Wc({}, dr, {
          listenTo(t, ...e) {
            if (Ad(t) || Ud(t)) {
              const n = this._getProxyEmitter(t) || new $d(t);
              n.attach(...e);
              t = n;
            }

            dr.listenTo.call(this, t, ...e);
          },

          stopListening(t, e, n) {
            if (Ad(t) || Ud(t)) {
              const e = this._getProxyEmitter(t);

              if (!e) {
                return;
              }

              t = e;
            }

            dr.stopListening.call(this, t, e, n);

            if (t instanceof $d) {
              t.detach(e);
            }
          },

          _getProxyEmitter(t) {
            return ur(this, Yd(t));
          }

        });
        var qd = Wd;

        class $d {
          constructor(t) {
            hr(this, Yd(t));
            this._domNode = t;
          }

        }

        Wc($d.prototype, dr, {
          attach(t, e, n = {}) {
            if (this._domListeners && this._domListeners[t]) {
              return;
            }

            const i = this._createDomListener(t, !!n.useCapture);

            this._domNode.addEventListener(t, i, !!n.useCapture);

            if (!this._domListeners) {
              this._domListeners = {};
            }

            this._domListeners[t] = i;
          },

          detach(t) {
            let e;

            if (this._domListeners[t] && (!(e = this._events[t]) || !e.callbacks.length)) {
              this._domListeners[t].removeListener();
            }
          },

          _createDomListener(t, e) {
            const n = e => {
              this.fire(t, e);
            };

            n.removeListener = () => {
              this._domNode.removeEventListener(t, n, e);

              delete this._domListeners[t];
            };

            return n;
          }

        });

        function Yd(t) {
          return t["data-ck-expando"] || (t["data-ck-expando"] = nr());
        }

        class Gd {
          constructor(t) {
            this.view = t;
            this.document = t.document;
            this.isEnabled = false;
          }

          enable() {
            this.isEnabled = true;
          }

          disable() {
            this.isEnabled = false;
          }

          destroy() {
            this.disable();
            this.stopListening();
          }

        }

        vr(Gd, qd);
        var Qd = "__lodash_hash_undefined__";

        function Kd(t) {
          this.__data__.set(t, Qd);

          return this;
        }

        var Jd = Kd;

        function Zd(t) {
          return this.__data__.has(t);
        }

        var Xd = Zd;

        function tu(t) {
          var e = -1,
              n = t == null ? 0 : t.length;
          this.__data__ = new ke();

          while (++e < n) {
            this.add(t[e]);
          }
        }

        tu.prototype.add = tu.prototype.push = Jd;
        tu.prototype.has = Xd;
        var eu = tu;

        function nu(t, e) {
          var n = -1,
              i = t == null ? 0 : t.length;

          while (++n < i) {
            if (e(t[n], n, t)) {
              return true;
            }
          }

          return false;
        }

        var iu = nu;

        function ou(t, e) {
          return t.has(e);
        }

        var su = ou;
        var ru = 1,
            au = 2;

        function cu(t, e, n, i, o, s) {
          var r = n & ru,
              a = t.length,
              c = e.length;

          if (a != c && !(r && c > a)) {
            return false;
          }

          var l = s.get(t);

          if (l && s.get(e)) {
            return l == e;
          }

          var d = -1,
              u = true,
              h = n & au ? new eu() : undefined;
          s.set(t, e);
          s.set(e, t);

          while (++d < a) {
            var f = t[d],
                m = e[d];

            if (i) {
              var g = r ? i(m, f, d, e, t, s) : i(f, m, d, t, e, s);
            }

            if (g !== undefined) {
              if (g) {
                continue;
              }

              u = false;
              break;
            }

            if (h) {
              if (!iu(e, function (t, e) {
                if (!su(h, e) && (f === t || o(f, t, n, i, s))) {
                  return h.push(e);
                }
              })) {
                u = false;
                break;
              }
            } else if (!(f === m || o(f, m, n, i, s))) {
              u = false;
              break;
            }
          }

          s["delete"](t);
          s["delete"](e);
          return u;
        }

        var lu = cu;

        function du(t) {
          var e = -1,
              n = Array(t.size);
          t.forEach(function (t, i) {
            n[++e] = [i, t];
          });
          return n;
        }

        var uu = du;

        function hu(t) {
          var e = -1,
              n = Array(t.size);
          t.forEach(function (t) {
            n[++e] = t;
          });
          return n;
        }

        var fu = hu;
        var mu = 1,
            gu = 2;
        var pu = "[object Boolean]",
            bu = "[object Date]",
            wu = "[object Error]",
            _u = "[object Map]",
            ku = "[object Number]",
            vu = "[object RegExp]",
            yu = "[object Set]",
            xu = "[object String]",
            Au = "[object Symbol]";
        var Tu = "[object ArrayBuffer]",
            Cu = "[object DataView]";
        var Pu = s ? s.prototype : undefined,
            Su = Pu ? Pu.valueOf : undefined;

        function Mu(t, e, n, i, o, s, r) {
          switch (n) {
            case Cu:
              if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) {
                return false;
              }

              t = t.buffer;
              e = e.buffer;

            case Tu:
              if (t.byteLength != e.byteLength || !s(new fo(t), new fo(e))) {
                return false;
              }

              return true;

            case pu:
            case bu:
            case ku:
              return j(+t, +e);

            case wu:
              return t.name == e.name && t.message == e.message;

            case vu:
            case xu:
              return t == e + "";

            case _u:
              var a = uu;

            case yu:
              var c = i & mu;
              a || (a = fu);

              if (t.size != e.size && !c) {
                return false;
              }

              var l = r.get(t);

              if (l) {
                return l == e;
              }

              i |= gu;
              r.set(t, e);
              var d = lu(a(t), a(e), i, o, s, r);
              r["delete"](t);
              return d;

            case Au:
              if (Su) {
                return Su.call(t) == Su.call(e);
              }

          }

          return false;
        }

        var Eu = Mu;
        var Iu = 1;
        var Nu = Object.prototype;
        var Ou = Nu.hasOwnProperty;

        function Ru(t, e, n, i, o, s) {
          var r = n & Iu,
              a = zi(t),
              c = a.length,
              l = zi(e),
              d = l.length;

          if (c != d && !r) {
            return false;
          }

          var u = c;

          while (u--) {
            var h = a[u];

            if (!(r ? h in e : Ou.call(e, h))) {
              return false;
            }
          }

          var f = s.get(t);

          if (f && s.get(e)) {
            return f == e;
          }

          var m = true;
          s.set(t, e);
          s.set(e, t);
          var g = r;

          while (++u < c) {
            h = a[u];
            var p = t[h],
                b = e[h];

            if (i) {
              var w = r ? i(b, p, h, e, t, s) : i(p, b, h, t, e, s);
            }

            if (!(w === undefined ? p === b || o(p, b, n, i, s) : w)) {
              m = false;
              break;
            }

            g || (g = h == "constructor");
          }

          if (m && !g) {
            var _ = t.constructor,
                k = e.constructor;

            if (_ != k && "constructor" in t && "constructor" in e && !(typeof _ == "function" && _ instanceof _ && typeof k == "function" && k instanceof k)) {
              m = false;
            }
          }

          s["delete"](t);
          s["delete"](e);
          return m;
        }

        var Du = Ru;
        var Lu = 1;
        var zu = "[object Arguments]",
            ju = "[object Array]",
            Vu = "[object Object]";
        var Bu = Object.prototype;
        var Fu = Bu.hasOwnProperty;

        function Hu(t, e, n, i, o, s) {
          var r = Qe(t),
              a = Qe(e),
              c = r ? ju : ro(t),
              l = a ? ju : ro(e);
          c = c == zu ? Vu : c;
          l = l == zu ? Vu : l;
          var d = c == Vu,
              u = l == Vu,
              h = c == l;

          if (h && Object(Ke["a"])(t)) {
            if (!Object(Ke["a"])(e)) {
              return false;
            }

            r = true;
            d = false;
          }

          if (h && !d) {
            s || (s = new Te());
            return r || zn(t) ? lu(t, e, n, i, o, s) : Eu(t, e, c, n, i, o, s);
          }

          if (!(n & Lu)) {
            var f = d && Fu.call(t, "__wrapped__"),
                m = u && Fu.call(e, "__wrapped__");

            if (f || m) {
              var g = f ? t.value() : t,
                  p = m ? e.value() : e;
              s || (s = new Te());
              return o(g, p, n, i, s);
            }
          }

          if (!h) {
            return false;
          }

          s || (s = new Te());
          return Du(t, e, n, i, o, s);
        }

        var Uu = Hu;

        function Wu(t, e, n, i, o) {
          if (t === e) {
            return true;
          }

          if (t == null || e == null || !C(t) && !C(e)) {
            return t !== t && e !== e;
          }

          return Uu(t, e, n, i, Wu, o);
        }

        var qu = Wu;

        function $u(t, e, n) {
          n = typeof n == "function" ? n : undefined;
          var i = n ? n(t, e) : undefined;
          return i === undefined ? qu(t, e, undefined, n) : !!i;
        }

        var Yu = $u;

        class Gu extends Gd {
          constructor(t) {
            super(t);
            this._config = {
              childList: true,
              characterData: true,
              characterDataOldValue: true,
              subtree: true
            };
            this.domConverter = t.domConverter;
            this.renderer = t._renderer;
            this._domElements = [];
            this._mutationObserver = new window.MutationObserver(this._onMutations.bind(this));
          }

          flush() {
            this._onMutations(this._mutationObserver.takeRecords());
          }

          observe(t) {
            this._domElements.push(t);

            if (this.isEnabled) {
              this._mutationObserver.observe(t, this._config);
            }
          }

          enable() {
            super.enable();
            var _iteratorNormalCompletion75 = true;
            var _didIteratorError75 = false;
            var _iteratorError75 = undefined;

            try {
              for (var _iterator75 = this._domElements[Symbol.iterator](), _step75; !(_iteratorNormalCompletion75 = (_step75 = _iterator75.next()).done); _iteratorNormalCompletion75 = true) {
                const t = _step75.value;

                this._mutationObserver.observe(t, this._config);
              }
            } catch (err) {
              _didIteratorError75 = true;
              _iteratorError75 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion75 && _iterator75.return != null) {
                  _iterator75.return();
                }
              } finally {
                if (_didIteratorError75) {
                  throw _iteratorError75;
                }
              }
            }
          }

          disable() {
            super.disable();

            this._mutationObserver.disconnect();
          }

          destroy() {
            super.destroy();

            this._mutationObserver.disconnect();
          }

          _onMutations(t) {
            if (t.length === 0) {
              return;
            }

            const e = this.domConverter;
            const n = new Map();
            const i = new Set();
            var _iteratorNormalCompletion76 = true;
            var _didIteratorError76 = false;
            var _iteratorError76 = undefined;

            try {
              for (var _iterator76 = t[Symbol.iterator](), _step76; !(_iteratorNormalCompletion76 = (_step76 = _iterator76.next()).done); _iteratorNormalCompletion76 = true) {
                const n = _step76.value;

                if (n.type === "childList") {
                  const t = e.mapDomToView(n.target);

                  if (t && t.is("uiElement")) {
                    continue;
                  }

                  if (t && !this._isBogusBrMutation(n)) {
                    i.add(t);
                  }
                }
              }
            } catch (err) {
              _didIteratorError76 = true;
              _iteratorError76 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion76 && _iterator76.return != null) {
                  _iterator76.return();
                }
              } finally {
                if (_didIteratorError76) {
                  throw _iteratorError76;
                }
              }
            }

            var _iteratorNormalCompletion77 = true;
            var _didIteratorError77 = false;
            var _iteratorError77 = undefined;

            try {
              for (var _iterator77 = t[Symbol.iterator](), _step77; !(_iteratorNormalCompletion77 = (_step77 = _iterator77.next()).done); _iteratorNormalCompletion77 = true) {
                const o = _step77.value;
                const t = e.mapDomToView(o.target);

                if (t && t.is("uiElement")) {
                  continue;
                }

                if (o.type === "characterData") {
                  const t = e.findCorrespondingViewText(o.target);

                  if (t && !i.has(t.parent)) {
                    n.set(t, {
                      type: "text",
                      oldText: t.data,
                      newText: hd(o.target),
                      node: t
                    });
                  } else if (!t && dd(o.target)) {
                    i.add(e.mapDomToView(o.target.parentNode));
                  }
                }
              }
            } catch (err) {
              _didIteratorError77 = true;
              _iteratorError77 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion77 && _iterator77.return != null) {
                  _iterator77.return();
                }
              } finally {
                if (_didIteratorError77) {
                  throw _iteratorError77;
                }
              }
            }

            const o = [];
            var _iteratorNormalCompletion78 = true;
            var _didIteratorError78 = false;
            var _iteratorError78 = undefined;

            try {
              for (var _iterator78 = n.values()[Symbol.iterator](), _step78; !(_iteratorNormalCompletion78 = (_step78 = _iterator78.next()).done); _iteratorNormalCompletion78 = true) {
                const t = _step78.value;
                this.renderer.markToSync("text", t.node);
                o.push(t);
              }
            } catch (err) {
              _didIteratorError78 = true;
              _iteratorError78 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion78 && _iterator78.return != null) {
                  _iterator78.return();
                }
              } finally {
                if (_didIteratorError78) {
                  throw _iteratorError78;
                }
              }
            }

            var _iteratorNormalCompletion79 = true;
            var _didIteratorError79 = false;
            var _iteratorError79 = undefined;

            try {
              for (var _iterator79 = i[Symbol.iterator](), _step79; !(_iteratorNormalCompletion79 = (_step79 = _iterator79.next()).done); _iteratorNormalCompletion79 = true) {
                const t = _step79.value;
                const n = e.mapViewToDom(t);
                const i = Array.from(t.getChildren());
                const s = Array.from(e.domChildrenToView(n, {
                  withChildren: false
                }));

                if (!Yu(i, s, a)) {
                  this.renderer.markToSync("children", t);
                  o.push({
                    type: "children",
                    oldChildren: i,
                    newChildren: s,
                    node: t
                  });
                }
              }
            } catch (err) {
              _didIteratorError79 = true;
              _iteratorError79 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion79 && _iterator79.return != null) {
                  _iterator79.return();
                }
              } finally {
                if (_didIteratorError79) {
                  throw _iteratorError79;
                }
              }
            }

            const s = t[0].target.ownerDocument.getSelection();
            let r = null;

            if (s && s.anchorNode) {
              const t = e.domPositionToView(s.anchorNode, s.anchorOffset);
              const n = e.domPositionToView(s.focusNode, s.focusOffset);

              if (t && n) {
                r = new gl(t);
                r.setFocus(n);
              }
            }

            if (o.length) {
              this.document.fire("mutations", o, r);
              this.view.forceRender();
            }

            function a(t, e) {
              if (Array.isArray(t)) {
                return;
              }

              if (t === e) {
                return true;
              } else if (t.is("text") && e.is("text")) {
                return t.data === e.data;
              }

              return false;
            }
          }

          _isBogusBrMutation(t) {
            let e = null;

            if (t.nextSibling === null && t.removedNodes.length === 0 && t.addedNodes.length == 1) {
              e = this.domConverter.domToView(t.addedNodes[0], {
                withChildren: false
              });
            }

            return e && e.is("element", "br");
          }

        }

        class Qu {
          constructor(t, e, n) {
            this.view = t;
            this.document = t.document;
            this.domEvent = e;
            this.domTarget = e.target;
            Wc(this, n);
          }

          get target() {
            return this.view.domConverter.mapDomToView(this.domTarget);
          }

          preventDefault() {
            this.domEvent.preventDefault();
          }

          stopPropagation() {
            this.domEvent.stopPropagation();
          }

        }

        class Ku extends Gd {
          constructor(t) {
            super(t);
            this.useCapture = false;
          }

          observe(t) {
            const e = typeof this.domEventType == "string" ? [this.domEventType] : this.domEventType;
            e.forEach(e => {
              this.listenTo(t, e, (t, e) => {
                if (this.isEnabled) {
                  this.onDomEvent(e);
                }
              }, {
                useCapture: this.useCapture
              });
            });
          }

          fire(t, e, n) {
            if (this.isEnabled) {
              this.document.fire(t, new Qu(this.view, e, n));
            }
          }

        }

        class Ju extends Ku {
          constructor(t) {
            super(t);
            this.domEventType = ["keydown", "keyup"];
          }

          onDomEvent(t) {
            this.fire(t.type, t, {
              keyCode: t.keyCode,
              altKey: t.altKey,
              ctrlKey: t.ctrlKey || t.metaKey,
              shiftKey: t.shiftKey,

              get keystroke() {
                return Ll(this);
              }

            });
          }

        }

        var Zu = function Zu() {
          return i["a"].Date.now();
        };

        var Xu = Zu;
        var th = 0 / 0;
        var eh = /^\s+|\s+$/g;
        var nh = /^[-+]0x[0-9a-f]+$/i;
        var ih = /^0b[01]+$/i;
        var oh = /^0o[0-7]+$/i;
        var sh = parseInt;

        function rh(t) {
          if (typeof t == "number") {
            return t;
          }

          if (Jr(t)) {
            return th;
          }

          if (ct(t)) {
            var e = typeof t.valueOf == "function" ? t.valueOf() : t;
            t = ct(e) ? e + "" : e;
          }

          if (typeof t != "string") {
            return t === 0 ? t : +t;
          }

          t = t.replace(eh, "");
          var n = ih.test(t);
          return n || oh.test(t) ? sh(t.slice(2), n ? 2 : 8) : nh.test(t) ? th : +t;
        }

        var ah = rh;
        var ch = "Expected a function";
        var lh = Math.max,
            dh = Math.min;

        function uh(t, e, n) {
          var i,
              o,
              s,
              r,
              a,
              c,
              l = 0,
              d = false,
              u = false,
              h = true;

          if (typeof t != "function") {
            throw new TypeError(ch);
          }

          e = ah(e) || 0;

          if (ct(n)) {
            d = !!n.leading;
            u = "maxWait" in n;
            s = u ? lh(ah(n.maxWait) || 0, e) : s;
            h = "trailing" in n ? !!n.trailing : h;
          }

          function f(e) {
            var n = i,
                s = o;
            i = o = undefined;
            l = e;
            r = t.apply(s, n);
            return r;
          }

          function m(t) {
            l = t;
            a = setTimeout(b, e);
            return d ? f(t) : r;
          }

          function g(t) {
            var n = t - c,
                i = t - l,
                o = e - n;
            return u ? dh(o, s - i) : o;
          }

          function p(t) {
            var n = t - c,
                i = t - l;
            return c === undefined || n >= e || n < 0 || u && i >= s;
          }

          function b() {
            var t = Xu();

            if (p(t)) {
              return w(t);
            }

            a = setTimeout(b, g(t));
          }

          function w(t) {
            a = undefined;

            if (h && i) {
              return f(t);
            }

            i = o = undefined;
            return r;
          }

          function _() {
            if (a !== undefined) {
              clearTimeout(a);
            }

            l = 0;
            i = c = o = a = undefined;
          }

          function k() {
            return a === undefined ? r : w(Xu());
          }

          function v() {
            var t = Xu(),
                n = p(t);
            i = arguments;
            o = this;
            c = t;

            if (n) {
              if (a === undefined) {
                return m(c);
              }

              if (u) {
                clearTimeout(a);
                a = setTimeout(b, e);
                return f(c);
              }
            }

            if (a === undefined) {
              a = setTimeout(b, e);
            }

            return r;
          }

          v.cancel = _;
          v.flush = k;
          return v;
        }

        var hh = uh;

        class fh extends Gd {
          constructor(t) {
            super(t);
            this._fireSelectionChangeDoneDebounced = hh(t => this.document.fire("selectionChangeDone", t), 200);
          }

          observe() {
            const t = this.document;
            t.on("keydown", (e, n) => {
              const i = t.selection;

              if (i.isFake && mh(n.keyCode) && this.isEnabled) {
                n.preventDefault();

                this._handleSelectionMove(n.keyCode);
              }
            }, {
              priority: "lowest"
            });
          }

          destroy() {
            super.destroy();

            this._fireSelectionChangeDoneDebounced.cancel();
          }

          _handleSelectionMove(t) {
            const e = this.document.selection;
            const n = new gl(e.getRanges(), {
              backward: e.isBackward,
              fake: false
            });

            if (t == Dl.arrowleft || t == Dl.arrowup) {
              n.setTo(n.getFirstPosition());
            }

            if (t == Dl.arrowright || t == Dl.arrowdown) {
              n.setTo(n.getLastPosition());
            }

            const i = {
              oldSelection: e,
              newSelection: n,
              domSelection: null
            };
            this.document.fire("selectionChange", i);

            this._fireSelectionChangeDoneDebounced(i);
          }

        }

        function mh(t) {
          return t == Dl.arrowright || t == Dl.arrowleft || t == Dl.arrowup || t == Dl.arrowdown;
        }

        class gh extends Gd {
          constructor(t) {
            super(t);
            this.mutationObserver = t.getObserver(Gu);
            this.selection = this.document.selection;
            this.domConverter = t.domConverter;
            this._documents = new WeakSet();
            this._fireSelectionChangeDoneDebounced = hh(t => this.document.fire("selectionChangeDone", t), 200);
            this._clearInfiniteLoopInterval = setInterval(() => this._clearInfiniteLoop(), 1e3);
            this._loopbackCounter = 0;
          }

          observe(t) {
            const e = t.ownerDocument;

            if (this._documents.has(e)) {
              return;
            }

            this.listenTo(e, "selectionchange", () => {
              this._handleSelectionChange(e);
            });

            this._documents.add(e);
          }

          destroy() {
            super.destroy();
            clearInterval(this._clearInfiniteLoopInterval);

            this._fireSelectionChangeDoneDebounced.cancel();
          }

          _handleSelectionChange(t) {
            if (!this.isEnabled) {
              return;
            }

            this.mutationObserver.flush();
            const e = t.defaultView.getSelection();
            const n = this.domConverter.domSelectionToView(e);

            if (n.rangeCount == 0) {
              return;
            }

            if (this.selection.isEqual(n) && this.domConverter.isDomSelectionCorrect(e)) {
              return;
            }

            if (++this._loopbackCounter > 60) {
              return;
            }

            if (this.selection.isSimilar(n)) {
              this.view.forceRender();
            } else {
              const t = {
                oldSelection: this.selection,
                newSelection: n,
                domSelection: e
              };
              this.document.fire("selectionChange", t);

              this._fireSelectionChangeDoneDebounced(t);
            }
          }

          _clearInfiniteLoop() {
            this._loopbackCounter = 0;
          }

        }

        class ph extends Ku {
          constructor(t) {
            super(t);
            this.domEventType = ["focus", "blur"];
            this.useCapture = true;
            const e = this.document;
            e.on("focus", () => {
              e.isFocused = true;
              this._renderTimeoutId = setTimeout(() => t.forceRender(), 50);
            });
            e.on("blur", (n, i) => {
              const o = e.selection.editableElement;

              if (o === null || o === i.target) {
                e.isFocused = false;
                t.forceRender();
              }
            });
          }

          onDomEvent(t) {
            this.fire(t.type, t);
          }

          destroy() {
            if (this._renderTimeoutId) {
              clearTimeout(this._renderTimeoutId);
            }

            super.destroy();
          }

        }

        class bh extends Ku {
          constructor(t) {
            super(t);
            this.domEventType = ["compositionstart", "compositionupdate", "compositionend"];
            const e = this.document;
            e.on("compositionstart", () => {
              e.isComposing = true;
            });
            e.on("compositionend", () => {
              e.isComposing = false;
            });
          }

          onDomEvent(t) {
            this.fire(t.type, t);
          }

        }

        class wh extends Ku {
          constructor(t) {
            super(t);
            this.domEventType = ["beforeinput"];
          }

          onDomEvent(t) {
            this.fire(t.type, t);
          }

        }

        function _h(t) {
          return Object.prototype.toString.apply(t) == "[object Range]";
        }

        function kh(t) {
          const e = t.ownerDocument.defaultView.getComputedStyle(t);
          return {
            top: parseInt(e.borderTopWidth, 10),
            right: parseInt(e.borderRightWidth, 10),
            bottom: parseInt(e.borderBottomWidth, 10),
            left: parseInt(e.borderLeftWidth, 10)
          };
        }

        const vh = ["top", "right", "bottom", "left", "width", "height"];

        class yh {
          constructor(t) {
            const e = _h(t);

            Object.defineProperty(this, "_source", {
              value: t._source || t,
              writable: true,
              enumerable: false
            });

            if (Gs(t) || e) {
              if (e) {
                xh(this, yh.getDomRangeRects(t)[0]);
              } else {
                xh(this, t.getBoundingClientRect());
              }
            } else if (Ud(t)) {
              const e = t.innerWidth,
                    n = t.innerHeight;
              xh(this, {
                top: 0,
                right: e,
                bottom: n,
                left: 0,
                width: e,
                height: n
              });
            } else {
              xh(this, t);
            }
          }

          clone() {
            return new yh(this);
          }

          moveTo(t, e) {
            this.top = e;
            this.right = t + this.width;
            this.bottom = e + this.height;
            this.left = t;
            return this;
          }

          moveBy(t, e) {
            this.top += e;
            this.right += t;
            this.left += t;
            this.bottom += e;
            return this;
          }

          getIntersection(t) {
            const e = {
              top: Math.max(this.top, t.top),
              right: Math.min(this.right, t.right),
              bottom: Math.min(this.bottom, t.bottom),
              left: Math.max(this.left, t.left)
            };
            e.width = e.right - e.left;
            e.height = e.bottom - e.top;

            if (e.width < 0 || e.height < 0) {
              return null;
            } else {
              return new yh(e);
            }
          }

          getIntersectionArea(t) {
            const e = this.getIntersection(t);

            if (e) {
              return e.getArea();
            } else {
              return 0;
            }
          }

          getArea() {
            return this.width * this.height;
          }

          getVisible() {
            const t = this._source;
            let e = this.clone();

            if (!Ah(t)) {
              let n = t.parentNode || t.commonAncestorContainer;

              while (n && !Ah(n)) {
                const t = new yh(n);
                const i = e.getIntersection(t);

                if (i) {
                  if (i.getArea() < e.getArea()) {
                    e = i;
                  }
                } else {
                  return null;
                }

                n = n.parentNode;
              }
            }

            return e;
          }

          isEqual(t) {
            var _iteratorNormalCompletion80 = true;
            var _didIteratorError80 = false;
            var _iteratorError80 = undefined;

            try {
              for (var _iterator80 = vh[Symbol.iterator](), _step80; !(_iteratorNormalCompletion80 = (_step80 = _iterator80.next()).done); _iteratorNormalCompletion80 = true) {
                const e = _step80.value;

                if (this[e] !== t[e]) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError80 = true;
              _iteratorError80 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion80 && _iterator80.return != null) {
                  _iterator80.return();
                }
              } finally {
                if (_didIteratorError80) {
                  throw _iteratorError80;
                }
              }
            }

            return true;
          }

          contains(t) {
            const e = this.getIntersection(t);
            return !!(e && e.isEqual(t));
          }

          excludeScrollbarsAndBorders() {
            const t = this._source;
            let e, n, i;

            if (Ud(t)) {
              e = t.innerWidth - t.document.documentElement.clientWidth;
              n = t.innerHeight - t.document.documentElement.clientHeight;
              i = t.getComputedStyle(t.document.documentElement).direction;
            } else {
              const o = kh(this._source);
              e = t.offsetWidth - t.clientWidth - o.left - o.right;
              n = t.offsetHeight - t.clientHeight - o.top - o.bottom;
              i = t.ownerDocument.defaultView.getComputedStyle(t).direction;
              this.left += o.left;
              this.top += o.top;
              this.right -= o.right;
              this.bottom -= o.bottom;
              this.width = this.right - this.left;
              this.height = this.bottom - this.top;
            }

            this.width -= e;

            if (i === "ltr") {
              this.right -= e;
            } else {
              this.left += e;
            }

            this.height -= n;
            this.bottom -= n;
            return this;
          }

          static getDomRangeRects(t) {
            const e = [];
            const n = Array.from(t.getClientRects());

            if (n.length) {
              var _iteratorNormalCompletion81 = true;
              var _didIteratorError81 = false;
              var _iteratorError81 = undefined;

              try {
                for (var _iterator81 = n[Symbol.iterator](), _step81; !(_iteratorNormalCompletion81 = (_step81 = _iterator81.next()).done); _iteratorNormalCompletion81 = true) {
                  const t = _step81.value;
                  e.push(new yh(t));
                }
              } catch (err) {
                _didIteratorError81 = true;
                _iteratorError81 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion81 && _iterator81.return != null) {
                    _iterator81.return();
                  }
                } finally {
                  if (_didIteratorError81) {
                    throw _iteratorError81;
                  }
                }
              }
            } else {
              let n = t.startContainer;

              if (sd(n)) {
                n = n.parentNode;
              }

              const i = new yh(n.getBoundingClientRect());
              i.right = i.left;
              i.width = 0;
              e.push(i);
            }

            return e;
          }

        }

        function xh(t, e) {
          var _iteratorNormalCompletion82 = true;
          var _didIteratorError82 = false;
          var _iteratorError82 = undefined;

          try {
            for (var _iterator82 = vh[Symbol.iterator](), _step82; !(_iteratorNormalCompletion82 = (_step82 = _iterator82.next()).done); _iteratorNormalCompletion82 = true) {
              const n = _step82.value;
              t[n] = e[n];
            }
          } catch (err) {
            _didIteratorError82 = true;
            _iteratorError82 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion82 && _iterator82.return != null) {
                _iterator82.return();
              }
            } finally {
              if (_didIteratorError82) {
                throw _iteratorError82;
              }
            }
          }
        }

        function Ah(t) {
          if (!Gs(t)) {
            return false;
          }

          return t === t.ownerDocument.body;
        }

        const Th = {};

        function Ch({
          target: t,
          viewportOffset: e = 0
        }) {
          const n = Rh(t);
          let i = n;
          let o = null;

          while (i) {
            let s;

            if (i == n) {
              s = Dh(t);
            } else {
              s = Dh(o);
            }

            Mh(s, () => Lh(t, i));
            const r = Lh(t, i);
            Sh(i, r, e);

            if (i.parent != i) {
              o = i.frameElement;
              i = i.parent;

              if (!o) {
                return;
              }
            } else {
              i = null;
            }
          }
        }

        function Ph(t) {
          const e = Dh(t);
          Mh(e, () => new yh(t));
        }

        Object.assign(Th, {
          scrollViewportToShowTarget: Ch,
          scrollAncestorsToShowTarget: Ph
        });

        function Sh(t, e, n) {
          const i = e.clone().moveBy(0, n);
          const o = e.clone().moveBy(0, -n);
          const s = new yh(t).excludeScrollbarsAndBorders();
          const r = [o, i];

          if (!r.every(t => s.contains(t))) {
            let r = t.scrollX,
                a = t.scrollY;

            if (Ih(o, s)) {
              a -= s.top - e.top + n;
            } else if (Eh(i, s)) {
              a += e.bottom - s.bottom + n;
            }

            if (Nh(e, s)) {
              r -= s.left - e.left + n;
            } else if (Oh(e, s)) {
              r += e.right - s.right + n;
            }

            t.scrollTo(r, a);
          }
        }

        function Mh(t, e) {
          const n = Rh(t);
          let i, o;

          while (t != n.document.body) {
            o = e();
            i = new yh(t).excludeScrollbarsAndBorders();

            if (!i.contains(o)) {
              if (Ih(o, i)) {
                t.scrollTop -= i.top - o.top;
              } else if (Eh(o, i)) {
                t.scrollTop += o.bottom - i.bottom;
              }

              if (Nh(o, i)) {
                t.scrollLeft -= i.left - o.left;
              } else if (Oh(o, i)) {
                t.scrollLeft += o.right - i.right;
              }
            }

            t = t.parentNode;
          }
        }

        function Eh(t, e) {
          return t.bottom > e.bottom;
        }

        function Ih(t, e) {
          return t.top < e.top;
        }

        function Nh(t, e) {
          return t.left < e.left;
        }

        function Oh(t, e) {
          return t.right > e.right;
        }

        function Rh(t) {
          if (_h(t)) {
            return t.startContainer.ownerDocument.defaultView;
          } else {
            return t.ownerDocument.defaultView;
          }
        }

        function Dh(t) {
          if (_h(t)) {
            let e = t.commonAncestorContainer;

            if (sd(e)) {
              e = e.parentNode;
            }

            return e;
          } else {
            return t.parentNode;
          }
        }

        function Lh(t, e) {
          const n = Rh(t);
          const i = new yh(t);

          if (n === e) {
            return i;
          } else {
            let t = n;

            while (t != e) {
              const e = t.frameElement;
              const n = new yh(e).excludeScrollbarsAndBorders();
              i.moveBy(n.left, n.top);
              t = t.parent;
            }
          }

          return i;
        }

        class zh {
          constructor() {
            this.document = new bl();
            this.domConverter = new jd();
            this.domRoots = new Map();
            this.set("isRenderingInProgress", false);
            this._renderer = new Td(this.domConverter, this.document.selection);

            this._renderer.bind("isFocused").to(this.document);

            this._initialDomRootAttributes = new WeakMap();
            this._observers = new Map();
            this._ongoingChange = false;
            this._postFixersInProgress = false;
            this._renderingDisabled = false;
            this._hasChangedSinceTheLastRendering = false;
            this._writer = new Yl(this.document);
            this.addObserver(Gu);
            this.addObserver(gh);
            this.addObserver(ph);
            this.addObserver(Ju);
            this.addObserver(fh);
            this.addObserver(bh);

            if (Cl.isAndroid) {
              this.addObserver(wh);
            }

            fd(this);
            Hl(this);
            this.on("render", () => {
              this._render();

              this.document.fire("layoutChanged");
              this._hasChangedSinceTheLastRendering = false;
            });
            this.listenTo(this.document.selection, "change", () => {
              this._hasChangedSinceTheLastRendering = true;
            });
          }

          attachDomRoot(t, e = "main") {
            const n = this.document.getRoot(e);
            n._name = t.tagName.toLowerCase();
            const i = {};

            for (var _i16 = 0, _Array$from2 = Array.from(t.attributes); _i16 < _Array$from2.length; _i16++) {
              const _Array$from2$_i = _Array$from2[_i16],
                    e = _Array$from2$_i.name,
                    o = _Array$from2$_i.value;
              i[e] = o;

              if (e === "class") {
                this._writer.addClass(o.split(" "), n);
              } else {
                this._writer.setAttribute(e, o, n);
              }
            }

            this._initialDomRootAttributes.set(t, i);

            const o = () => {
              this._writer.setAttribute("contenteditable", !n.isReadOnly, n);

              if (n.isReadOnly) {
                this._writer.addClass("ck-read-only", n);
              } else {
                this._writer.removeClass("ck-read-only", n);
              }
            };

            o();
            this.domRoots.set(e, t);
            this.domConverter.bindElements(t, n);

            this._renderer.markToSync("children", n);

            this._renderer.markToSync("attributes", n);

            this._renderer.domDocuments.add(t.ownerDocument);

            n.on("change:children", (t, e) => this._renderer.markToSync("children", e));
            n.on("change:attributes", (t, e) => this._renderer.markToSync("attributes", e));
            n.on("change:text", (t, e) => this._renderer.markToSync("text", e));
            n.on("change:isReadOnly", () => this.change(o));
            n.on("change", () => {
              this._hasChangedSinceTheLastRendering = true;
            });
            var _iteratorNormalCompletion83 = true;
            var _didIteratorError83 = false;
            var _iteratorError83 = undefined;

            try {
              for (var _iterator83 = this._observers.values()[Symbol.iterator](), _step83; !(_iteratorNormalCompletion83 = (_step83 = _iterator83.next()).done); _iteratorNormalCompletion83 = true) {
                const n = _step83.value;
                n.observe(t, e);
              }
            } catch (err) {
              _didIteratorError83 = true;
              _iteratorError83 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion83 && _iterator83.return != null) {
                  _iterator83.return();
                }
              } finally {
                if (_didIteratorError83) {
                  throw _iteratorError83;
                }
              }
            }
          }

          detachDomRoot(t) {
            const e = this.domRoots.get(t);
            Array.from(e.attributes).forEach(({
              name: t
            }) => e.removeAttribute(t));

            const n = this._initialDomRootAttributes.get(e);

            for (const t in n) {
              e.setAttribute(t, n[t]);
            }

            this.domRoots.delete(t);
            this.domConverter.unbindDomElement(e);
          }

          getDomRoot(t = "main") {
            return this.domRoots.get(t);
          }

          addObserver(t) {
            let e = this._observers.get(t);

            if (e) {
              return e;
            }

            e = new t(this);

            this._observers.set(t, e);

            var _iteratorNormalCompletion84 = true;
            var _didIteratorError84 = false;
            var _iteratorError84 = undefined;

            try {
              for (var _iterator84 = this.domRoots[Symbol.iterator](), _step84; !(_iteratorNormalCompletion84 = (_step84 = _iterator84.next()).done); _iteratorNormalCompletion84 = true) {
                const _step84$value = _slicedToArray(_step84.value, 2),
                      t = _step84$value[0],
                      n = _step84$value[1];

                e.observe(n, t);
              }
            } catch (err) {
              _didIteratorError84 = true;
              _iteratorError84 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion84 && _iterator84.return != null) {
                  _iterator84.return();
                }
              } finally {
                if (_didIteratorError84) {
                  throw _iteratorError84;
                }
              }
            }

            e.enable();
            return e;
          }

          getObserver(t) {
            return this._observers.get(t);
          }

          disableObservers() {
            var _iteratorNormalCompletion85 = true;
            var _didIteratorError85 = false;
            var _iteratorError85 = undefined;

            try {
              for (var _iterator85 = this._observers.values()[Symbol.iterator](), _step85; !(_iteratorNormalCompletion85 = (_step85 = _iterator85.next()).done); _iteratorNormalCompletion85 = true) {
                const t = _step85.value;
                t.disable();
              }
            } catch (err) {
              _didIteratorError85 = true;
              _iteratorError85 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion85 && _iterator85.return != null) {
                  _iterator85.return();
                }
              } finally {
                if (_didIteratorError85) {
                  throw _iteratorError85;
                }
              }
            }
          }

          enableObservers() {
            var _iteratorNormalCompletion86 = true;
            var _didIteratorError86 = false;
            var _iteratorError86 = undefined;

            try {
              for (var _iterator86 = this._observers.values()[Symbol.iterator](), _step86; !(_iteratorNormalCompletion86 = (_step86 = _iterator86.next()).done); _iteratorNormalCompletion86 = true) {
                const t = _step86.value;
                t.enable();
              }
            } catch (err) {
              _didIteratorError86 = true;
              _iteratorError86 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion86 && _iterator86.return != null) {
                  _iterator86.return();
                }
              } finally {
                if (_didIteratorError86) {
                  throw _iteratorError86;
                }
              }
            }
          }

          scrollToTheSelection() {
            const t = this.document.selection.getFirstRange();

            if (t) {
              Ch({
                target: this.domConverter.viewRangeToDom(t),
                viewportOffset: 20
              });
            }
          }

          focus() {
            if (!this.document.isFocused) {
              const t = this.document.selection.editableElement;

              if (t) {
                this.domConverter.focus(t);
                this.forceRender();
              } else {}
            }
          }

          change(t) {
            if (this.isRenderingInProgress || this._postFixersInProgress) {
              throw new rr["b"]("cannot-change-view-tree: " + "Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. " + "This may cause some unexpected behavior and inconsistency between the DOM and the view.", this);
            }

            try {
              if (this._ongoingChange) {
                return t(this._writer);
              }

              this._ongoingChange = true;
              const e = t(this._writer);
              this._ongoingChange = false;

              if (!this._renderingDisabled && this._hasChangedSinceTheLastRendering) {
                this._postFixersInProgress = true;

                this.document._callPostFixers(this._writer);

                this._postFixersInProgress = false;
                this.fire("render");
              }

              return e;
            } catch (t) {
              rr["b"].rethrowUnexpectedError(t, this);
            }
          }

          forceRender() {
            this._hasChangedSinceTheLastRendering = true;
            this.change(() => {});
          }

          destroy() {
            var _iteratorNormalCompletion87 = true;
            var _didIteratorError87 = false;
            var _iteratorError87 = undefined;

            try {
              for (var _iterator87 = this._observers.values()[Symbol.iterator](), _step87; !(_iteratorNormalCompletion87 = (_step87 = _iterator87.next()).done); _iteratorNormalCompletion87 = true) {
                const t = _step87.value;
                t.destroy();
              }
            } catch (err) {
              _didIteratorError87 = true;
              _iteratorError87 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion87 && _iterator87.return != null) {
                  _iterator87.return();
                }
              } finally {
                if (_didIteratorError87) {
                  throw _iteratorError87;
                }
              }
            }

            this.document.destroy();
            this.stopListening();
          }

          createPositionAt(t, e) {
            return ul._createAt(t, e);
          }

          createPositionAfter(t) {
            return ul._createAfter(t);
          }

          createPositionBefore(t) {
            return ul._createBefore(t);
          }

          createRange(t, e) {
            return new hl(t, e);
          }

          createRangeOn(t) {
            return hl._createOn(t);
          }

          createRangeIn(t) {
            return hl._createIn(t);
          }

          createSelection(t, e, n) {
            return new gl(t, e, n);
          }

          _disableRendering(t) {
            this._renderingDisabled = t;

            if (t == false) {
              this.change(() => {});
            }
          }

          _render() {
            this.isRenderingInProgress = true;
            this.disableObservers();

            this._renderer.render();

            this.enableObservers();
            this.isRenderingInProgress = false;
          }

        }

        vr(zh, Qc);

        class jh {
          constructor(t) {
            this.parent = null;
            this._attrs = Hr(t);
          }

          get index() {
            let t;

            if (!this.parent) {
              return null;
            }

            if ((t = this.parent.getChildIndex(this)) === null) {
              throw new rr["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.", this);
            }

            return t;
          }

          get startOffset() {
            let t;

            if (!this.parent) {
              return null;
            }

            if ((t = this.parent.getChildStartOffset(this)) === null) {
              throw new rr["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.", this);
            }

            return t;
          }

          get offsetSize() {
            return 1;
          }

          get endOffset() {
            if (!this.parent) {
              return null;
            }

            return this.startOffset + this.offsetSize;
          }

          get nextSibling() {
            const t = this.index;
            return t !== null && this.parent.getChild(t + 1) || null;
          }

          get previousSibling() {
            const t = this.index;
            return t !== null && this.parent.getChild(t - 1) || null;
          }

          get root() {
            let t = this;

            while (t.parent) {
              t = t.parent;
            }

            return t;
          }

          get document() {
            if (this.root == this) {
              return null;
            }

            return this.root.document || null;
          }

          getPath() {
            const t = [];
            let e = this;

            while (e.parent) {
              t.unshift(e.startOffset);
              e = e.parent;
            }

            return t;
          }

          getAncestors(t = {
            includeSelf: false,
            parentFirst: false
          }) {
            const e = [];
            let n = t.includeSelf ? this : this.parent;

            while (n) {
              e[t.parentFirst ? "push" : "unshift"](n);
              n = n.parent;
            }

            return e;
          }

          getCommonAncestor(t, e = {}) {
            const n = this.getAncestors(e);
            const i = t.getAncestors(e);
            let o = 0;

            while (n[o] == i[o] && n[o]) {
              o++;
            }

            return o === 0 ? null : n[o - 1];
          }

          isBefore(t) {
            if (this == t) {
              return false;
            }

            if (this.root !== t.root) {
              return false;
            }

            const e = this.getPath();
            const n = t.getPath();
            const i = Or(e, n);

            switch (i) {
              case "prefix":
                return true;

              case "extension":
                return false;

              default:
                return e[i] < n[i];
            }
          }

          isAfter(t) {
            if (this == t) {
              return false;
            }

            if (this.root !== t.root) {
              return false;
            }

            return !this.isBefore(t);
          }

          hasAttribute(t) {
            return this._attrs.has(t);
          }

          getAttribute(t) {
            return this._attrs.get(t);
          }

          getAttributes() {
            return this._attrs.entries();
          }

          getAttributeKeys() {
            return this._attrs.keys();
          }

          toJSON() {
            const t = {};

            if (this._attrs.size) {
              t.attributes = Array.from(this._attrs).reduce((t, e) => {
                t[e[0]] = e[1];
                return t;
              }, {});
            }

            return t;
          }

          is(t) {
            return t == "node" || t == "model:node";
          }

          _clone() {
            return new jh(this._attrs);
          }

          _remove() {
            this.parent._removeChildren(this.index);
          }

          _setAttribute(t, e) {
            this._attrs.set(t, e);
          }

          _setAttributesTo(t) {
            this._attrs = Hr(t);
          }

          _removeAttribute(t) {
            return this._attrs.delete(t);
          }

          _clearAttributes() {
            this._attrs.clear();
          }

        }

        class Vh extends jh {
          constructor(t, e) {
            super(e);
            this._data = t || "";
          }

          get offsetSize() {
            return this.data.length;
          }

          get data() {
            return this._data;
          }

          is(t) {
            return t == "text" || t == "model:text" || super.is(t);
          }

          toJSON() {
            const t = super.toJSON();
            t.data = this.data;
            return t;
          }

          _clone() {
            return new Vh(this.data, this.getAttributes());
          }

          static fromJSON(t) {
            return new Vh(t.data, t.attributes);
          }

        }

        class Bh {
          constructor(t, e, n) {
            this.textNode = t;

            if (e < 0 || e > t.offsetSize) {
              throw new rr["b"]("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.", this);
            }

            if (n < 0 || e + n > t.offsetSize) {
              throw new rr["b"]("model-textproxy-wrong-length: Given length value is incorrect.", this);
            }

            this.data = t.data.substring(e, e + n);
            this.offsetInText = e;
          }

          get startOffset() {
            return this.textNode.startOffset !== null ? this.textNode.startOffset + this.offsetInText : null;
          }

          get offsetSize() {
            return this.data.length;
          }

          get endOffset() {
            return this.startOffset !== null ? this.startOffset + this.offsetSize : null;
          }

          get isPartial() {
            return this.offsetSize !== this.textNode.offsetSize;
          }

          get parent() {
            return this.textNode.parent;
          }

          get root() {
            return this.textNode.root;
          }

          get document() {
            return this.textNode.document;
          }

          is(t) {
            return t == "textProxy" || t == "model:textProxy";
          }

          getPath() {
            const t = this.textNode.getPath();

            if (t.length > 0) {
              t[t.length - 1] += this.offsetInText;
            }

            return t;
          }

          getAncestors(t = {
            includeSelf: false,
            parentFirst: false
          }) {
            const e = [];
            let n = t.includeSelf ? this : this.parent;

            while (n) {
              e[t.parentFirst ? "push" : "unshift"](n);
              n = n.parent;
            }

            return e;
          }

          hasAttribute(t) {
            return this.textNode.hasAttribute(t);
          }

          getAttribute(t) {
            return this.textNode.getAttribute(t);
          }

          getAttributes() {
            return this.textNode.getAttributes();
          }

          getAttributeKeys() {
            return this.textNode.getAttributeKeys();
          }

        }

        class Fh {
          constructor(t) {
            this._nodes = [];

            if (t) {
              this._insertNodes(0, t);
            }
          }

          [Symbol.iterator]() {
            return this._nodes[Symbol.iterator]();
          }

          get length() {
            return this._nodes.length;
          }

          get maxOffset() {
            return this._nodes.reduce((t, e) => t + e.offsetSize, 0);
          }

          getNode(t) {
            return this._nodes[t] || null;
          }

          getNodeIndex(t) {
            const e = this._nodes.indexOf(t);

            return e == -1 ? null : e;
          }

          getNodeStartOffset(t) {
            const e = this.getNodeIndex(t);
            return e === null ? null : this._nodes.slice(0, e).reduce((t, e) => t + e.offsetSize, 0);
          }

          indexToOffset(t) {
            if (t == this._nodes.length) {
              return this.maxOffset;
            }

            const e = this._nodes[t];

            if (!e) {
              throw new rr["b"]("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.", this);
            }

            return this.getNodeStartOffset(e);
          }

          offsetToIndex(t) {
            let e = 0;
            var _iteratorNormalCompletion88 = true;
            var _didIteratorError88 = false;
            var _iteratorError88 = undefined;

            try {
              for (var _iterator88 = this._nodes[Symbol.iterator](), _step88; !(_iteratorNormalCompletion88 = (_step88 = _iterator88.next()).done); _iteratorNormalCompletion88 = true) {
                const n = _step88.value;

                if (t >= e && t < e + n.offsetSize) {
                  return this.getNodeIndex(n);
                }

                e += n.offsetSize;
              }
            } catch (err) {
              _didIteratorError88 = true;
              _iteratorError88 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion88 && _iterator88.return != null) {
                  _iterator88.return();
                }
              } finally {
                if (_didIteratorError88) {
                  throw _iteratorError88;
                }
              }
            }

            if (e != t) {
              throw new rr["b"]("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.", this, {
                offset: t,
                nodeList: this
              });
            }

            return this.length;
          }

          _insertNodes(t, e) {
            var _iteratorNormalCompletion89 = true;
            var _didIteratorError89 = false;
            var _iteratorError89 = undefined;

            try {
              for (var _iterator89 = e[Symbol.iterator](), _step89; !(_iteratorNormalCompletion89 = (_step89 = _iterator89.next()).done); _iteratorNormalCompletion89 = true) {
                const t = _step89.value;

                if (!(t instanceof jh)) {
                  throw new rr["b"]("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.", this);
                }
              }
            } catch (err) {
              _didIteratorError89 = true;
              _iteratorError89 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion89 && _iterator89.return != null) {
                  _iterator89.return();
                }
              } finally {
                if (_didIteratorError89) {
                  throw _iteratorError89;
                }
              }
            }

            this._nodes.splice(t, 0, ...e);
          }

          _removeNodes(t, e = 1) {
            return this._nodes.splice(t, e);
          }

          toJSON() {
            return this._nodes.map(t => t.toJSON());
          }

        }

        class Hh extends jh {
          constructor(t, e, n) {
            super(e);
            this.name = t;
            this._children = new Fh();

            if (n) {
              this._insertChild(0, n);
            }
          }

          get childCount() {
            return this._children.length;
          }

          get maxOffset() {
            return this._children.maxOffset;
          }

          get isEmpty() {
            return this.childCount === 0;
          }

          is(t, e = null) {
            const n = t.replace(/^model:/, "");

            if (!e) {
              return n == "element" || n == this.name || super.is(t);
            } else {
              return n == "element" && e == this.name;
            }
          }

          getChild(t) {
            return this._children.getNode(t);
          }

          getChildren() {
            return this._children[Symbol.iterator]();
          }

          getChildIndex(t) {
            return this._children.getNodeIndex(t);
          }

          getChildStartOffset(t) {
            return this._children.getNodeStartOffset(t);
          }

          offsetToIndex(t) {
            return this._children.offsetToIndex(t);
          }

          getNodeByPath(t) {
            let e = this;
            var _iteratorNormalCompletion90 = true;
            var _didIteratorError90 = false;
            var _iteratorError90 = undefined;

            try {
              for (var _iterator90 = t[Symbol.iterator](), _step90; !(_iteratorNormalCompletion90 = (_step90 = _iterator90.next()).done); _iteratorNormalCompletion90 = true) {
                const n = _step90.value;
                e = e.getChild(e.offsetToIndex(n));
              }
            } catch (err) {
              _didIteratorError90 = true;
              _iteratorError90 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion90 && _iterator90.return != null) {
                  _iterator90.return();
                }
              } finally {
                if (_didIteratorError90) {
                  throw _iteratorError90;
                }
              }
            }

            return e;
          }

          toJSON() {
            const t = super.toJSON();
            t.name = this.name;

            if (this._children.length > 0) {
              t.children = [];
              var _iteratorNormalCompletion91 = true;
              var _didIteratorError91 = false;
              var _iteratorError91 = undefined;

              try {
                for (var _iterator91 = this._children[Symbol.iterator](), _step91; !(_iteratorNormalCompletion91 = (_step91 = _iterator91.next()).done); _iteratorNormalCompletion91 = true) {
                  const e = _step91.value;
                  t.children.push(e.toJSON());
                }
              } catch (err) {
                _didIteratorError91 = true;
                _iteratorError91 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion91 && _iterator91.return != null) {
                    _iterator91.return();
                  }
                } finally {
                  if (_didIteratorError91) {
                    throw _iteratorError91;
                  }
                }
              }
            }

            return t;
          }

          _clone(t = false) {
            const e = t ? Array.from(this._children).map(t => t._clone(true)) : null;
            return new Hh(this.name, this.getAttributes(), e);
          }

          _appendChild(t) {
            this._insertChild(this.childCount, t);
          }

          _insertChild(t, e) {
            const n = Uh(e);
            var _iteratorNormalCompletion92 = true;
            var _didIteratorError92 = false;
            var _iteratorError92 = undefined;

            try {
              for (var _iterator92 = n[Symbol.iterator](), _step92; !(_iteratorNormalCompletion92 = (_step92 = _iterator92.next()).done); _iteratorNormalCompletion92 = true) {
                const t = _step92.value;

                if (t.parent !== null) {
                  t._remove();
                }

                t.parent = this;
              }
            } catch (err) {
              _didIteratorError92 = true;
              _iteratorError92 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion92 && _iterator92.return != null) {
                  _iterator92.return();
                }
              } finally {
                if (_didIteratorError92) {
                  throw _iteratorError92;
                }
              }
            }

            this._children._insertNodes(t, n);
          }

          _removeChildren(t, e = 1) {
            const n = this._children._removeNodes(t, e);

            var _iteratorNormalCompletion93 = true;
            var _didIteratorError93 = false;
            var _iteratorError93 = undefined;

            try {
              for (var _iterator93 = n[Symbol.iterator](), _step93; !(_iteratorNormalCompletion93 = (_step93 = _iterator93.next()).done); _iteratorNormalCompletion93 = true) {
                const t = _step93.value;
                t.parent = null;
              }
            } catch (err) {
              _didIteratorError93 = true;
              _iteratorError93 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion93 && _iterator93.return != null) {
                  _iterator93.return();
                }
              } finally {
                if (_didIteratorError93) {
                  throw _iteratorError93;
                }
              }
            }

            return n;
          }

          static fromJSON(t) {
            let e = null;

            if (t.children) {
              e = [];
              var _iteratorNormalCompletion94 = true;
              var _didIteratorError94 = false;
              var _iteratorError94 = undefined;

              try {
                for (var _iterator94 = t.children[Symbol.iterator](), _step94; !(_iteratorNormalCompletion94 = (_step94 = _iterator94.next()).done); _iteratorNormalCompletion94 = true) {
                  const n = _step94.value;

                  if (n.name) {
                    e.push(Hh.fromJSON(n));
                  } else {
                    e.push(Vh.fromJSON(n));
                  }
                }
              } catch (err) {
                _didIteratorError94 = true;
                _iteratorError94 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion94 && _iterator94.return != null) {
                    _iterator94.return();
                  }
                } finally {
                  if (_didIteratorError94) {
                    throw _iteratorError94;
                  }
                }
              }
            }

            return new Hh(t.name, t.attributes, e);
          }

        }

        function Uh(t) {
          if (typeof t == "string") {
            return [new Vh(t)];
          }

          if (!Fr(t)) {
            t = [t];
          }

          return Array.from(t).map(t => {
            if (typeof t == "string") {
              return new Vh(t);
            }

            if (t instanceof Bh) {
              return new Vh(t.data, t.getAttributes());
            }

            return t;
          });
        }

        class Wh {
          constructor(t = {}) {
            if (!t.boundaries && !t.startPosition) {
              throw new rr["b"]("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.", null);
            }

            const e = t.direction || "forward";

            if (e != "forward" && e != "backward") {
              throw new rr["b"]("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.", t, {
                direction: e
              });
            }

            this.direction = e;
            this.boundaries = t.boundaries || null;

            if (t.startPosition) {
              this.position = t.startPosition.clone();
            } else {
              this.position = $h._createAt(this.boundaries[this.direction == "backward" ? "end" : "start"]);
            }

            this.position.stickiness = "toNone";
            this.singleCharacters = !!t.singleCharacters;
            this.shallow = !!t.shallow;
            this.ignoreElementEnd = !!t.ignoreElementEnd;
            this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null;
            this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null;
            this._visitedParent = this.position.parent;
          }

          [Symbol.iterator]() {
            return this;
          }

          skip(t) {
            let e, n, i, o;

            do {
              i = this.position;
              o = this._visitedParent;

              var _this$next2 = this.next();

              e = _this$next2.done;
              n = _this$next2.value;
            } while (!e && t(n));

            if (!e) {
              this.position = i;
              this._visitedParent = o;
            }
          }

          next() {
            if (this.direction == "forward") {
              return this._next();
            } else {
              return this._previous();
            }
          }

          _next() {
            const t = this.position;
            const e = this.position.clone();
            const n = this._visitedParent;

            if (n.parent === null && e.offset === n.maxOffset) {
              return {
                done: true
              };
            }

            if (n === this._boundaryEndParent && e.offset == this.boundaries.end.offset) {
              return {
                done: true
              };
            }

            const i = e.textNode ? e.textNode : e.nodeAfter;

            if (i instanceof Hh) {
              if (!this.shallow) {
                e.path.push(0);
                this._visitedParent = i;
              } else {
                e.offset++;
              }

              this.position = e;
              return qh("elementStart", i, t, e, 1);
            } else if (i instanceof Vh) {
              let o;

              if (this.singleCharacters) {
                o = 1;
              } else {
                let t = i.endOffset;

                if (this._boundaryEndParent == n && this.boundaries.end.offset < t) {
                  t = this.boundaries.end.offset;
                }

                o = t - e.offset;
              }

              const s = e.offset - i.startOffset;
              const r = new Bh(i, s, o);
              e.offset += o;
              this.position = e;
              return qh("text", r, t, e, o);
            } else {
              e.path.pop();
              e.offset++;
              this.position = e;
              this._visitedParent = n.parent;

              if (this.ignoreElementEnd) {
                return this._next();
              } else {
                return qh("elementEnd", n, t, e);
              }
            }
          }

          _previous() {
            const t = this.position;
            const e = this.position.clone();
            const n = this._visitedParent;

            if (n.parent === null && e.offset === 0) {
              return {
                done: true
              };
            }

            if (n == this._boundaryStartParent && e.offset == this.boundaries.start.offset) {
              return {
                done: true
              };
            }

            const i = e.textNode ? e.textNode : e.nodeBefore;

            if (i instanceof Hh) {
              e.offset--;

              if (!this.shallow) {
                e.path.push(i.maxOffset);
                this.position = e;
                this._visitedParent = i;

                if (this.ignoreElementEnd) {
                  return this._previous();
                } else {
                  return qh("elementEnd", i, t, e);
                }
              } else {
                this.position = e;
                return qh("elementStart", i, t, e, 1);
              }
            } else if (i instanceof Vh) {
              let o;

              if (this.singleCharacters) {
                o = 1;
              } else {
                let t = i.startOffset;

                if (this._boundaryStartParent == n && this.boundaries.start.offset > t) {
                  t = this.boundaries.start.offset;
                }

                o = e.offset - t;
              }

              const s = e.offset - i.startOffset;
              const r = new Bh(i, s - o, o);
              e.offset -= o;
              this.position = e;
              return qh("text", r, t, e, o);
            } else {
              e.path.pop();
              this.position = e;
              this._visitedParent = n.parent;
              return qh("elementStart", n, t, e, 1);
            }
          }

        }

        function qh(t, e, n, i, o) {
          return {
            done: false,
            value: {
              type: t,
              item: e,
              previousPosition: n,
              nextPosition: i,
              length: o
            }
          };
        }

        class $h {
          constructor(t, e, n = "toNone") {
            if (!t.is("element") && !t.is("documentFragment")) {
              throw new rr["b"]("model-position-root-invalid: Position root invalid.", t);
            }

            if (!(e instanceof Array) || e.length === 0) {
              throw new rr["b"]("model-position-path-incorrect-format: Position path must be an array with at least one item.", t, {
                path: e
              });
            }

            e = t.getPath().concat(e);
            t = t.root;
            this.root = t;
            this.path = e;
            this.stickiness = n;
          }

          get offset() {
            return Aa(this.path);
          }

          set offset(t) {
            this.path[this.path.length - 1] = t;
          }

          get parent() {
            let t = this.root;

            for (let e = 0; e < this.path.length - 1; e++) {
              t = t.getChild(t.offsetToIndex(this.path[e]));

              if (!t) {
                throw new rr["b"]("model-position-path-incorrect: The position's path is incorrect.", this, {
                  position: this
                });
              }
            }

            if (t.is("text")) {
              throw new rr["b"]("model-position-path-incorrect: The position's path is incorrect.", this, {
                position: this
              });
            }

            return t;
          }

          get index() {
            return this.parent.offsetToIndex(this.offset);
          }

          get textNode() {
            const t = this.parent.getChild(this.index);
            return t instanceof Vh && t.startOffset < this.offset ? t : null;
          }

          get nodeAfter() {
            return this.textNode === null ? this.parent.getChild(this.index) : null;
          }

          get nodeBefore() {
            return this.textNode === null ? this.parent.getChild(this.index - 1) : null;
          }

          get isAtStart() {
            return this.offset === 0;
          }

          get isAtEnd() {
            return this.offset == this.parent.maxOffset;
          }

          compareWith(t) {
            if (this.root != t.root) {
              return "different";
            }

            const e = Or(this.path, t.path);

            switch (e) {
              case "same":
                return "same";

              case "prefix":
                return "before";

              case "extension":
                return "after";

              default:
                return this.path[e] < t.path[e] ? "before" : "after";
            }
          }

          getLastMatchingPosition(t, e = {}) {
            e.startPosition = this;
            const n = new Wh(e);
            n.skip(t);
            return n.position;
          }

          getParentPath() {
            return this.path.slice(0, -1);
          }

          getAncestors() {
            if (this.parent.is("documentFragment")) {
              return [this.parent];
            } else {
              return this.parent.getAncestors({
                includeSelf: true
              });
            }
          }

          getCommonPath(t) {
            if (this.root != t.root) {
              return [];
            }

            const e = Or(this.path, t.path);
            const n = typeof e == "string" ? Math.min(this.path.length, t.path.length) : e;
            return this.path.slice(0, n);
          }

          getCommonAncestor(t) {
            const e = this.getAncestors();
            const n = t.getAncestors();
            let i = 0;

            while (e[i] == n[i] && e[i]) {
              i++;
            }

            return i === 0 ? null : e[i - 1];
          }

          getShiftedBy(t) {
            const e = this.clone();
            const n = e.offset + t;
            e.offset = n < 0 ? 0 : n;
            return e;
          }

          isAfter(t) {
            return this.compareWith(t) == "after";
          }

          isBefore(t) {
            return this.compareWith(t) == "before";
          }

          isEqual(t) {
            return this.compareWith(t) == "same";
          }

          isTouching(t) {
            let e = null;
            let n = null;
            const i = this.compareWith(t);

            switch (i) {
              case "same":
                return true;

              case "before":
                e = $h._createAt(this);
                n = $h._createAt(t);
                break;

              case "after":
                e = $h._createAt(t);
                n = $h._createAt(this);
                break;

              default:
                return false;
            }

            let o = e.parent;

            while (e.path.length + n.path.length) {
              if (e.isEqual(n)) {
                return true;
              }

              if (e.path.length > n.path.length) {
                if (e.offset !== o.maxOffset) {
                  return false;
                }

                e.path = e.path.slice(0, -1);
                o = o.parent;
                e.offset++;
              } else {
                if (n.offset !== 0) {
                  return false;
                }

                n.path = n.path.slice(0, -1);
              }
            }
          }

          is(t) {
            return t == "position" || t == "model:position";
          }

          hasSameParentAs(t) {
            if (this.root !== t.root) {
              return false;
            }

            const e = this.getParentPath();
            const n = t.getParentPath();
            return Or(e, n) == "same";
          }

          getTransformedByOperation(t) {
            let e;

            switch (t.type) {
              case "insert":
                e = this._getTransformedByInsertOperation(t);
                break;

              case "move":
              case "remove":
              case "reinsert":
                e = this._getTransformedByMoveOperation(t);
                break;

              case "split":
                e = this._getTransformedBySplitOperation(t);
                break;

              case "merge":
                e = this._getTransformedByMergeOperation(t);
                break;

              default:
                e = $h._createAt(this);
                break;
            }

            return e;
          }

          _getTransformedByInsertOperation(t) {
            return this._getTransformedByInsertion(t.position, t.howMany);
          }

          _getTransformedByMoveOperation(t) {
            return this._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany);
          }

          _getTransformedBySplitOperation(t) {
            const e = t.movedRange;
            const n = e.containsPosition(this) || e.start.isEqual(this) && this.stickiness == "toNext";

            if (n) {
              return this._getCombined(t.splitPosition, t.moveTargetPosition);
            } else {
              if (t.graveyardPosition) {
                return this._getTransformedByMove(t.graveyardPosition, t.insertionPosition, 1);
              } else {
                return this._getTransformedByInsertion(t.insertionPosition, 1);
              }
            }
          }

          _getTransformedByMergeOperation(t) {
            const e = t.movedRange;
            const n = e.containsPosition(this) || e.start.isEqual(this);
            let i;

            if (n) {
              i = this._getCombined(t.sourcePosition, t.targetPosition);

              if (t.sourcePosition.isBefore(t.targetPosition)) {
                i = i._getTransformedByDeletion(t.deletionPosition, 1);
              }
            } else if (this.isEqual(t.deletionPosition)) {
              i = $h._createAt(t.deletionPosition);
            } else {
              i = this._getTransformedByMove(t.deletionPosition, t.graveyardPosition, 1);
            }

            return i;
          }

          _getTransformedByDeletion(t, e) {
            const n = $h._createAt(this);

            if (this.root != t.root) {
              return n;
            }

            if (Or(t.getParentPath(), this.getParentPath()) == "same") {
              if (t.offset < this.offset) {
                if (t.offset + e > this.offset) {
                  return null;
                } else {
                  n.offset -= e;
                }
              }
            } else if (Or(t.getParentPath(), this.getParentPath()) == "prefix") {
              const i = t.path.length - 1;

              if (t.offset <= this.path[i]) {
                if (t.offset + e > this.path[i]) {
                  return null;
                } else {
                  n.path[i] -= e;
                }
              }
            }

            return n;
          }

          _getTransformedByInsertion(t, e) {
            const n = $h._createAt(this);

            if (this.root != t.root) {
              return n;
            }

            if (Or(t.getParentPath(), this.getParentPath()) == "same") {
              if (t.offset < this.offset || t.offset == this.offset && this.stickiness != "toPrevious") {
                n.offset += e;
              }
            } else if (Or(t.getParentPath(), this.getParentPath()) == "prefix") {
              const i = t.path.length - 1;

              if (t.offset <= this.path[i]) {
                n.path[i] += e;
              }
            }

            return n;
          }

          _getTransformedByMove(t, e, n) {
            e = e._getTransformedByDeletion(t, n);

            if (t.isEqual(e)) {
              return $h._createAt(this);
            }

            const i = this._getTransformedByDeletion(t, n);

            const o = i === null || t.isEqual(this) && this.stickiness == "toNext" || t.getShiftedBy(n).isEqual(this) && this.stickiness == "toPrevious";

            if (o) {
              return this._getCombined(t, e);
            } else {
              return i._getTransformedByInsertion(e, n);
            }
          }

          _getCombined(t, e) {
            const n = t.path.length - 1;

            const i = $h._createAt(e);

            i.stickiness = this.stickiness;
            i.offset = i.offset + this.path[n] - t.offset;
            i.path = i.path.concat(this.path.slice(n + 1));
            return i;
          }

          toJSON() {
            return {
              root: this.root.toJSON(),
              path: Array.from(this.path),
              stickiness: this.stickiness
            };
          }

          clone() {
            return new this.constructor(this.root, this.path, this.stickiness);
          }

          static _createAt(t, e, n = "toNone") {
            if (t instanceof $h) {
              return new $h(t.root, t.path, t.stickiness);
            } else {
              const i = t;

              if (e == "end") {
                e = i.maxOffset;
              } else if (e == "before") {
                return this._createBefore(i, n);
              } else if (e == "after") {
                return this._createAfter(i, n);
              } else if (e !== 0 && !e) {
                throw new rr["b"]("model-createPositionAt-offset-required: " + "Model#createPositionAt() requires the offset when the first parameter is a model item.", [this, t]);
              }

              if (!i.is("element") && !i.is("documentFragment")) {
                throw new rr["b"]("model-position-parent-incorrect: Position parent have to be a element or document fragment.", [this, t]);
              }

              const o = i.getPath();
              o.push(e);
              return new this(i.root, o, n);
            }
          }

          static _createAfter(t, e) {
            if (!t.parent) {
              throw new rr["b"]("model-position-after-root: You cannot make a position after root.", [this, t], {
                root: t
              });
            }

            return this._createAt(t.parent, t.endOffset, e);
          }

          static _createBefore(t, e) {
            if (!t.parent) {
              throw new rr["b"]("model-position-before-root: You cannot make a position before root.", t, {
                root: t
              });
            }

            return this._createAt(t.parent, t.startOffset, e);
          }

          static fromJSON(t, e) {
            if (t.root === "$graveyard") {
              const n = new $h(e.graveyard, t.path);
              n.stickiness = t.stickiness;
              return n;
            }

            if (!e.getRoot(t.root)) {
              throw new rr["b"]("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.", e, {
                rootName: t.root
              });
            }

            return new $h(e.getRoot(t.root), t.path, t.stickiness);
          }

        }

        class Yh {
          constructor(t, e = null) {
            this.start = $h._createAt(t);
            this.end = e ? $h._createAt(e) : $h._createAt(t);
            this.start.stickiness = this.isCollapsed ? "toNone" : "toNext";
            this.end.stickiness = this.isCollapsed ? "toNone" : "toPrevious";
          }

          [Symbol.iterator]() {
            var _this13 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee13() {
                return regeneratorRuntime.wrap(function _callee13$(_context13) {
                  while (1) switch (_context13.prev = _context13.next) {
                    case 0:
                      return _context13.delegateYield(new Wh({
                        boundaries: _this13,
                        ignoreElementEnd: true
                      }), "t0", 1);

                    case 1:
                    case "end":
                      return _context13.stop();
                  }
                }, _callee13);
              })()
            );
          }

          get isCollapsed() {
            return this.start.isEqual(this.end);
          }

          get isFlat() {
            const t = this.start.getParentPath();
            const e = this.end.getParentPath();
            return Or(t, e) == "same";
          }

          get root() {
            return this.start.root;
          }

          containsPosition(t) {
            return t.isAfter(this.start) && t.isBefore(this.end);
          }

          containsRange(t, e = false) {
            if (t.isCollapsed) {
              e = false;
            }

            const n = this.containsPosition(t.start) || e && this.start.isEqual(t.start);
            const i = this.containsPosition(t.end) || e && this.end.isEqual(t.end);
            return n && i;
          }

          containsItem(t) {
            const e = $h._createBefore(t);

            return this.containsPosition(e) || this.start.isEqual(e);
          }

          is(t) {
            return t == "range" || t == "model:range";
          }

          isEqual(t) {
            return this.start.isEqual(t.start) && this.end.isEqual(t.end);
          }

          isIntersecting(t) {
            return this.start.isBefore(t.end) && this.end.isAfter(t.start);
          }

          getDifference(t) {
            const e = [];

            if (this.isIntersecting(t)) {
              if (this.containsPosition(t.start)) {
                e.push(new Yh(this.start, t.start));
              }

              if (this.containsPosition(t.end)) {
                e.push(new Yh(t.end, this.end));
              }
            } else {
              e.push(new Yh(this.start, this.end));
            }

            return e;
          }

          getIntersection(t) {
            if (this.isIntersecting(t)) {
              let e = this.start;
              let n = this.end;

              if (this.containsPosition(t.start)) {
                e = t.start;
              }

              if (this.containsPosition(t.end)) {
                n = t.end;
              }

              return new Yh(e, n);
            }

            return null;
          }

          getMinimalFlatRanges() {
            const t = [];
            const e = this.start.getCommonPath(this.end).length;

            const n = $h._createAt(this.start);

            let i = n.parent;

            while (n.path.length > e + 1) {
              const e = i.maxOffset - n.offset;

              if (e !== 0) {
                t.push(new Yh(n, n.getShiftedBy(e)));
              }

              n.path = n.path.slice(0, -1);
              n.offset++;
              i = i.parent;
            }

            while (n.path.length <= this.end.path.length) {
              const e = this.end.path[n.path.length - 1];
              const i = e - n.offset;

              if (i !== 0) {
                t.push(new Yh(n, n.getShiftedBy(i)));
              }

              n.offset = e;
              n.path.push(0);
            }

            return t;
          }

          getWalker(t = {}) {
            t.boundaries = this;
            return new Wh(t);
          }

          getItems(t = {}) {
            var _this14 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee14() {
                var e, _iteratorNormalCompletion95, _didIteratorError95, _iteratorError95, _iterator95, _step95, t;

                return regeneratorRuntime.wrap(function _callee14$(_context14) {
                  while (1) switch (_context14.prev = _context14.next) {
                    case 0:
                      t.boundaries = _this14;
                      t.ignoreElementEnd = true;
                      e = new Wh(t);
                      _iteratorNormalCompletion95 = true;
                      _didIteratorError95 = false;
                      _iteratorError95 = undefined;
                      _context14.prev = 6;
                      _iterator95 = e[Symbol.iterator]();

                    case 8:
                      if (_iteratorNormalCompletion95 = (_step95 = _iterator95.next()).done) {
                        _context14.next = 15;
                        break;
                      }

                      t = _step95.value;
                      _context14.next = 12;
                      return t.item;

                    case 12:
                      _iteratorNormalCompletion95 = true;
                      _context14.next = 8;
                      break;

                    case 15:
                      _context14.next = 21;
                      break;

                    case 17:
                      _context14.prev = 17;
                      _context14.t0 = _context14["catch"](6);
                      _didIteratorError95 = true;
                      _iteratorError95 = _context14.t0;

                    case 21:
                      _context14.prev = 21;
                      _context14.prev = 22;

                      if (!_iteratorNormalCompletion95 && _iterator95.return != null) {
                        _iterator95.return();
                      }

                    case 24:
                      _context14.prev = 24;

                      if (!_didIteratorError95) {
                        _context14.next = 27;
                        break;
                      }

                      throw _iteratorError95;

                    case 27:
                      return _context14.finish(24);

                    case 28:
                      return _context14.finish(21);

                    case 29:
                    case "end":
                      return _context14.stop();
                  }
                }, _callee14, null, [[6, 17, 21, 29], [22,, 24, 28]]);
              })()
            );
          }

          getPositions(t = {}) {
            var _this15 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee15() {
                var e, _iteratorNormalCompletion96, _didIteratorError96, _iteratorError96, _iterator96, _step96, t;

                return regeneratorRuntime.wrap(function _callee15$(_context15) {
                  while (1) switch (_context15.prev = _context15.next) {
                    case 0:
                      t.boundaries = _this15;
                      e = new Wh(t);
                      _context15.next = 4;
                      return e.position;

                    case 4:
                      _iteratorNormalCompletion96 = true;
                      _didIteratorError96 = false;
                      _iteratorError96 = undefined;
                      _context15.prev = 7;
                      _iterator96 = e[Symbol.iterator]();

                    case 9:
                      if (_iteratorNormalCompletion96 = (_step96 = _iterator96.next()).done) {
                        _context15.next = 16;
                        break;
                      }

                      t = _step96.value;
                      _context15.next = 13;
                      return t.nextPosition;

                    case 13:
                      _iteratorNormalCompletion96 = true;
                      _context15.next = 9;
                      break;

                    case 16:
                      _context15.next = 22;
                      break;

                    case 18:
                      _context15.prev = 18;
                      _context15.t0 = _context15["catch"](7);
                      _didIteratorError96 = true;
                      _iteratorError96 = _context15.t0;

                    case 22:
                      _context15.prev = 22;
                      _context15.prev = 23;

                      if (!_iteratorNormalCompletion96 && _iterator96.return != null) {
                        _iterator96.return();
                      }

                    case 25:
                      _context15.prev = 25;

                      if (!_didIteratorError96) {
                        _context15.next = 28;
                        break;
                      }

                      throw _iteratorError96;

                    case 28:
                      return _context15.finish(25);

                    case 29:
                      return _context15.finish(22);

                    case 30:
                    case "end":
                      return _context15.stop();
                  }
                }, _callee15, null, [[7, 18, 22, 30], [23,, 25, 29]]);
              })()
            );
          }

          getTransformedByOperation(t) {
            switch (t.type) {
              case "insert":
                return this._getTransformedByInsertOperation(t);

              case "move":
              case "remove":
              case "reinsert":
                return this._getTransformedByMoveOperation(t);

              case "split":
                return [this._getTransformedBySplitOperation(t)];

              case "merge":
                return [this._getTransformedByMergeOperation(t)];
            }

            return [new Yh(this.start, this.end)];
          }

          getTransformedByOperations(t) {
            const e = [new Yh(this.start, this.end)];
            var _iteratorNormalCompletion97 = true;
            var _didIteratorError97 = false;
            var _iteratorError97 = undefined;

            try {
              for (var _iterator97 = t[Symbol.iterator](), _step97; !(_iteratorNormalCompletion97 = (_step97 = _iterator97.next()).done); _iteratorNormalCompletion97 = true) {
                const n = _step97.value;

                for (let t = 0; t < e.length; t++) {
                  const i = e[t].getTransformedByOperation(n);
                  e.splice(t, 1, ...i);
                  t += i.length - 1;
                }
              }
            } catch (err) {
              _didIteratorError97 = true;
              _iteratorError97 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion97 && _iterator97.return != null) {
                  _iterator97.return();
                }
              } finally {
                if (_didIteratorError97) {
                  throw _iteratorError97;
                }
              }
            }

            for (let t = 0; t < e.length; t++) {
              const n = e[t];

              for (let i = t + 1; i < e.length; i++) {
                const t = e[i];

                if (n.containsRange(t) || t.containsRange(n) || n.isEqual(t)) {
                  e.splice(i, 1);
                }
              }
            }

            return e;
          }

          getCommonAncestor() {
            return this.start.getCommonAncestor(this.end);
          }

          toJSON() {
            return {
              start: this.start.toJSON(),
              end: this.end.toJSON()
            };
          }

          clone() {
            return new this.constructor(this.start, this.end);
          }

          _getTransformedByInsertOperation(t, e = false) {
            return this._getTransformedByInsertion(t.position, t.howMany, e);
          }

          _getTransformedByMoveOperation(t, e = false) {
            const n = t.sourcePosition;
            const i = t.howMany;
            const o = t.targetPosition;
            return this._getTransformedByMove(n, o, i, e);
          }

          _getTransformedBySplitOperation(t) {
            const e = this.start._getTransformedBySplitOperation(t);

            let n = this.end._getTransformedBySplitOperation(t);

            if (this.end.isEqual(t.insertionPosition)) {
              n = this.end.getShiftedBy(1);
            }

            if (e.root != n.root) {
              n = this.end.getShiftedBy(-1);
            }

            return new Yh(e, n);
          }

          _getTransformedByMergeOperation(t) {
            if (this.start.isEqual(t.targetPosition) && this.end.isEqual(t.deletionPosition)) {
              return new Yh(this.start);
            }

            let e = this.start._getTransformedByMergeOperation(t);

            let n = this.end._getTransformedByMergeOperation(t);

            if (e.root != n.root) {
              n = this.end.getShiftedBy(-1);
            }

            if (e.isAfter(n)) {
              if (t.sourcePosition.isBefore(t.targetPosition)) {
                e = $h._createAt(n);
                e.offset = 0;
              } else {
                if (!t.deletionPosition.isEqual(e)) {
                  n = t.deletionPosition;
                }

                e = t.targetPosition;
              }

              return new Yh(e, n);
            }

            return new Yh(e, n);
          }

          _getTransformedByInsertion(t, e, n = false) {
            if (n && this.containsPosition(t)) {
              return [new Yh(this.start, t), new Yh(t.getShiftedBy(e), this.end._getTransformedByInsertion(t, e))];
            } else {
              const n = new Yh(this.start, this.end);
              n.start = n.start._getTransformedByInsertion(t, e);
              n.end = n.end._getTransformedByInsertion(t, e);
              return [n];
            }
          }

          _getTransformedByMove(t, e, n, i = false) {
            if (this.isCollapsed) {
              const i = this.start._getTransformedByMove(t, e, n);

              return [new Yh(i)];
            }

            const o = Yh._createFromPositionAndShift(t, n);

            const s = e._getTransformedByDeletion(t, n);

            if (this.containsPosition(e) && !i) {
              if (o.containsPosition(this.start) || o.containsPosition(this.end)) {
                const i = this.start._getTransformedByMove(t, e, n);

                const o = this.end._getTransformedByMove(t, e, n);

                return [new Yh(i, o)];
              }
            }

            let r;
            const a = this.getDifference(o);
            let c = null;
            const l = this.getIntersection(o);

            if (a.length == 1) {
              c = new Yh(a[0].start._getTransformedByDeletion(t, n), a[0].end._getTransformedByDeletion(t, n));
            } else if (a.length == 2) {
              c = new Yh(this.start, this.end._getTransformedByDeletion(t, n));
            }

            if (c) {
              r = c._getTransformedByInsertion(s, n, l !== null || i);
            } else {
              r = [];
            }

            if (l) {
              const t = new Yh(l.start._getCombined(o.start, s), l.end._getCombined(o.start, s));

              if (r.length == 2) {
                r.splice(1, 0, t);
              } else {
                r.push(t);
              }
            }

            return r;
          }

          _getTransformedByDeletion(t, e) {
            let n = this.start._getTransformedByDeletion(t, e);

            let i = this.end._getTransformedByDeletion(t, e);

            if (n == null && i == null) {
              return null;
            }

            if (n == null) {
              n = t;
            }

            if (i == null) {
              i = t;
            }

            return new Yh(n, i);
          }

          static _createFromPositionAndShift(t, e) {
            const n = t;
            const i = t.getShiftedBy(e);
            return e > 0 ? new this(n, i) : new this(i, n);
          }

          static _createIn(t) {
            return new this($h._createAt(t, 0), $h._createAt(t, t.maxOffset));
          }

          static _createOn(t) {
            return this._createFromPositionAndShift($h._createBefore(t), t.offsetSize);
          }

          static _createFromRanges(t) {
            if (t.length === 0) {
              throw new rr["b"]("range-create-from-ranges-empty-array: At least one range has to be passed.", null);
            } else if (t.length == 1) {
              return t[0].clone();
            }

            const e = t[0];
            t.sort((t, e) => t.start.isAfter(e.start) ? 1 : -1);
            const n = t.indexOf(e);
            const i = new this(e.start, e.end);

            if (n > 0) {
              for (let e = n - 1; true; e++) {
                if (t[e].end.isEqual(i.start)) {
                  i.start = $h._createAt(t[e].start);
                } else {
                  break;
                }
              }
            }

            for (let e = n + 1; e < t.length; e++) {
              if (t[e].start.isEqual(i.end)) {
                i.end = $h._createAt(t[e].end);
              } else {
                break;
              }
            }

            return i;
          }

          static fromJSON(t, e) {
            return new this($h.fromJSON(t.start, e), $h.fromJSON(t.end, e));
          }

        }

        class Gh {
          constructor() {
            this._modelToViewMapping = new WeakMap();
            this._viewToModelMapping = new WeakMap();
            this._viewToModelLengthCallbacks = new Map();
            this._markerNameToElements = new Map();
            this._elementToMarkerNames = new Map();
            this._unboundMarkerNames = new Set();
            this.on("modelToViewPosition", (t, e) => {
              if (e.viewPosition) {
                return;
              }

              const n = this._modelToViewMapping.get(e.modelPosition.parent);

              e.viewPosition = this._findPositionIn(n, e.modelPosition.offset);
            }, {
              priority: "low"
            });
            this.on("viewToModelPosition", (t, e) => {
              if (e.modelPosition) {
                return;
              }

              const n = this.findMappedViewAncestor(e.viewPosition);

              const i = this._viewToModelMapping.get(n);

              const o = this._toModelOffset(e.viewPosition.parent, e.viewPosition.offset, n);

              e.modelPosition = $h._createAt(i, o);
            }, {
              priority: "low"
            });
          }

          bindElements(t, e) {
            this._modelToViewMapping.set(t, e);

            this._viewToModelMapping.set(e, t);
          }

          unbindViewElement(t) {
            const e = this.toModelElement(t);

            this._viewToModelMapping.delete(t);

            if (this._elementToMarkerNames.has(t)) {
              var _iteratorNormalCompletion98 = true;
              var _didIteratorError98 = false;
              var _iteratorError98 = undefined;

              try {
                for (var _iterator98 = this._elementToMarkerNames.get(t)[Symbol.iterator](), _step98; !(_iteratorNormalCompletion98 = (_step98 = _iterator98.next()).done); _iteratorNormalCompletion98 = true) {
                  const e = _step98.value;

                  this._unboundMarkerNames.add(e);
                }
              } catch (err) {
                _didIteratorError98 = true;
                _iteratorError98 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion98 && _iterator98.return != null) {
                    _iterator98.return();
                  }
                } finally {
                  if (_didIteratorError98) {
                    throw _iteratorError98;
                  }
                }
              }
            }

            if (this._modelToViewMapping.get(e) == t) {
              this._modelToViewMapping.delete(e);
            }
          }

          unbindModelElement(t) {
            const e = this.toViewElement(t);

            this._modelToViewMapping.delete(t);

            if (this._viewToModelMapping.get(e) == t) {
              this._viewToModelMapping.delete(e);
            }
          }

          bindElementToMarker(t, e) {
            const n = this._markerNameToElements.get(e) || new Set();
            n.add(t);
            const i = this._elementToMarkerNames.get(t) || new Set();
            i.add(e);

            this._markerNameToElements.set(e, n);

            this._elementToMarkerNames.set(t, i);
          }

          unbindElementFromMarkerName(t, e) {
            const n = this._markerNameToElements.get(e);

            if (n) {
              n.delete(t);

              if (n.size == 0) {
                this._markerNameToElements.delete(e);
              }
            }

            const i = this._elementToMarkerNames.get(t);

            if (i) {
              i.delete(e);

              if (i.size == 0) {
                this._elementToMarkerNames.delete(t);
              }
            }
          }

          flushUnboundMarkerNames() {
            const t = Array.from(this._unboundMarkerNames);

            this._unboundMarkerNames.clear();

            return t;
          }

          clearBindings() {
            this._modelToViewMapping = new WeakMap();
            this._viewToModelMapping = new WeakMap();
            this._markerNameToElements = new Map();
            this._elementToMarkerNames = new Map();
            this._unboundMarkerNames = new Set();
          }

          toModelElement(t) {
            return this._viewToModelMapping.get(t);
          }

          toViewElement(t) {
            return this._modelToViewMapping.get(t);
          }

          toModelRange(t) {
            return new Yh(this.toModelPosition(t.start), this.toModelPosition(t.end));
          }

          toViewRange(t) {
            return new hl(this.toViewPosition(t.start), this.toViewPosition(t.end));
          }

          toModelPosition(t) {
            const e = {
              viewPosition: t,
              mapper: this
            };
            this.fire("viewToModelPosition", e);
            return e.modelPosition;
          }

          toViewPosition(t, e = {
            isPhantom: false
          }) {
            const n = {
              modelPosition: t,
              mapper: this,
              isPhantom: e.isPhantom
            };
            this.fire("modelToViewPosition", n);
            return n.viewPosition;
          }

          markerNameToElements(t) {
            const e = this._markerNameToElements.get(t);

            if (!e) {
              return null;
            }

            const n = new Set();
            var _iteratorNormalCompletion99 = true;
            var _didIteratorError99 = false;
            var _iteratorError99 = undefined;

            try {
              for (var _iterator99 = e[Symbol.iterator](), _step99; !(_iteratorNormalCompletion99 = (_step99 = _iterator99.next()).done); _iteratorNormalCompletion99 = true) {
                const t = _step99.value;

                if (t.is("attributeElement")) {
                  var _iteratorNormalCompletion100 = true;
                  var _didIteratorError100 = false;
                  var _iteratorError100 = undefined;

                  try {
                    for (var _iterator100 = t.getElementsWithSameId()[Symbol.iterator](), _step100; !(_iteratorNormalCompletion100 = (_step100 = _iterator100.next()).done); _iteratorNormalCompletion100 = true) {
                      const e = _step100.value;
                      n.add(e);
                    }
                  } catch (err) {
                    _didIteratorError100 = true;
                    _iteratorError100 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion100 && _iterator100.return != null) {
                        _iterator100.return();
                      }
                    } finally {
                      if (_didIteratorError100) {
                        throw _iteratorError100;
                      }
                    }
                  }
                } else {
                  n.add(t);
                }
              }
            } catch (err) {
              _didIteratorError99 = true;
              _iteratorError99 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion99 && _iterator99.return != null) {
                  _iterator99.return();
                }
              } finally {
                if (_didIteratorError99) {
                  throw _iteratorError99;
                }
              }
            }

            return n;
          }

          registerViewToModelLength(t, e) {
            this._viewToModelLengthCallbacks.set(t, e);
          }

          findMappedViewAncestor(t) {
            let e = t.parent;

            while (!this._viewToModelMapping.has(e)) {
              e = e.parent;
            }

            return e;
          }

          _toModelOffset(t, e, n) {
            if (n != t) {
              const i = this._toModelOffset(t.parent, t.index, n);

              const o = this._toModelOffset(t, e, t);

              return i + o;
            }

            if (t.is("text")) {
              return e;
            }

            let i = 0;

            for (let n = 0; n < e; n++) {
              i += this.getModelLength(t.getChild(n));
            }

            return i;
          }

          getModelLength(t) {
            if (this._viewToModelLengthCallbacks.get(t.name)) {
              const e = this._viewToModelLengthCallbacks.get(t.name);

              return e(t);
            } else if (this._viewToModelMapping.has(t)) {
              return 1;
            } else if (t.is("text")) {
              return t.data.length;
            } else if (t.is("uiElement")) {
              return 0;
            } else {
              let e = 0;
              var _iteratorNormalCompletion101 = true;
              var _didIteratorError101 = false;
              var _iteratorError101 = undefined;

              try {
                for (var _iterator101 = t.getChildren()[Symbol.iterator](), _step101; !(_iteratorNormalCompletion101 = (_step101 = _iterator101.next()).done); _iteratorNormalCompletion101 = true) {
                  const n = _step101.value;
                  e += this.getModelLength(n);
                }
              } catch (err) {
                _didIteratorError101 = true;
                _iteratorError101 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion101 && _iterator101.return != null) {
                    _iterator101.return();
                  }
                } finally {
                  if (_didIteratorError101) {
                    throw _iteratorError101;
                  }
                }
              }

              return e;
            }
          }

          _findPositionIn(t, e) {
            let n;
            let i = 0;
            let o = 0;
            let s = 0;

            if (t.is("text")) {
              return new ul(t, e);
            }

            while (o < e) {
              n = t.getChild(s);
              i = this.getModelLength(n);
              o += i;
              s++;
            }

            if (o == e) {
              return this._moveViewPositionToTextNode(new ul(t, s));
            } else {
              return this._findPositionIn(n, e - (o - i));
            }
          }

          _moveViewPositionToTextNode(t) {
            const e = t.nodeBefore;
            const n = t.nodeAfter;

            if (e instanceof jr) {
              return new ul(e, e.data.length);
            } else if (n instanceof jr) {
              return new ul(n, 0);
            }

            return t;
          }

        }

        vr(Gh, dr);

        class Qh {
          constructor() {
            this._consumable = new Map();
            this._textProxyRegistry = new Map();
          }

          add(t, e) {
            e = Kh(e);

            if (t instanceof Bh) {
              t = this._getSymbolForTextProxy(t);
            }

            if (!this._consumable.has(t)) {
              this._consumable.set(t, new Map());
            }

            this._consumable.get(t).set(e, true);
          }

          consume(t, e) {
            e = Kh(e);

            if (t instanceof Bh) {
              t = this._getSymbolForTextProxy(t);
            }

            if (this.test(t, e)) {
              this._consumable.get(t).set(e, false);

              return true;
            } else {
              return false;
            }
          }

          test(t, e) {
            e = Kh(e);

            if (t instanceof Bh) {
              t = this._getSymbolForTextProxy(t);
            }

            const n = this._consumable.get(t);

            if (n === undefined) {
              return null;
            }

            const i = n.get(e);

            if (i === undefined) {
              return null;
            }

            return i;
          }

          revert(t, e) {
            e = Kh(e);

            if (t instanceof Bh) {
              t = this._getSymbolForTextProxy(t);
            }

            const n = this.test(t, e);

            if (n === false) {
              this._consumable.get(t).set(e, true);

              return true;
            } else if (n === true) {
              return false;
            }

            return null;
          }

          _getSymbolForTextProxy(t) {
            let e = null;

            const n = this._textProxyRegistry.get(t.startOffset);

            if (n) {
              const i = n.get(t.endOffset);

              if (i) {
                e = i.get(t.parent);
              }
            }

            if (!e) {
              e = this._addSymbolForTextProxy(t.startOffset, t.endOffset, t.parent);
            }

            return e;
          }

          _addSymbolForTextProxy(t, e, n) {
            const i = Symbol("textProxySymbol");
            let o, s;
            o = this._textProxyRegistry.get(t);

            if (!o) {
              o = new Map();

              this._textProxyRegistry.set(t, o);
            }

            s = o.get(e);

            if (!s) {
              s = new Map();
              o.set(e, s);
            }

            s.set(n, i);
            return i;
          }

        }

        function Kh(t) {
          const e = t.split(":");
          return e.length > 1 ? e[0] + ":" + e[1] : e[0];
        }

        class Jh {
          constructor(t) {
            this.conversionApi = Wc({
              dispatcher: this
            }, t);
          }

          convertChanges(t, e, n) {
            var _iteratorNormalCompletion102 = true;
            var _didIteratorError102 = false;
            var _iteratorError102 = undefined;

            try {
              for (var _iterator102 = t.getMarkersToRemove()[Symbol.iterator](), _step102; !(_iteratorNormalCompletion102 = (_step102 = _iterator102.next()).done); _iteratorNormalCompletion102 = true) {
                const e = _step102.value;
                this.convertMarkerRemove(e.name, e.range, n);
              }
            } catch (err) {
              _didIteratorError102 = true;
              _iteratorError102 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion102 && _iterator102.return != null) {
                  _iterator102.return();
                }
              } finally {
                if (_didIteratorError102) {
                  throw _iteratorError102;
                }
              }
            }

            var _iteratorNormalCompletion103 = true;
            var _didIteratorError103 = false;
            var _iteratorError103 = undefined;

            try {
              for (var _iterator103 = t.getChanges()[Symbol.iterator](), _step103; !(_iteratorNormalCompletion103 = (_step103 = _iterator103.next()).done); _iteratorNormalCompletion103 = true) {
                const e = _step103.value;

                if (e.type == "insert") {
                  this.convertInsert(Yh._createFromPositionAndShift(e.position, e.length), n);
                } else if (e.type == "remove") {
                  this.convertRemove(e.position, e.length, e.name, n);
                } else {
                  this.convertAttribute(e.range, e.attributeKey, e.attributeOldValue, e.attributeNewValue, n);
                }
              }
            } catch (err) {
              _didIteratorError103 = true;
              _iteratorError103 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion103 && _iterator103.return != null) {
                  _iterator103.return();
                }
              } finally {
                if (_didIteratorError103) {
                  throw _iteratorError103;
                }
              }
            }

            var _iteratorNormalCompletion104 = true;
            var _didIteratorError104 = false;
            var _iteratorError104 = undefined;

            try {
              for (var _iterator104 = this.conversionApi.mapper.flushUnboundMarkerNames()[Symbol.iterator](), _step104; !(_iteratorNormalCompletion104 = (_step104 = _iterator104.next()).done); _iteratorNormalCompletion104 = true) {
                const t = _step104.value;
                const i = e.get(t).getRange();
                this.convertMarkerRemove(t, i, n);
                this.convertMarkerAdd(t, i, n);
              }
            } catch (err) {
              _didIteratorError104 = true;
              _iteratorError104 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion104 && _iterator104.return != null) {
                  _iterator104.return();
                }
              } finally {
                if (_didIteratorError104) {
                  throw _iteratorError104;
                }
              }
            }

            var _iteratorNormalCompletion105 = true;
            var _didIteratorError105 = false;
            var _iteratorError105 = undefined;

            try {
              for (var _iterator105 = t.getMarkersToAdd()[Symbol.iterator](), _step105; !(_iteratorNormalCompletion105 = (_step105 = _iterator105.next()).done); _iteratorNormalCompletion105 = true) {
                const e = _step105.value;
                this.convertMarkerAdd(e.name, e.range, n);
              }
            } catch (err) {
              _didIteratorError105 = true;
              _iteratorError105 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion105 && _iterator105.return != null) {
                  _iterator105.return();
                }
              } finally {
                if (_didIteratorError105) {
                  throw _iteratorError105;
                }
              }
            }
          }

          convertInsert(t, e) {
            this.conversionApi.writer = e;
            this.conversionApi.consumable = this._createInsertConsumable(t);
            var _iteratorNormalCompletion106 = true;
            var _didIteratorError106 = false;
            var _iteratorError106 = undefined;

            try {
              for (var _iterator106 = t[Symbol.iterator](), _step106; !(_iteratorNormalCompletion106 = (_step106 = _iterator106.next()).done); _iteratorNormalCompletion106 = true) {
                const e = _step106.value;
                const t = e.item;

                const n = Yh._createFromPositionAndShift(e.previousPosition, e.length);

                const i = {
                  item: t,
                  range: n
                };

                this._testAndFire("insert", i);

                var _iteratorNormalCompletion107 = true;
                var _didIteratorError107 = false;
                var _iteratorError107 = undefined;

                try {
                  for (var _iterator107 = t.getAttributeKeys()[Symbol.iterator](), _step107; !(_iteratorNormalCompletion107 = (_step107 = _iterator107.next()).done); _iteratorNormalCompletion107 = true) {
                    const e = _step107.value;
                    i.attributeKey = e;
                    i.attributeOldValue = null;
                    i.attributeNewValue = t.getAttribute(e);

                    this._testAndFire("attribute:".concat(e), i);
                  }
                } catch (err) {
                  _didIteratorError107 = true;
                  _iteratorError107 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion107 && _iterator107.return != null) {
                      _iterator107.return();
                    }
                  } finally {
                    if (_didIteratorError107) {
                      throw _iteratorError107;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError106 = true;
              _iteratorError106 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion106 && _iterator106.return != null) {
                  _iterator106.return();
                }
              } finally {
                if (_didIteratorError106) {
                  throw _iteratorError106;
                }
              }
            }

            this._clearConversionApi();
          }

          convertRemove(t, e, n, i) {
            this.conversionApi.writer = i;
            this.fire("remove:" + n, {
              position: t,
              length: e
            }, this.conversionApi);

            this._clearConversionApi();
          }

          convertAttribute(t, e, n, i, o) {
            this.conversionApi.writer = o;
            this.conversionApi.consumable = this._createConsumableForRange(t, "attribute:".concat(e));
            var _iteratorNormalCompletion108 = true;
            var _didIteratorError108 = false;
            var _iteratorError108 = undefined;

            try {
              for (var _iterator108 = t[Symbol.iterator](), _step108; !(_iteratorNormalCompletion108 = (_step108 = _iterator108.next()).done); _iteratorNormalCompletion108 = true) {
                const o = _step108.value;
                const t = o.item;

                const s = Yh._createFromPositionAndShift(o.previousPosition, o.length);

                const r = {
                  item: t,
                  range: s,
                  attributeKey: e,
                  attributeOldValue: n,
                  attributeNewValue: i
                };

                this._testAndFire("attribute:".concat(e), r);
              }
            } catch (err) {
              _didIteratorError108 = true;
              _iteratorError108 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion108 && _iterator108.return != null) {
                  _iterator108.return();
                }
              } finally {
                if (_didIteratorError108) {
                  throw _iteratorError108;
                }
              }
            }

            this._clearConversionApi();
          }

          convertSelection(t, e, n) {
            const i = Array.from(e.getMarkersAtPosition(t.getFirstPosition()));
            this.conversionApi.writer = n;
            this.conversionApi.consumable = this._createSelectionConsumable(t, i);
            this.fire("selection", {
              selection: t
            }, this.conversionApi);

            if (!t.isCollapsed) {
              return;
            }

            for (var _i18 = 0, _i17 = i; _i18 < _i17.length; _i18++) {
              const e = _i17[_i18];
              const n = e.getRange();

              if (!Zh(t.getFirstPosition(), e, this.conversionApi.mapper)) {
                continue;
              }

              const i = {
                item: t,
                markerName: e.name,
                markerRange: n
              };

              if (this.conversionApi.consumable.test(t, "addMarker:" + e.name)) {
                this.fire("addMarker:" + e.name, i, this.conversionApi);
              }
            }

            var _iteratorNormalCompletion109 = true;
            var _didIteratorError109 = false;
            var _iteratorError109 = undefined;

            try {
              for (var _iterator109 = t.getAttributeKeys()[Symbol.iterator](), _step109; !(_iteratorNormalCompletion109 = (_step109 = _iterator109.next()).done); _iteratorNormalCompletion109 = true) {
                const e = _step109.value;
                const n = {
                  item: t,
                  range: t.getFirstRange(),
                  attributeKey: e,
                  attributeOldValue: null,
                  attributeNewValue: t.getAttribute(e)
                };

                if (this.conversionApi.consumable.test(t, "attribute:" + n.attributeKey)) {
                  this.fire("attribute:" + n.attributeKey + ":$text", n, this.conversionApi);
                }
              }
            } catch (err) {
              _didIteratorError109 = true;
              _iteratorError109 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion109 && _iterator109.return != null) {
                  _iterator109.return();
                }
              } finally {
                if (_didIteratorError109) {
                  throw _iteratorError109;
                }
              }
            }

            this._clearConversionApi();
          }

          convertMarkerAdd(t, e, n) {
            if (!e.root.document || e.root.rootName == "$graveyard") {
              return;
            }

            this.conversionApi.writer = n;
            const i = "addMarker:" + t;
            const o = new Qh();
            o.add(e, i);
            this.conversionApi.consumable = o;
            this.fire(i, {
              markerName: t,
              markerRange: e
            }, this.conversionApi);

            if (!o.test(e, i)) {
              return;
            }

            this.conversionApi.consumable = this._createConsumableForRange(e, i);
            var _iteratorNormalCompletion110 = true;
            var _didIteratorError110 = false;
            var _iteratorError110 = undefined;

            try {
              for (var _iterator110 = e.getItems()[Symbol.iterator](), _step110; !(_iteratorNormalCompletion110 = (_step110 = _iterator110.next()).done); _iteratorNormalCompletion110 = true) {
                const n = _step110.value;

                if (!this.conversionApi.consumable.test(n, i)) {
                  continue;
                }

                const o = {
                  item: n,
                  range: Yh._createOn(n),
                  markerName: t,
                  markerRange: e
                };
                this.fire(i, o, this.conversionApi);
              }
            } catch (err) {
              _didIteratorError110 = true;
              _iteratorError110 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion110 && _iterator110.return != null) {
                  _iterator110.return();
                }
              } finally {
                if (_didIteratorError110) {
                  throw _iteratorError110;
                }
              }
            }

            this._clearConversionApi();
          }

          convertMarkerRemove(t, e, n) {
            if (!e.root.document || e.root.rootName == "$graveyard") {
              return;
            }

            this.conversionApi.writer = n;
            this.fire("removeMarker:" + t, {
              markerName: t,
              markerRange: e
            }, this.conversionApi);

            this._clearConversionApi();
          }

          _createInsertConsumable(t) {
            const e = new Qh();
            var _iteratorNormalCompletion111 = true;
            var _didIteratorError111 = false;
            var _iteratorError111 = undefined;

            try {
              for (var _iterator111 = t[Symbol.iterator](), _step111; !(_iteratorNormalCompletion111 = (_step111 = _iterator111.next()).done); _iteratorNormalCompletion111 = true) {
                const n = _step111.value;
                const t = n.item;
                e.add(t, "insert");
                var _iteratorNormalCompletion112 = true;
                var _didIteratorError112 = false;
                var _iteratorError112 = undefined;

                try {
                  for (var _iterator112 = t.getAttributeKeys()[Symbol.iterator](), _step112; !(_iteratorNormalCompletion112 = (_step112 = _iterator112.next()).done); _iteratorNormalCompletion112 = true) {
                    const n = _step112.value;
                    e.add(t, "attribute:" + n);
                  }
                } catch (err) {
                  _didIteratorError112 = true;
                  _iteratorError112 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion112 && _iterator112.return != null) {
                      _iterator112.return();
                    }
                  } finally {
                    if (_didIteratorError112) {
                      throw _iteratorError112;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError111 = true;
              _iteratorError111 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion111 && _iterator111.return != null) {
                  _iterator111.return();
                }
              } finally {
                if (_didIteratorError111) {
                  throw _iteratorError111;
                }
              }
            }

            return e;
          }

          _createConsumableForRange(t, e) {
            const n = new Qh();
            var _iteratorNormalCompletion113 = true;
            var _didIteratorError113 = false;
            var _iteratorError113 = undefined;

            try {
              for (var _iterator113 = t.getItems()[Symbol.iterator](), _step113; !(_iteratorNormalCompletion113 = (_step113 = _iterator113.next()).done); _iteratorNormalCompletion113 = true) {
                const i = _step113.value;
                n.add(i, e);
              }
            } catch (err) {
              _didIteratorError113 = true;
              _iteratorError113 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion113 && _iterator113.return != null) {
                  _iterator113.return();
                }
              } finally {
                if (_didIteratorError113) {
                  throw _iteratorError113;
                }
              }
            }

            return n;
          }

          _createSelectionConsumable(t, e) {
            const n = new Qh();
            n.add(t, "selection");
            var _iteratorNormalCompletion114 = true;
            var _didIteratorError114 = false;
            var _iteratorError114 = undefined;

            try {
              for (var _iterator114 = e[Symbol.iterator](), _step114; !(_iteratorNormalCompletion114 = (_step114 = _iterator114.next()).done); _iteratorNormalCompletion114 = true) {
                const i = _step114.value;
                n.add(t, "addMarker:" + i.name);
              }
            } catch (err) {
              _didIteratorError114 = true;
              _iteratorError114 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion114 && _iterator114.return != null) {
                  _iterator114.return();
                }
              } finally {
                if (_didIteratorError114) {
                  throw _iteratorError114;
                }
              }
            }

            var _iteratorNormalCompletion115 = true;
            var _didIteratorError115 = false;
            var _iteratorError115 = undefined;

            try {
              for (var _iterator115 = t.getAttributeKeys()[Symbol.iterator](), _step115; !(_iteratorNormalCompletion115 = (_step115 = _iterator115.next()).done); _iteratorNormalCompletion115 = true) {
                const e = _step115.value;
                n.add(t, "attribute:" + e);
              }
            } catch (err) {
              _didIteratorError115 = true;
              _iteratorError115 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion115 && _iterator115.return != null) {
                  _iterator115.return();
                }
              } finally {
                if (_didIteratorError115) {
                  throw _iteratorError115;
                }
              }
            }

            return n;
          }

          _testAndFire(t, e) {
            if (!this.conversionApi.consumable.test(e.item, t)) {
              return;
            }

            const n = e.item.name || "$text";
            this.fire(t + ":" + n, e, this.conversionApi);
          }

          _clearConversionApi() {
            delete this.conversionApi.writer;
            delete this.conversionApi.consumable;
          }

        }

        vr(Jh, dr);

        function Zh(t, e, n) {
          const i = e.getRange();
          const o = Array.from(t.getAncestors());
          o.shift();
          o.reverse();
          const s = o.some(t => {
            if (i.containsItem(t)) {
              const e = n.toViewElement(t);
              return !!e.getCustomProperty("addHighlight");
            }
          });
          return !s;
        }

        class Xh {
          constructor(t, e, n) {
            this._lastRangeBackward = false;
            this._ranges = [];
            this._attrs = new Map();

            if (t) {
              this.setTo(t, e, n);
            }
          }

          get anchor() {
            if (this._ranges.length > 0) {
              const t = this._ranges[this._ranges.length - 1];
              return this._lastRangeBackward ? t.end : t.start;
            }

            return null;
          }

          get focus() {
            if (this._ranges.length > 0) {
              const t = this._ranges[this._ranges.length - 1];
              return this._lastRangeBackward ? t.start : t.end;
            }

            return null;
          }

          get isCollapsed() {
            const t = this._ranges.length;

            if (t === 1) {
              return this._ranges[0].isCollapsed;
            } else {
              return false;
            }
          }

          get rangeCount() {
            return this._ranges.length;
          }

          get isBackward() {
            return !this.isCollapsed && this._lastRangeBackward;
          }

          isEqual(t) {
            if (this.rangeCount != t.rangeCount) {
              return false;
            } else if (this.rangeCount === 0) {
              return true;
            }

            if (!this.anchor.isEqual(t.anchor) || !this.focus.isEqual(t.focus)) {
              return false;
            }

            var _iteratorNormalCompletion116 = true;
            var _didIteratorError116 = false;
            var _iteratorError116 = undefined;

            try {
              for (var _iterator116 = this._ranges[Symbol.iterator](), _step116; !(_iteratorNormalCompletion116 = (_step116 = _iterator116.next()).done); _iteratorNormalCompletion116 = true) {
                const e = _step116.value;
                let n = false;
                var _iteratorNormalCompletion117 = true;
                var _didIteratorError117 = false;
                var _iteratorError117 = undefined;

                try {
                  for (var _iterator117 = t._ranges[Symbol.iterator](), _step117; !(_iteratorNormalCompletion117 = (_step117 = _iterator117.next()).done); _iteratorNormalCompletion117 = true) {
                    const i = _step117.value;

                    if (e.isEqual(i)) {
                      n = true;
                      break;
                    }
                  }
                } catch (err) {
                  _didIteratorError117 = true;
                  _iteratorError117 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion117 && _iterator117.return != null) {
                      _iterator117.return();
                    }
                  } finally {
                    if (_didIteratorError117) {
                      throw _iteratorError117;
                    }
                  }
                }

                if (!n) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError116 = true;
              _iteratorError116 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion116 && _iterator116.return != null) {
                  _iterator116.return();
                }
              } finally {
                if (_didIteratorError116) {
                  throw _iteratorError116;
                }
              }
            }

            return true;
          }

          getRanges() {
            var _this16 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee16() {
                var _iteratorNormalCompletion118, _didIteratorError118, _iteratorError118, _iterator118, _step118, t;

                return regeneratorRuntime.wrap(function _callee16$(_context16) {
                  while (1) switch (_context16.prev = _context16.next) {
                    case 0:
                      _iteratorNormalCompletion118 = true;
                      _didIteratorError118 = false;
                      _iteratorError118 = undefined;
                      _context16.prev = 3;
                      _iterator118 = _this16._ranges[Symbol.iterator]();

                    case 5:
                      if (_iteratorNormalCompletion118 = (_step118 = _iterator118.next()).done) {
                        _context16.next = 12;
                        break;
                      }

                      t = _step118.value;
                      _context16.next = 9;
                      return new Yh(t.start, t.end);

                    case 9:
                      _iteratorNormalCompletion118 = true;
                      _context16.next = 5;
                      break;

                    case 12:
                      _context16.next = 18;
                      break;

                    case 14:
                      _context16.prev = 14;
                      _context16.t0 = _context16["catch"](3);
                      _didIteratorError118 = true;
                      _iteratorError118 = _context16.t0;

                    case 18:
                      _context16.prev = 18;
                      _context16.prev = 19;

                      if (!_iteratorNormalCompletion118 && _iterator118.return != null) {
                        _iterator118.return();
                      }

                    case 21:
                      _context16.prev = 21;

                      if (!_didIteratorError118) {
                        _context16.next = 24;
                        break;
                      }

                      throw _iteratorError118;

                    case 24:
                      return _context16.finish(21);

                    case 25:
                      return _context16.finish(18);

                    case 26:
                    case "end":
                      return _context16.stop();
                  }
                }, _callee16, null, [[3, 14, 18, 26], [19,, 21, 25]]);
              })()
            );
          }

          getFirstRange() {
            let t = null;
            var _iteratorNormalCompletion119 = true;
            var _didIteratorError119 = false;
            var _iteratorError119 = undefined;

            try {
              for (var _iterator119 = this._ranges[Symbol.iterator](), _step119; !(_iteratorNormalCompletion119 = (_step119 = _iterator119.next()).done); _iteratorNormalCompletion119 = true) {
                const e = _step119.value;

                if (!t || e.start.isBefore(t.start)) {
                  t = e;
                }
              }
            } catch (err) {
              _didIteratorError119 = true;
              _iteratorError119 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion119 && _iterator119.return != null) {
                  _iterator119.return();
                }
              } finally {
                if (_didIteratorError119) {
                  throw _iteratorError119;
                }
              }
            }

            return t ? new Yh(t.start, t.end) : null;
          }

          getLastRange() {
            let t = null;
            var _iteratorNormalCompletion120 = true;
            var _didIteratorError120 = false;
            var _iteratorError120 = undefined;

            try {
              for (var _iterator120 = this._ranges[Symbol.iterator](), _step120; !(_iteratorNormalCompletion120 = (_step120 = _iterator120.next()).done); _iteratorNormalCompletion120 = true) {
                const e = _step120.value;

                if (!t || e.end.isAfter(t.end)) {
                  t = e;
                }
              }
            } catch (err) {
              _didIteratorError120 = true;
              _iteratorError120 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion120 && _iterator120.return != null) {
                  _iterator120.return();
                }
              } finally {
                if (_didIteratorError120) {
                  throw _iteratorError120;
                }
              }
            }

            return t ? new Yh(t.start, t.end) : null;
          }

          getFirstPosition() {
            const t = this.getFirstRange();
            return t ? t.start.clone() : null;
          }

          getLastPosition() {
            const t = this.getLastRange();
            return t ? t.end.clone() : null;
          }

          setTo(t, e, n) {
            if (t === null) {
              this._setRanges([]);
            } else if (t instanceof Xh) {
              this._setRanges(t.getRanges(), t.isBackward);
            } else if (t && typeof t.getRanges == "function") {
              this._setRanges(t.getRanges(), t.isBackward);
            } else if (t instanceof Yh) {
              this._setRanges([t], !!e && !!e.backward);
            } else if (t instanceof $h) {
              this._setRanges([new Yh(t)]);
            } else if (t instanceof jh) {
              const i = !!n && !!n.backward;
              let o;

              if (e == "in") {
                o = Yh._createIn(t);
              } else if (e == "on") {
                o = Yh._createOn(t);
              } else if (e !== undefined) {
                o = new Yh($h._createAt(t, e));
              } else {
                throw new rr["b"]("model-selection-setTo-required-second-parameter: " + "selection.setTo requires the second parameter when the first parameter is a node.", [this, t]);
              }

              this._setRanges([o], i);
            } else if (Fr(t)) {
              this._setRanges(t, e && !!e.backward);
            } else {
              throw new rr["b"]("model-selection-setTo-not-selectable: Cannot set the selection to the given place.", [this, t]);
            }
          }

          _setRanges(t, e = false) {
            t = Array.from(t);
            const n = t.some(e => {
              if (!(e instanceof Yh)) {
                throw new rr["b"]("model-selection-set-ranges-not-range: " + "Selection range set to an object that is not an instance of model.Range.", [this, t]);
              }

              return this._ranges.every(t => !t.isEqual(e));
            });

            if (t.length === this._ranges.length && !n) {
              return;
            }

            this._removeAllRanges();

            var _iteratorNormalCompletion121 = true;
            var _didIteratorError121 = false;
            var _iteratorError121 = undefined;

            try {
              for (var _iterator121 = t[Symbol.iterator](), _step121; !(_iteratorNormalCompletion121 = (_step121 = _iterator121.next()).done); _iteratorNormalCompletion121 = true) {
                const e = _step121.value;

                this._pushRange(e);
              }
            } catch (err) {
              _didIteratorError121 = true;
              _iteratorError121 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion121 && _iterator121.return != null) {
                  _iterator121.return();
                }
              } finally {
                if (_didIteratorError121) {
                  throw _iteratorError121;
                }
              }
            }

            this._lastRangeBackward = !!e;
            this.fire("change:range", {
              directChange: true
            });
          }

          setFocus(t, e) {
            if (this.anchor === null) {
              throw new rr["b"]("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.", [this, t]);
            }

            const n = $h._createAt(t, e);

            if (n.compareWith(this.focus) == "same") {
              return;
            }

            const i = this.anchor;

            if (this._ranges.length) {
              this._popRange();
            }

            if (n.compareWith(i) == "before") {
              this._pushRange(new Yh(n, i));

              this._lastRangeBackward = true;
            } else {
              this._pushRange(new Yh(i, n));

              this._lastRangeBackward = false;
            }

            this.fire("change:range", {
              directChange: true
            });
          }

          getAttribute(t) {
            return this._attrs.get(t);
          }

          getAttributes() {
            return this._attrs.entries();
          }

          getAttributeKeys() {
            return this._attrs.keys();
          }

          hasAttribute(t) {
            return this._attrs.has(t);
          }

          removeAttribute(t) {
            if (this.hasAttribute(t)) {
              this._attrs.delete(t);

              this.fire("change:attribute", {
                attributeKeys: [t],
                directChange: true
              });
            }
          }

          setAttribute(t, e) {
            if (this.getAttribute(t) !== e) {
              this._attrs.set(t, e);

              this.fire("change:attribute", {
                attributeKeys: [t],
                directChange: true
              });
            }
          }

          getSelectedElement() {
            if (this.rangeCount !== 1) {
              return null;
            }

            const t = this.getFirstRange();
            const e = t.start.nodeAfter;
            const n = t.end.nodeBefore;
            return e instanceof Hh && e == n ? e : null;
          }

          is(t) {
            return t == "selection" || t == "model:selection";
          }

          getSelectedBlocks() {
            var _this17 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee17() {
                var t, _iteratorNormalCompletion122, _didIteratorError122, _iteratorError122, _iterator122, _step122, e, n, _iteratorNormalCompletion123, _didIteratorError123, _iteratorError123, _iterator123, _step123, i;

                return regeneratorRuntime.wrap(function _callee17$(_context17) {
                  while (1) switch (_context17.prev = _context17.next) {
                    case 0:
                      t = new WeakSet();
                      _iteratorNormalCompletion122 = true;
                      _didIteratorError122 = false;
                      _iteratorError122 = undefined;
                      _context17.prev = 4;
                      _iterator122 = _this17.getRanges()[Symbol.iterator]();

                    case 6:
                      if (_iteratorNormalCompletion122 = (_step122 = _iterator122.next()).done) {
                        _context17.next = 47;
                        break;
                      }

                      e = _step122.value;
                      n = nf(e.start, t);

                      if (!(n && of(n, e))) {
                        _context17.next = 12;
                        break;
                      }

                      _context17.next = 12;
                      return n;

                    case 12:
                      _iteratorNormalCompletion123 = true;
                      _didIteratorError123 = false;
                      _iteratorError123 = undefined;
                      _context17.prev = 15;
                      _iterator123 = e.getWalker()[Symbol.iterator]();

                    case 17:
                      if (_iteratorNormalCompletion123 = (_step123 = _iterator123.next()).done) {
                        _context17.next = 26;
                        break;
                      }

                      n = _step123.value;
                      i = n.item;

                      if (!(n.type == "elementEnd" && ef(i, t, e))) {
                        _context17.next = 23;
                        break;
                      }

                      _context17.next = 23;
                      return i;

                    case 23:
                      _iteratorNormalCompletion123 = true;
                      _context17.next = 17;
                      break;

                    case 26:
                      _context17.next = 32;
                      break;

                    case 28:
                      _context17.prev = 28;
                      _context17.t0 = _context17["catch"](15);
                      _didIteratorError123 = true;
                      _iteratorError123 = _context17.t0;

                    case 32:
                      _context17.prev = 32;
                      _context17.prev = 33;

                      if (!_iteratorNormalCompletion123 && _iterator123.return != null) {
                        _iterator123.return();
                      }

                    case 35:
                      _context17.prev = 35;

                      if (!_didIteratorError123) {
                        _context17.next = 38;
                        break;
                      }

                      throw _iteratorError123;

                    case 38:
                      return _context17.finish(35);

                    case 39:
                      return _context17.finish(32);

                    case 40:
                      i = nf(e.end, t);

                      if (!(i && !e.end.isTouching($h._createAt(i, 0)) && of(i, e))) {
                        _context17.next = 44;
                        break;
                      }

                      _context17.next = 44;
                      return i;

                    case 44:
                      _iteratorNormalCompletion122 = true;
                      _context17.next = 6;
                      break;

                    case 47:
                      _context17.next = 53;
                      break;

                    case 49:
                      _context17.prev = 49;
                      _context17.t1 = _context17["catch"](4);
                      _didIteratorError122 = true;
                      _iteratorError122 = _context17.t1;

                    case 53:
                      _context17.prev = 53;
                      _context17.prev = 54;

                      if (!_iteratorNormalCompletion122 && _iterator122.return != null) {
                        _iterator122.return();
                      }

                    case 56:
                      _context17.prev = 56;

                      if (!_didIteratorError122) {
                        _context17.next = 59;
                        break;
                      }

                      throw _iteratorError122;

                    case 59:
                      return _context17.finish(56);

                    case 60:
                      return _context17.finish(53);

                    case 61:
                    case "end":
                      return _context17.stop();
                  }
                }, _callee17, null, [[4, 49, 53, 61], [15, 28, 32, 40], [33,, 35, 39], [54,, 56, 60]]);
              })()
            );
          }

          containsEntireContent(t = this.anchor.root) {
            const e = $h._createAt(t, 0);

            const n = $h._createAt(t, "end");

            return e.isTouching(this.getFirstPosition()) && n.isTouching(this.getLastPosition());
          }

          _pushRange(t) {
            this._checkRange(t);

            this._ranges.push(new Yh(t.start, t.end));
          }

          _checkRange(t) {
            for (let e = 0; e < this._ranges.length; e++) {
              if (t.isIntersecting(this._ranges[e])) {
                throw new rr["b"]("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.", [this, t], {
                  addedRange: t,
                  intersectingRange: this._ranges[e]
                });
              }
            }
          }

          _removeAllRanges() {
            while (this._ranges.length > 0) {
              this._popRange();
            }
          }

          _popRange() {
            this._ranges.pop();
          }

        }

        vr(Xh, dr);

        function tf(t, e) {
          if (e.has(t)) {
            return false;
          }

          e.add(t);
          return t.document.model.schema.isBlock(t) && t.parent;
        }

        function ef(t, e, n) {
          return tf(t, e) && of(t, n);
        }

        function nf(t, e) {
          const n = t.parent.document.model.schema;
          const i = t.parent.getAncestors({
            parentFirst: true,
            includeSelf: true
          });
          let o = false;
          const s = i.find(t => {
            if (o) {
              return false;
            }

            o = n.isLimit(t);
            return !o && tf(t, e);
          });
          i.forEach(t => e.add(t));
          return s;
        }

        function of(t, e) {
          const n = sf(t);

          if (!n) {
            return true;
          }

          const i = e.containsRange(Yh._createOn(n), true);
          return !i;
        }

        function sf(t) {
          const e = t.document.model.schema;
          let n = t.parent;

          while (n) {
            if (e.isBlock(n)) {
              return n;
            }

            n = n.parent;
          }
        }

        class rf extends Yh {
          constructor(t, e) {
            super(t, e);
            af.call(this);
          }

          detach() {
            this.stopListening();
          }

          is(t) {
            return t == "liveRange" || t == "model:liveRange" || super.is(t);
          }

          toRange() {
            return new Yh(this.start, this.end);
          }

          static fromRange(t) {
            return new rf(t.start, t.end);
          }

        }

        function af() {
          this.listenTo(this.root.document.model, "applyOperation", (t, e) => {
            const n = e[0];

            if (!n.isDocumentOperation) {
              return;
            }

            cf.call(this, n);
          }, {
            priority: "low"
          });
        }

        function cf(t) {
          const e = this.getTransformedByOperation(t);

          const n = Yh._createFromRanges(e);

          const i = !n.isEqual(this);
          const o = lf(this, t);
          let s = null;

          if (i) {
            if (n.root.rootName == "$graveyard") {
              if (t.type == "remove") {
                s = t.sourcePosition;
              } else {
                s = t.deletionPosition;
              }
            }

            const e = this.toRange();
            this.start = n.start;
            this.end = n.end;
            this.fire("change:range", e, {
              deletionPosition: s
            });
          } else if (o) {
            this.fire("change:content", this.toRange(), {
              deletionPosition: s
            });
          }
        }

        function lf(t, e) {
          switch (e.type) {
            case "insert":
              return t.containsPosition(e.position);

            case "move":
            case "remove":
            case "reinsert":
            case "merge":
              return t.containsPosition(e.sourcePosition) || t.start.isEqual(e.sourcePosition) || t.containsPosition(e.targetPosition);

            case "split":
              return t.containsPosition(e.splitPosition) || t.containsPosition(e.insertionPosition);
          }

          return false;
        }

        vr(rf, dr);
        const df = "selection:";

        class uf {
          constructor(t) {
            this._selection = new hf(t);

            this._selection.delegate("change:range").to(this);

            this._selection.delegate("change:attribute").to(this);

            this._selection.delegate("change:marker").to(this);
          }

          get isCollapsed() {
            return this._selection.isCollapsed;
          }

          get anchor() {
            return this._selection.anchor;
          }

          get focus() {
            return this._selection.focus;
          }

          get rangeCount() {
            return this._selection.rangeCount;
          }

          get hasOwnRange() {
            return this._selection.hasOwnRange;
          }

          get isBackward() {
            return this._selection.isBackward;
          }

          get isGravityOverridden() {
            return this._selection.isGravityOverridden;
          }

          get markers() {
            return this._selection.markers;
          }

          get _ranges() {
            return this._selection._ranges;
          }

          getRanges() {
            return this._selection.getRanges();
          }

          getFirstPosition() {
            return this._selection.getFirstPosition();
          }

          getLastPosition() {
            return this._selection.getLastPosition();
          }

          getFirstRange() {
            return this._selection.getFirstRange();
          }

          getLastRange() {
            return this._selection.getLastRange();
          }

          getSelectedBlocks() {
            return this._selection.getSelectedBlocks();
          }

          getSelectedElement() {
            return this._selection.getSelectedElement();
          }

          containsEntireContent(t) {
            return this._selection.containsEntireContent(t);
          }

          destroy() {
            this._selection.destroy();
          }

          getAttributeKeys() {
            return this._selection.getAttributeKeys();
          }

          getAttributes() {
            return this._selection.getAttributes();
          }

          getAttribute(t) {
            return this._selection.getAttribute(t);
          }

          hasAttribute(t) {
            return this._selection.hasAttribute(t);
          }

          refresh() {
            this._selection._updateMarkers();

            this._selection._updateAttributes(false);
          }

          is(t) {
            return t == "selection" || t == "model:selection" || t == "documentSelection" || t == "model:documentSelection";
          }

          _setFocus(t, e) {
            this._selection.setFocus(t, e);
          }

          _setTo(t, e, n) {
            this._selection.setTo(t, e, n);
          }

          _setAttribute(t, e) {
            this._selection.setAttribute(t, e);
          }

          _removeAttribute(t) {
            this._selection.removeAttribute(t);
          }

          _getStoredAttributes() {
            return this._selection._getStoredAttributes();
          }

          _overrideGravity() {
            return this._selection.overrideGravity();
          }

          _restoreGravity(t) {
            this._selection.restoreGravity(t);
          }

          static _getStoreAttributeKey(t) {
            return df + t;
          }

          static _isStoreAttributeKey(t) {
            return t.startsWith(df);
          }

        }

        vr(uf, dr);

        class hf extends Xh {
          constructor(t) {
            super();
            this.markers = new yr({
              idProperty: "name"
            });
            this._model = t.model;
            this._document = t;
            this._attributePriority = new Map();
            this._fixGraveyardRangesData = [];
            this._hasChangedRange = false;
            this._overriddenGravityRegister = new Set();
            this.listenTo(this._model, "applyOperation", (t, e) => {
              const n = e[0];

              if (!n.isDocumentOperation || n.type == "marker" || n.type == "rename" || n.type == "noop") {
                return;
              }

              while (this._fixGraveyardRangesData.length) {
                const _this$_fixGraveyardRa = this._fixGraveyardRangesData.shift(),
                      t = _this$_fixGraveyardRa.liveRange,
                      e = _this$_fixGraveyardRa.sourcePosition;

                this._fixGraveyardSelection(t, e);
              }

              if (this._hasChangedRange) {
                this._hasChangedRange = false;
                this.fire("change:range", {
                  directChange: false
                });
              }
            }, {
              priority: "lowest"
            });
            this.on("change:range", () => {
              var _iteratorNormalCompletion124 = true;
              var _didIteratorError124 = false;
              var _iteratorError124 = undefined;

              try {
                for (var _iterator124 = this.getRanges()[Symbol.iterator](), _step124; !(_iteratorNormalCompletion124 = (_step124 = _iterator124.next()).done); _iteratorNormalCompletion124 = true) {
                  const t = _step124.value;

                  if (!this._document._validateSelectionRange(t)) {
                    throw new rr["b"]("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.", this, {
                      range: t
                    });
                  }
                }
              } catch (err) {
                _didIteratorError124 = true;
                _iteratorError124 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion124 && _iterator124.return != null) {
                    _iterator124.return();
                  }
                } finally {
                  if (_didIteratorError124) {
                    throw _iteratorError124;
                  }
                }
              }
            });
            this.listenTo(this._model.markers, "update", () => this._updateMarkers());
            this.listenTo(this._document, "change", (t, e) => {
              mf(this._model, e);
            });
          }

          get isCollapsed() {
            const t = this._ranges.length;
            return t === 0 ? this._document._getDefaultRange().isCollapsed : super.isCollapsed;
          }

          get anchor() {
            return super.anchor || this._document._getDefaultRange().start;
          }

          get focus() {
            return super.focus || this._document._getDefaultRange().end;
          }

          get rangeCount() {
            return this._ranges.length ? this._ranges.length : 1;
          }

          get hasOwnRange() {
            return this._ranges.length > 0;
          }

          get isGravityOverridden() {
            return !!this._overriddenGravityRegister.size;
          }

          destroy() {
            for (let t = 0; t < this._ranges.length; t++) {
              this._ranges[t].detach();
            }

            this.stopListening();
          }

          getRanges() {
            var _superprop_getGetRanges = () => super.getRanges,
                _this18 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee18() {
                return regeneratorRuntime.wrap(function _callee18$(_context18) {
                  while (1) switch (_context18.prev = _context18.next) {
                    case 0:
                      if (!_this18._ranges.length) {
                        _context18.next = 4;
                        break;
                      }

                      return _context18.delegateYield(_superprop_getGetRanges().call(_this18), "t0", 2);

                    case 2:
                      _context18.next = 6;
                      break;

                    case 4:
                      _context18.next = 6;
                      return _this18._document._getDefaultRange();

                    case 6:
                    case "end":
                      return _context18.stop();
                  }
                }, _callee18);
              })()
            );
          }

          getFirstRange() {
            return super.getFirstRange() || this._document._getDefaultRange();
          }

          getLastRange() {
            return super.getLastRange() || this._document._getDefaultRange();
          }

          setTo(t, e, n) {
            super.setTo(t, e, n);

            this._updateAttributes(true);

            this._updateMarkers();
          }

          setFocus(t, e) {
            super.setFocus(t, e);

            this._updateAttributes(true);

            this._updateMarkers();
          }

          setAttribute(t, e) {
            if (this._setAttribute(t, e)) {
              const e = [t];
              this.fire("change:attribute", {
                attributeKeys: e,
                directChange: true
              });
            }
          }

          removeAttribute(t) {
            if (this._removeAttribute(t)) {
              const e = [t];
              this.fire("change:attribute", {
                attributeKeys: e,
                directChange: true
              });
            }
          }

          overrideGravity() {
            const t = nr();

            this._overriddenGravityRegister.add(t);

            if (this._overriddenGravityRegister.size === 1) {
              this._updateAttributes(true);
            }

            return t;
          }

          restoreGravity(t) {
            if (!this._overriddenGravityRegister.has(t)) {
              throw new rr["b"]("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.", this, {
                uid: t
              });
            }

            this._overriddenGravityRegister.delete(t);

            if (!this.isGravityOverridden) {
              this._updateAttributes(true);
            }
          }

          _popRange() {
            this._ranges.pop().detach();
          }

          _pushRange(t) {
            const e = this._prepareRange(t);

            if (e) {
              this._ranges.push(e);
            }
          }

          _prepareRange(t) {
            this._checkRange(t);

            if (t.root == this._document.graveyard) {
              return;
            }

            const e = rf.fromRange(t);
            e.on("change:range", (t, n, i) => {
              this._hasChangedRange = true;

              if (e.root == this._document.graveyard) {
                this._fixGraveyardRangesData.push({
                  liveRange: e,
                  sourcePosition: i.deletionPosition
                });
              }
            });
            return e;
          }

          _updateMarkers() {
            const t = [];
            let e = false;
            var _iteratorNormalCompletion125 = true;
            var _didIteratorError125 = false;
            var _iteratorError125 = undefined;

            try {
              for (var _iterator125 = this._model.markers[Symbol.iterator](), _step125; !(_iteratorNormalCompletion125 = (_step125 = _iterator125.next()).done); _iteratorNormalCompletion125 = true) {
                const e = _step125.value;
                const n = e.getRange();
                var _iteratorNormalCompletion126 = true;
                var _didIteratorError126 = false;
                var _iteratorError126 = undefined;

                try {
                  for (var _iterator126 = this.getRanges()[Symbol.iterator](), _step126; !(_iteratorNormalCompletion126 = (_step126 = _iterator126.next()).done); _iteratorNormalCompletion126 = true) {
                    const i = _step126.value;

                    if (n.containsRange(i, !i.isCollapsed)) {
                      t.push(e);
                    }
                  }
                } catch (err) {
                  _didIteratorError126 = true;
                  _iteratorError126 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion126 && _iterator126.return != null) {
                      _iterator126.return();
                    }
                  } finally {
                    if (_didIteratorError126) {
                      throw _iteratorError126;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError125 = true;
              _iteratorError125 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion125 && _iterator125.return != null) {
                  _iterator125.return();
                }
              } finally {
                if (_didIteratorError125) {
                  throw _iteratorError125;
                }
              }
            }

            const n = Array.from(this.markers);

            for (var _i19 = 0, _t8 = t; _i19 < _t8.length; _i19++) {
              const n = _t8[_i19];

              if (!this.markers.has(n)) {
                this.markers.add(n);
                e = true;
              }
            }

            for (var _i20 = 0, _Array$from3 = Array.from(this.markers); _i20 < _Array$from3.length; _i20++) {
              const n = _Array$from3[_i20];

              if (!t.includes(n)) {
                this.markers.remove(n);
                e = true;
              }
            }

            if (e) {
              this.fire("change:marker", {
                oldMarkers: n,
                directChange: false
              });
            }
          }

          _updateAttributes(t) {
            const e = Hr(this._getSurroundingAttributes());
            const n = Hr(this.getAttributes());

            if (t) {
              this._attributePriority = new Map();
              this._attrs = new Map();
            } else {
              var _iteratorNormalCompletion127 = true;
              var _didIteratorError127 = false;
              var _iteratorError127 = undefined;

              try {
                for (var _iterator127 = this._attributePriority[Symbol.iterator](), _step127; !(_iteratorNormalCompletion127 = (_step127 = _iterator127.next()).done); _iteratorNormalCompletion127 = true) {
                  const _step127$value = _slicedToArray(_step127.value, 2),
                        t = _step127$value[0],
                        e = _step127$value[1];

                  if (e == "low") {
                    this._attrs.delete(t);

                    this._attributePriority.delete(t);
                  }
                }
              } catch (err) {
                _didIteratorError127 = true;
                _iteratorError127 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion127 && _iterator127.return != null) {
                    _iterator127.return();
                  }
                } finally {
                  if (_didIteratorError127) {
                    throw _iteratorError127;
                  }
                }
              }
            }

            this._setAttributesTo(e);

            const i = [];
            var _iteratorNormalCompletion128 = true;
            var _didIteratorError128 = false;
            var _iteratorError128 = undefined;

            try {
              for (var _iterator128 = this.getAttributes()[Symbol.iterator](), _step128; !(_iteratorNormalCompletion128 = (_step128 = _iterator128.next()).done); _iteratorNormalCompletion128 = true) {
                const _step128$value = _slicedToArray(_step128.value, 2),
                      t = _step128$value[0],
                      e = _step128$value[1];

                if (!n.has(t) || n.get(t) !== e) {
                  i.push(t);
                }
              }
            } catch (err) {
              _didIteratorError128 = true;
              _iteratorError128 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion128 && _iterator128.return != null) {
                  _iterator128.return();
                }
              } finally {
                if (_didIteratorError128) {
                  throw _iteratorError128;
                }
              }
            }

            var _iteratorNormalCompletion129 = true;
            var _didIteratorError129 = false;
            var _iteratorError129 = undefined;

            try {
              for (var _iterator129 = n[Symbol.iterator](), _step129; !(_iteratorNormalCompletion129 = (_step129 = _iterator129.next()).done); _iteratorNormalCompletion129 = true) {
                const _step129$value = _slicedToArray(_step129.value, 1),
                      t = _step129$value[0];

                if (!this.hasAttribute(t)) {
                  i.push(t);
                }
              }
            } catch (err) {
              _didIteratorError129 = true;
              _iteratorError129 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion129 && _iterator129.return != null) {
                  _iterator129.return();
                }
              } finally {
                if (_didIteratorError129) {
                  throw _iteratorError129;
                }
              }
            }

            if (i.length > 0) {
              this.fire("change:attribute", {
                attributeKeys: i,
                directChange: false
              });
            }
          }

          _setAttribute(t, e, n = true) {
            const i = n ? "normal" : "low";

            if (i == "low" && this._attributePriority.get(t) == "normal") {
              return false;
            }

            const o = super.getAttribute(t);

            if (o === e) {
              return false;
            }

            this._attrs.set(t, e);

            this._attributePriority.set(t, i);

            return true;
          }

          _removeAttribute(t, e = true) {
            const n = e ? "normal" : "low";

            if (n == "low" && this._attributePriority.get(t) == "normal") {
              return false;
            }

            this._attributePriority.set(t, n);

            if (!super.hasAttribute(t)) {
              return false;
            }

            this._attrs.delete(t);

            return true;
          }

          _setAttributesTo(t) {
            const e = new Set();
            var _iteratorNormalCompletion130 = true;
            var _didIteratorError130 = false;
            var _iteratorError130 = undefined;

            try {
              for (var _iterator130 = this.getAttributes()[Symbol.iterator](), _step130; !(_iteratorNormalCompletion130 = (_step130 = _iterator130.next()).done); _iteratorNormalCompletion130 = true) {
                const _step130$value = _slicedToArray(_step130.value, 2),
                      e = _step130$value[0],
                      n = _step130$value[1];

                if (t.get(e) === n) {
                  continue;
                }

                this._removeAttribute(e, false);
              }
            } catch (err) {
              _didIteratorError130 = true;
              _iteratorError130 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion130 && _iterator130.return != null) {
                  _iterator130.return();
                }
              } finally {
                if (_didIteratorError130) {
                  throw _iteratorError130;
                }
              }
            }

            var _iteratorNormalCompletion131 = true;
            var _didIteratorError131 = false;
            var _iteratorError131 = undefined;

            try {
              for (var _iterator131 = t[Symbol.iterator](), _step131; !(_iteratorNormalCompletion131 = (_step131 = _iterator131.next()).done); _iteratorNormalCompletion131 = true) {
                const _step131$value = _slicedToArray(_step131.value, 2),
                      n = _step131$value[0],
                      i = _step131$value[1];

                const t = this._setAttribute(n, i, false);

                if (t) {
                  e.add(n);
                }
              }
            } catch (err) {
              _didIteratorError131 = true;
              _iteratorError131 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion131 && _iterator131.return != null) {
                  _iterator131.return();
                }
              } finally {
                if (_didIteratorError131) {
                  throw _iteratorError131;
                }
              }
            }

            return e;
          }

          _getStoredAttributes() {
            var _this19 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee19() {
                var t, _iteratorNormalCompletion132, _didIteratorError132, _iteratorError132, _iterator132, _step132, e, n;

                return regeneratorRuntime.wrap(function _callee19$(_context19) {
                  while (1) switch (_context19.prev = _context19.next) {
                    case 0:
                      t = _this19.getFirstPosition().parent;

                      if (!(_this19.isCollapsed && t.isEmpty)) {
                        _context19.next = 30;
                        break;
                      }

                      _iteratorNormalCompletion132 = true;
                      _didIteratorError132 = false;
                      _iteratorError132 = undefined;
                      _context19.prev = 5;
                      _iterator132 = t.getAttributeKeys()[Symbol.iterator]();

                    case 7:
                      if (_iteratorNormalCompletion132 = (_step132 = _iterator132.next()).done) {
                        _context19.next = 16;
                        break;
                      }

                      e = _step132.value;

                      if (!e.startsWith(df)) {
                        _context19.next = 13;
                        break;
                      }

                      n = e.substr(df.length);
                      _context19.next = 13;
                      return [n, t.getAttribute(e)];

                    case 13:
                      _iteratorNormalCompletion132 = true;
                      _context19.next = 7;
                      break;

                    case 16:
                      _context19.next = 22;
                      break;

                    case 18:
                      _context19.prev = 18;
                      _context19.t0 = _context19["catch"](5);
                      _didIteratorError132 = true;
                      _iteratorError132 = _context19.t0;

                    case 22:
                      _context19.prev = 22;
                      _context19.prev = 23;

                      if (!_iteratorNormalCompletion132 && _iterator132.return != null) {
                        _iterator132.return();
                      }

                    case 25:
                      _context19.prev = 25;

                      if (!_didIteratorError132) {
                        _context19.next = 28;
                        break;
                      }

                      throw _iteratorError132;

                    case 28:
                      return _context19.finish(25);

                    case 29:
                      return _context19.finish(22);

                    case 30:
                    case "end":
                      return _context19.stop();
                  }
                }, _callee19, null, [[5, 18, 22, 30], [23,, 25, 29]]);
              })()
            );
          }

          _getSurroundingAttributes() {
            const t = this.getFirstPosition();
            const e = this._model.schema;
            let n = null;

            if (!this.isCollapsed) {
              const t = this.getFirstRange();
              var _iteratorNormalCompletion133 = true;
              var _didIteratorError133 = false;
              var _iteratorError133 = undefined;

              try {
                for (var _iterator133 = t[Symbol.iterator](), _step133; !(_iteratorNormalCompletion133 = (_step133 = _iterator133.next()).done); _iteratorNormalCompletion133 = true) {
                  const i = _step133.value;

                  if (i.item.is("element") && e.isObject(i.item)) {
                    break;
                  }

                  if (i.type == "text") {
                    n = i.item.getAttributes();
                    break;
                  }
                }
              } catch (err) {
                _didIteratorError133 = true;
                _iteratorError133 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion133 && _iterator133.return != null) {
                    _iterator133.return();
                  }
                } finally {
                  if (_didIteratorError133) {
                    throw _iteratorError133;
                  }
                }
              }
            } else {
              const e = t.textNode ? t.textNode : t.nodeBefore;
              const i = t.textNode ? t.textNode : t.nodeAfter;

              if (!this.isGravityOverridden) {
                n = ff(e);
              }

              if (!n) {
                n = ff(i);
              }

              if (!this.isGravityOverridden && !n) {
                let t = e;

                while (t && !n) {
                  t = t.previousSibling;
                  n = ff(t);
                }
              }

              if (!n) {
                let t = i;

                while (t && !n) {
                  t = t.nextSibling;
                  n = ff(t);
                }
              }

              if (!n) {
                n = this._getStoredAttributes();
              }
            }

            return n;
          }

          _fixGraveyardSelection(t, e) {
            const n = e.clone();

            const i = this._model.schema.getNearestSelectionRange(n);

            const o = this._ranges.indexOf(t);

            this._ranges.splice(o, 1);

            t.detach();

            if (i) {
              const t = this._prepareRange(i);

              this._ranges.splice(o, 0, t);
            }
          }

        }

        function ff(t) {
          if (t instanceof Bh || t instanceof Vh) {
            return t.getAttributes();
          }

          return null;
        }

        function mf(t, e) {
          const n = t.document.differ;
          var _iteratorNormalCompletion134 = true;
          var _didIteratorError134 = false;
          var _iteratorError134 = undefined;

          try {
            for (var _iterator134 = n.getChanges()[Symbol.iterator](), _step134; !(_iteratorNormalCompletion134 = (_step134 = _iterator134.next()).done); _iteratorNormalCompletion134 = true) {
              const i = _step134.value;

              if (i.type != "insert") {
                continue;
              }

              const n = i.position.parent;
              const o = i.length === n.maxOffset;

              if (o) {
                t.enqueueChange(e, t => {
                  const e = Array.from(n.getAttributeKeys()).filter(t => t.startsWith(df));
                  var _iteratorNormalCompletion135 = true;
                  var _didIteratorError135 = false;
                  var _iteratorError135 = undefined;

                  try {
                    for (var _iterator135 = e[Symbol.iterator](), _step135; !(_iteratorNormalCompletion135 = (_step135 = _iterator135.next()).done); _iteratorNormalCompletion135 = true) {
                      const i = _step135.value;
                      t.removeAttribute(i, n);
                    }
                  } catch (err) {
                    _didIteratorError135 = true;
                    _iteratorError135 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion135 && _iterator135.return != null) {
                        _iterator135.return();
                      }
                    } finally {
                      if (_didIteratorError135) {
                        throw _iteratorError135;
                      }
                    }
                  }
                });
              }
            }
          } catch (err) {
            _didIteratorError134 = true;
            _iteratorError134 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion134 && _iterator134.return != null) {
                _iterator134.return();
              }
            } finally {
              if (_didIteratorError134) {
                throw _iteratorError134;
              }
            }
          }
        }

        class gf {
          constructor(t) {
            this._dispatchers = t;
          }

          add(t) {
            var _iteratorNormalCompletion136 = true;
            var _didIteratorError136 = false;
            var _iteratorError136 = undefined;

            try {
              for (var _iterator136 = this._dispatchers[Symbol.iterator](), _step136; !(_iteratorNormalCompletion136 = (_step136 = _iterator136.next()).done); _iteratorNormalCompletion136 = true) {
                const e = _step136.value;
                t(e);
              }
            } catch (err) {
              _didIteratorError136 = true;
              _iteratorError136 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion136 && _iterator136.return != null) {
                  _iterator136.return();
                }
              } finally {
                if (_didIteratorError136) {
                  throw _iteratorError136;
                }
              }
            }

            return this;
          }

        }

        var pf = 1,
            bf = 4;

        function wf(t) {
          return Hs(t, pf | bf);
        }

        var _f = wf;

        class kf extends gf {
          elementToElement(t) {
            return this.add(Df(t));
          }

          attributeToElement(t) {
            return this.add(Lf(t));
          }

          attributeToAttribute(t) {
            return this.add(zf(t));
          }

          markerToElement(t) {
            return this.add(jf(t));
          }

          markerToHighlight(t) {
            return this.add(Vf(t));
          }

        }

        function vf() {
          return (t, e, n) => {
            if (!n.consumable.consume(e.item, "insert")) {
              return;
            }

            const i = n.writer;
            const o = n.mapper.toViewPosition(e.range.start);
            const s = i.createText(e.item.data);
            i.insert(o, s);
          };
        }

        function yf() {
          return (t, e, n) => {
            const i = n.mapper.toViewPosition(e.position);
            const o = e.position.getShiftedBy(e.length);
            const s = n.mapper.toViewPosition(o, {
              isPhantom: true
            });
            const r = n.writer.createRange(i, s);
            const a = n.writer.remove(r.getTrimmed());
            var _iteratorNormalCompletion137 = true;
            var _didIteratorError137 = false;
            var _iteratorError137 = undefined;

            try {
              for (var _iterator137 = n.writer.createRangeIn(a).getItems()[Symbol.iterator](), _step137; !(_iteratorNormalCompletion137 = (_step137 = _iterator137.next()).done); _iteratorNormalCompletion137 = true) {
                const t = _step137.value;
                n.mapper.unbindViewElement(t);
              }
            } catch (err) {
              _didIteratorError137 = true;
              _iteratorError137 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion137 && _iterator137.return != null) {
                  _iterator137.return();
                }
              } finally {
                if (_didIteratorError137) {
                  throw _iteratorError137;
                }
              }
            }
          };
        }

        function xf(t) {
          const e = new _l("span", t.attributes);

          if (t.classes) {
            e._addClass(t.classes);
          }

          if (t.priority) {
            e._priority = t.priority;
          }

          e._id = t.id;
          return e;
        }

        function Af() {
          return (t, e, n) => {
            const i = e.selection;

            if (i.isCollapsed) {
              return;
            }

            if (!n.consumable.consume(i, "selection")) {
              return;
            }

            const o = [];
            var _iteratorNormalCompletion138 = true;
            var _didIteratorError138 = false;
            var _iteratorError138 = undefined;

            try {
              for (var _iterator138 = i.getRanges()[Symbol.iterator](), _step138; !(_iteratorNormalCompletion138 = (_step138 = _iterator138.next()).done); _iteratorNormalCompletion138 = true) {
                const t = _step138.value;
                const e = n.mapper.toViewRange(t);
                o.push(e);
              }
            } catch (err) {
              _didIteratorError138 = true;
              _iteratorError138 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion138 && _iterator138.return != null) {
                  _iterator138.return();
                }
              } finally {
                if (_didIteratorError138) {
                  throw _iteratorError138;
                }
              }
            }

            n.writer.setSelection(o, {
              backward: i.isBackward
            });
          };
        }

        function Tf() {
          return (t, e, n) => {
            const i = e.selection;

            if (!i.isCollapsed) {
              return;
            }

            if (!n.consumable.consume(i, "selection")) {
              return;
            }

            const o = n.writer;
            const s = i.getFirstPosition();
            const r = n.mapper.toViewPosition(s);
            const a = o.breakAttributes(r);
            o.setSelection(a);
          };
        }

        function Cf() {
          return (t, e, n) => {
            const i = n.writer;
            const o = i.document.selection;
            var _iteratorNormalCompletion139 = true;
            var _didIteratorError139 = false;
            var _iteratorError139 = undefined;

            try {
              for (var _iterator139 = o.getRanges()[Symbol.iterator](), _step139; !(_iteratorNormalCompletion139 = (_step139 = _iterator139.next()).done); _iteratorNormalCompletion139 = true) {
                const t = _step139.value;

                if (t.isCollapsed) {
                  if (t.end.parent.document) {
                    n.writer.mergeAttributes(t.start);
                  }
                }
              }
            } catch (err) {
              _didIteratorError139 = true;
              _iteratorError139 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion139 && _iterator139.return != null) {
                  _iterator139.return();
                }
              } finally {
                if (_didIteratorError139) {
                  throw _iteratorError139;
                }
              }
            }

            i.setSelection(null);
          };
        }

        function Pf(t) {
          return (e, n, i) => {
            const o = t(n.attributeOldValue, i.writer);
            const s = t(n.attributeNewValue, i.writer);

            if (!o && !s) {
              return;
            }

            if (!i.consumable.consume(n.item, e.name)) {
              return;
            }

            const r = i.writer;
            const a = r.document.selection;

            if (n.item instanceof Xh || n.item instanceof uf) {
              r.wrap(a.getFirstRange(), s);
            } else {
              let t = i.mapper.toViewRange(n.range);

              if (n.attributeOldValue !== null && o) {
                t = r.unwrap(t, o);
              }

              if (n.attributeNewValue !== null && s) {
                r.wrap(t, s);
              }
            }
          };
        }

        function Sf(t) {
          return (e, n, i) => {
            const o = t(n.item, i.writer);

            if (!o) {
              return;
            }

            if (!i.consumable.consume(n.item, "insert")) {
              return;
            }

            const s = i.mapper.toViewPosition(n.range.start);
            i.mapper.bindElements(n.item, o);
            i.writer.insert(s, o);
          };
        }

        function Mf(t) {
          return (e, n, i) => {
            n.isOpening = true;
            const o = t(n, i.writer);
            n.isOpening = false;
            const s = t(n, i.writer);

            if (!o || !s) {
              return;
            }

            const r = n.markerRange;

            if (r.isCollapsed && !i.consumable.consume(r, e.name)) {
              return;
            }

            var _iteratorNormalCompletion140 = true;
            var _didIteratorError140 = false;
            var _iteratorError140 = undefined;

            try {
              for (var _iterator140 = r[Symbol.iterator](), _step140; !(_iteratorNormalCompletion140 = (_step140 = _iterator140.next()).done); _iteratorNormalCompletion140 = true) {
                const t = _step140.value;

                if (!i.consumable.consume(t.item, e.name)) {
                  return;
                }
              }
            } catch (err) {
              _didIteratorError140 = true;
              _iteratorError140 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion140 && _iterator140.return != null) {
                  _iterator140.return();
                }
              } finally {
                if (_didIteratorError140) {
                  throw _iteratorError140;
                }
              }
            }

            const a = i.mapper;
            const c = i.writer;
            c.insert(a.toViewPosition(r.start), o);
            i.mapper.bindElementToMarker(o, n.markerName);

            if (!r.isCollapsed) {
              c.insert(a.toViewPosition(r.end), s);
              i.mapper.bindElementToMarker(s, n.markerName);
            }

            e.stop();
          };
        }

        function Ef() {
          return (t, e, n) => {
            const i = n.mapper.markerNameToElements(e.markerName);

            if (!i) {
              return;
            }

            var _iteratorNormalCompletion141 = true;
            var _didIteratorError141 = false;
            var _iteratorError141 = undefined;

            try {
              for (var _iterator141 = i[Symbol.iterator](), _step141; !(_iteratorNormalCompletion141 = (_step141 = _iterator141.next()).done); _iteratorNormalCompletion141 = true) {
                const t = _step141.value;
                n.mapper.unbindElementFromMarkerName(t, e.markerName);
                n.writer.clear(n.writer.createRangeOn(t), t);
              }
            } catch (err) {
              _didIteratorError141 = true;
              _iteratorError141 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion141 && _iterator141.return != null) {
                  _iterator141.return();
                }
              } finally {
                if (_didIteratorError141) {
                  throw _iteratorError141;
                }
              }
            }

            n.writer.clearClonedElementsGroup(e.markerName);
            t.stop();
          };
        }

        function If(t) {
          return (e, n, i) => {
            const o = t(n.attributeOldValue, n);
            const s = t(n.attributeNewValue, n);

            if (!o && !s) {
              return;
            }

            if (!i.consumable.consume(n.item, e.name)) {
              return;
            }

            const r = i.mapper.toViewElement(n.item);
            const a = i.writer;

            if (!r) {
              throw new rr["b"]("conversion-attribute-to-attribute-on-text: " + "Trying to convert text node's attribute with attribute-to-attribute converter.", [n, i]);
            }

            if (n.attributeOldValue !== null && o) {
              if (o.key == "class") {
                const t = Array.isArray(o.value) ? o.value : [o.value];
                var _iteratorNormalCompletion142 = true;
                var _didIteratorError142 = false;
                var _iteratorError142 = undefined;

                try {
                  for (var _iterator142 = t[Symbol.iterator](), _step142; !(_iteratorNormalCompletion142 = (_step142 = _iterator142.next()).done); _iteratorNormalCompletion142 = true) {
                    const e = _step142.value;
                    a.removeClass(e, r);
                  }
                } catch (err) {
                  _didIteratorError142 = true;
                  _iteratorError142 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion142 && _iterator142.return != null) {
                      _iterator142.return();
                    }
                  } finally {
                    if (_didIteratorError142) {
                      throw _iteratorError142;
                    }
                  }
                }
              } else if (o.key == "style") {
                const t = Object.keys(o.value);

                for (var _i21 = 0, _t9 = t; _i21 < _t9.length; _i21++) {
                  const e = _t9[_i21];
                  a.removeStyle(e, r);
                }
              } else {
                a.removeAttribute(o.key, r);
              }
            }

            if (n.attributeNewValue !== null && s) {
              if (s.key == "class") {
                const t = Array.isArray(s.value) ? s.value : [s.value];
                var _iteratorNormalCompletion143 = true;
                var _didIteratorError143 = false;
                var _iteratorError143 = undefined;

                try {
                  for (var _iterator143 = t[Symbol.iterator](), _step143; !(_iteratorNormalCompletion143 = (_step143 = _iterator143.next()).done); _iteratorNormalCompletion143 = true) {
                    const e = _step143.value;
                    a.addClass(e, r);
                  }
                } catch (err) {
                  _didIteratorError143 = true;
                  _iteratorError143 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion143 && _iterator143.return != null) {
                      _iterator143.return();
                    }
                  } finally {
                    if (_didIteratorError143) {
                      throw _iteratorError143;
                    }
                  }
                }
              } else if (s.key == "style") {
                const t = Object.keys(s.value);

                for (var _i22 = 0, _t10 = t; _i22 < _t10.length; _i22++) {
                  const e = _t10[_i22];
                  a.setStyle(e, s.value[e], r);
                }
              } else {
                a.setAttribute(s.key, s.value, r);
              }
            }
          };
        }

        function Nf(t) {
          return (e, n, i) => {
            if (!n.item) {
              return;
            }

            if (!(n.item instanceof Xh || n.item instanceof uf) && !n.item.is("textProxy")) {
              return;
            }

            const o = Wf(t, n, i);

            if (!o) {
              return;
            }

            if (!i.consumable.consume(n.item, e.name)) {
              return;
            }

            const s = xf(o);
            const r = i.writer;
            const a = r.document.selection;

            if (n.item instanceof Xh || n.item instanceof uf) {
              r.wrap(a.getFirstRange(), s, a);
            } else {
              const t = i.mapper.toViewRange(n.range);
              const e = r.wrap(t, s);
              var _iteratorNormalCompletion144 = true;
              var _didIteratorError144 = false;
              var _iteratorError144 = undefined;

              try {
                for (var _iterator144 = e.getItems()[Symbol.iterator](), _step144; !(_iteratorNormalCompletion144 = (_step144 = _iterator144.next()).done); _iteratorNormalCompletion144 = true) {
                  const t = _step144.value;

                  if (t.is("attributeElement") && t.isSimilar(s)) {
                    i.mapper.bindElementToMarker(t, n.markerName);
                    break;
                  }
                }
              } catch (err) {
                _didIteratorError144 = true;
                _iteratorError144 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion144 && _iterator144.return != null) {
                    _iterator144.return();
                  }
                } finally {
                  if (_didIteratorError144) {
                    throw _iteratorError144;
                  }
                }
              }
            }
          };
        }

        function Of(t) {
          return (e, n, i) => {
            if (!n.item) {
              return;
            }

            if (!(n.item instanceof Hh)) {
              return;
            }

            const o = Wf(t, n, i);

            if (!o) {
              return;
            }

            if (!i.consumable.test(n.item, e.name)) {
              return;
            }

            const s = i.mapper.toViewElement(n.item);

            if (s && s.getCustomProperty("addHighlight")) {
              i.consumable.consume(n.item, e.name);
              var _iteratorNormalCompletion145 = true;
              var _didIteratorError145 = false;
              var _iteratorError145 = undefined;

              try {
                for (var _iterator145 = Yh._createIn(n.item)[Symbol.iterator](), _step145; !(_iteratorNormalCompletion145 = (_step145 = _iterator145.next()).done); _iteratorNormalCompletion145 = true) {
                  const t = _step145.value;
                  i.consumable.consume(t.item, e.name);
                }
              } catch (err) {
                _didIteratorError145 = true;
                _iteratorError145 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion145 && _iterator145.return != null) {
                    _iterator145.return();
                  }
                } finally {
                  if (_didIteratorError145) {
                    throw _iteratorError145;
                  }
                }
              }

              s.getCustomProperty("addHighlight")(s, o, i.writer);
              i.mapper.bindElementToMarker(s, n.markerName);
            }
          };
        }

        function Rf(t) {
          return (e, n, i) => {
            if (n.markerRange.isCollapsed) {
              return;
            }

            const o = Wf(t, n, i);

            if (!o) {
              return;
            }

            const s = xf(o);
            const r = i.mapper.markerNameToElements(n.markerName);

            if (!r) {
              return;
            }

            var _iteratorNormalCompletion146 = true;
            var _didIteratorError146 = false;
            var _iteratorError146 = undefined;

            try {
              for (var _iterator146 = r[Symbol.iterator](), _step146; !(_iteratorNormalCompletion146 = (_step146 = _iterator146.next()).done); _iteratorNormalCompletion146 = true) {
                const t = _step146.value;
                i.mapper.unbindElementFromMarkerName(t, n.markerName);

                if (t.is("attributeElement")) {
                  i.writer.unwrap(i.writer.createRangeOn(t), s);
                } else {
                  t.getCustomProperty("removeHighlight")(t, o.id, i.writer);
                }
              }
            } catch (err) {
              _didIteratorError146 = true;
              _iteratorError146 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion146 && _iterator146.return != null) {
                  _iterator146.return();
                }
              } finally {
                if (_didIteratorError146) {
                  throw _iteratorError146;
                }
              }
            }

            i.writer.clearClonedElementsGroup(n.markerName);
            e.stop();
          };
        }

        function Df(t) {
          t = _f(t);
          t.view = Bf(t.view, "container");
          return e => {
            e.on("insert:" + t.model, Sf(t.view), {
              priority: t.converterPriority || "normal"
            });
          };
        }

        function Lf(t) {
          t = _f(t);
          const e = t.model.key ? t.model.key : t.model;
          let n = "attribute:" + e;

          if (t.model.name) {
            n += ":" + t.model.name;
          }

          if (t.model.values) {
            var _iteratorNormalCompletion147 = true;
            var _didIteratorError147 = false;
            var _iteratorError147 = undefined;

            try {
              for (var _iterator147 = t.model.values[Symbol.iterator](), _step147; !(_iteratorNormalCompletion147 = (_step147 = _iterator147.next()).done); _iteratorNormalCompletion147 = true) {
                const e = _step147.value;
                t.view[e] = Bf(t.view[e], "attribute");
              }
            } catch (err) {
              _didIteratorError147 = true;
              _iteratorError147 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion147 && _iterator147.return != null) {
                  _iterator147.return();
                }
              } finally {
                if (_didIteratorError147) {
                  throw _iteratorError147;
                }
              }
            }
          } else {
            t.view = Bf(t.view, "attribute");
          }

          const i = Hf(t);
          return e => {
            e.on(n, Pf(i), {
              priority: t.converterPriority || "normal"
            });
          };
        }

        function zf(t) {
          t = _f(t);
          const e = t.model.key ? t.model.key : t.model;
          let n = "attribute:" + e;

          if (t.model.name) {
            n += ":" + t.model.name;
          }

          if (t.model.values) {
            var _iteratorNormalCompletion148 = true;
            var _didIteratorError148 = false;
            var _iteratorError148 = undefined;

            try {
              for (var _iterator148 = t.model.values[Symbol.iterator](), _step148; !(_iteratorNormalCompletion148 = (_step148 = _iterator148.next()).done); _iteratorNormalCompletion148 = true) {
                const e = _step148.value;
                t.view[e] = Uf(t.view[e]);
              }
            } catch (err) {
              _didIteratorError148 = true;
              _iteratorError148 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion148 && _iterator148.return != null) {
                  _iterator148.return();
                }
              } finally {
                if (_didIteratorError148) {
                  throw _iteratorError148;
                }
              }
            }
          } else {
            t.view = Uf(t.view);
          }

          const i = Hf(t);
          return e => {
            e.on(n, If(i), {
              priority: t.converterPriority || "normal"
            });
          };
        }

        function jf(t) {
          t = _f(t);
          t.view = Bf(t.view, "ui");
          return e => {
            e.on("addMarker:" + t.model, Mf(t.view), {
              priority: t.converterPriority || "normal"
            });
            e.on("removeMarker:" + t.model, Ef(t.view), {
              priority: t.converterPriority || "normal"
            });
          };
        }

        function Vf(t) {
          return e => {
            e.on("addMarker:" + t.model, Nf(t.view), {
              priority: t.converterPriority || "normal"
            });
            e.on("addMarker:" + t.model, Of(t.view), {
              priority: t.converterPriority || "normal"
            });
            e.on("removeMarker:" + t.model, Rf(t.view), {
              priority: t.converterPriority || "normal"
            });
          };
        }

        function Bf(t, e) {
          if (typeof t == "function") {
            return t;
          }

          return (n, i) => Ff(t, i, e);
        }

        function Ff(t, e, n) {
          if (typeof t == "string") {
            t = {
              name: t
            };
          }

          let i;
          const o = Object.assign({}, t.attributes);

          if (n == "container") {
            i = e.createContainerElement(t.name, o);
          } else if (n == "attribute") {
            const n = {
              priority: t.priority || _l.DEFAULT_PRIORITY
            };
            i = e.createAttributeElement(t.name, o, n);
          } else {
            i = e.createUIElement(t.name, o);
          }

          if (t.styles) {
            const n = Object.keys(t.styles);

            for (var _i23 = 0, _n2 = n; _i23 < _n2.length; _i23++) {
              const o = _n2[_i23];
              e.setStyle(o, t.styles[o], i);
            }
          }

          if (t.classes) {
            const n = t.classes;

            if (typeof n == "string") {
              e.addClass(n, i);
            } else {
              var _iteratorNormalCompletion149 = true;
              var _didIteratorError149 = false;
              var _iteratorError149 = undefined;

              try {
                for (var _iterator149 = n[Symbol.iterator](), _step149; !(_iteratorNormalCompletion149 = (_step149 = _iterator149.next()).done); _iteratorNormalCompletion149 = true) {
                  const t = _step149.value;
                  e.addClass(t, i);
                }
              } catch (err) {
                _didIteratorError149 = true;
                _iteratorError149 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion149 && _iterator149.return != null) {
                    _iterator149.return();
                  }
                } finally {
                  if (_didIteratorError149) {
                    throw _iteratorError149;
                  }
                }
              }
            }
          }

          return i;
        }

        function Hf(t) {
          if (t.model.values) {
            return (e, n) => {
              const i = t.view[e];

              if (i) {
                return i(e, n);
              }

              return null;
            };
          } else {
            return t.view;
          }
        }

        function Uf(t) {
          if (typeof t == "string") {
            return e => ({
              key: t,
              value: e
            });
          } else if (typeof t == "object") {
            if (t.value) {
              return () => t;
            } else {
              return e => ({
                key: t.key,
                value: e
              });
            }
          } else {
            return t;
          }
        }

        function Wf(t, e, n) {
          const i = typeof t == "function" ? t(e, n) : t;

          if (!i) {
            return null;
          }

          if (!i.priority) {
            i.priority = 10;
          }

          if (!i.id) {
            i.id = e.markerName;
          }

          return i;
        }

        class qf extends gf {
          elementToElement(t) {
            return this.add(Qf(t));
          }

          elementToAttribute(t) {
            return this.add(Kf(t));
          }

          attributeToAttribute(t) {
            return this.add(Jf(t));
          }

          elementToMarker(t) {
            return this.add(Zf(t));
          }

        }

        function $f() {
          return (t, e, n) => {
            if (!e.modelRange && n.consumable.consume(e.viewItem, {
              name: true
            })) {
              const _n$convertChildren = n.convertChildren(e.viewItem, e.modelCursor),
                    t = _n$convertChildren.modelRange,
                    i = _n$convertChildren.modelCursor;

              e.modelRange = t;
              e.modelCursor = i;
            }
          };
        }

        function Yf() {
          return (t, e, n) => {
            if (n.schema.checkChild(e.modelCursor, "$text")) {
              if (n.consumable.consume(e.viewItem)) {
                const t = n.writer.createText(e.viewItem.data);
                n.writer.insert(t, e.modelCursor);
                e.modelRange = Yh._createFromPositionAndShift(e.modelCursor, t.offsetSize);
                e.modelCursor = e.modelRange.end;
              }
            }
          };
        }

        function Gf(t, e) {
          return (n, i) => {
            const o = i.newSelection;
            const s = new Xh();
            const r = [];
            var _iteratorNormalCompletion150 = true;
            var _didIteratorError150 = false;
            var _iteratorError150 = undefined;

            try {
              for (var _iterator150 = o.getRanges()[Symbol.iterator](), _step150; !(_iteratorNormalCompletion150 = (_step150 = _iterator150.next()).done); _iteratorNormalCompletion150 = true) {
                const t = _step150.value;
                r.push(e.toModelRange(t));
              }
            } catch (err) {
              _didIteratorError150 = true;
              _iteratorError150 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion150 && _iterator150.return != null) {
                  _iterator150.return();
                }
              } finally {
                if (_didIteratorError150) {
                  throw _iteratorError150;
                }
              }
            }

            s.setTo(r, {
              backward: o.isBackward
            });

            if (!s.isEqual(t.document.selection)) {
              t.change(t => {
                t.setSelection(s);
              });
            }
          };
        }

        function Qf(t) {
          t = _f(t);
          const e = tm(t);
          const n = Xf(t.view);
          const i = n ? "element:" + n : "element";
          return n => {
            n.on(i, e, {
              priority: t.converterPriority || "normal"
            });
          };
        }

        function Kf(t) {
          t = _f(t);
          im(t);
          const e = om(t, false);
          const n = Xf(t.view);
          const i = n ? "element:" + n : "element";
          return n => {
            n.on(i, e, {
              priority: t.converterPriority || "low"
            });
          };
        }

        function Jf(t) {
          t = _f(t);
          let e = null;

          if (typeof t.view == "string" || t.view.key) {
            e = nm(t);
          }

          im(t, e);
          const n = om(t, true);
          return e => {
            e.on("element", n, {
              priority: t.converterPriority || "low"
            });
          };
        }

        function Zf(t) {
          t = _f(t);
          am(t);
          return Qf(t);
        }

        function Xf(t) {
          if (typeof t == "string") {
            return t;
          }

          if (typeof t == "object" && typeof t.name == "string") {
            return t.name;
          }

          return null;
        }

        function tm(t) {
          const e = t.view ? new Ur(t.view) : null;
          return (n, i, o) => {
            let s = {};

            if (e) {
              const t = e.match(i.viewItem);

              if (!t) {
                return;
              }

              s = t.match;
            }

            s.name = true;
            const r = em(t.model, i.viewItem, o.writer);

            if (!r) {
              return;
            }

            if (!o.consumable.test(i.viewItem, s)) {
              return;
            }

            const a = o.splitToAllowedParent(r, i.modelCursor);

            if (!a) {
              return;
            }

            o.writer.insert(r, a.position);
            o.convertChildren(i.viewItem, o.writer.createPositionAt(r, 0));
            o.consumable.consume(i.viewItem, s);
            const c = o.getSplitParts(r);
            i.modelRange = new Yh(o.writer.createPositionBefore(r), o.writer.createPositionAfter(c[c.length - 1]));

            if (a.cursorParent) {
              i.modelCursor = o.writer.createPositionAt(a.cursorParent, 0);
            } else {
              i.modelCursor = i.modelRange.end;
            }
          };
        }

        function em(t, e, n) {
          if (t instanceof Function) {
            return t(e, n);
          } else {
            return n.createElement(t);
          }
        }

        function nm(t) {
          if (typeof t.view == "string") {
            t.view = {
              key: t.view
            };
          }

          const e = t.view.key;
          let n;

          if (e == "class" || e == "style") {
            const i = e == "class" ? "classes" : "styles";
            n = {
              [i]: t.view.value
            };
          } else {
            const i = typeof t.view.value == "undefined" ? /[\s\S]*/ : t.view.value;
            n = {
              attributes: {
                [e]: i
              }
            };
          }

          if (t.view.name) {
            n.name = t.view.name;
          }

          t.view = n;
          return e;
        }

        function im(t, e = null) {
          const n = e === null ? true : t => t.getAttribute(e);
          const i = typeof t.model != "object" ? t.model : t.model.key;
          const o = typeof t.model != "object" || typeof t.model.value == "undefined" ? n : t.model.value;
          t.model = {
            key: i,
            value: o
          };
        }

        function om(t, e) {
          const n = new Ur(t.view);
          return (i, o, s) => {
            const r = n.match(o.viewItem);

            if (!r) {
              return;
            }

            const a = t.model.key;
            const c = typeof t.model.value == "function" ? t.model.value(o.viewItem) : t.model.value;

            if (c === null) {
              return;
            }

            if (sm(t.view, o.viewItem)) {
              r.match.name = true;
            } else {
              delete r.match.name;
            }

            if (!s.consumable.test(o.viewItem, r.match)) {
              return;
            }

            if (!o.modelRange) {
              o = Object.assign(o, s.convertChildren(o.viewItem, o.modelCursor));
            }

            const l = rm(o.modelRange, {
              key: a,
              value: c
            }, e, s);

            if (l) {
              s.consumable.consume(o.viewItem, r.match);
            }
          };
        }

        function sm(t, e) {
          const n = typeof t == "function" ? t(e) : t;

          if (typeof n == "object" && !Xf(n)) {
            return false;
          }

          return !n.classes && !n.attributes && !n.styles;
        }

        function rm(t, e, n, i) {
          let o = false;

          for (var _i24 = 0, _Array$from4 = Array.from(t.getItems({
            shallow: n
          })); _i24 < _Array$from4.length; _i24++) {
            const s = _Array$from4[_i24];

            if (i.schema.checkAttribute(s, e.key)) {
              i.writer.setAttribute(e.key, e.value, s);
              o = true;
            }
          }

          return o;
        }

        function am(t) {
          const e = t.model;

          t.model = (t, n) => {
            const i = typeof e == "string" ? e : e(t);
            return n.createElement("$marker", {
              "data-name": i
            });
          };
        }

        class cm {
          constructor(t) {
            this.model = t;
            this.view = new zh();
            this.mapper = new Gh();
            this.downcastDispatcher = new Jh({
              mapper: this.mapper
            });
            const e = this.model.document;
            const n = e.selection;
            const i = this.model.markers;
            this.listenTo(this.model, "_beforeChanges", () => {
              this.view._disableRendering(true);
            }, {
              priority: "highest"
            });
            this.listenTo(this.model, "_afterChanges", () => {
              this.view._disableRendering(false);
            }, {
              priority: "lowest"
            });
            this.listenTo(e, "change", () => {
              this.view.change(t => {
                this.downcastDispatcher.convertChanges(e.differ, i, t);
                this.downcastDispatcher.convertSelection(n, i, t);
              });
            }, {
              priority: "low"
            });
            this.listenTo(this.view.document, "selectionChange", Gf(this.model, this.mapper));
            this.downcastDispatcher.on("insert:$text", vf(), {
              priority: "lowest"
            });
            this.downcastDispatcher.on("remove", yf(), {
              priority: "low"
            });
            this.downcastDispatcher.on("selection", Cf(), {
              priority: "low"
            });
            this.downcastDispatcher.on("selection", Af(), {
              priority: "low"
            });
            this.downcastDispatcher.on("selection", Tf(), {
              priority: "low"
            });
            this.view.document.roots.bindTo(this.model.document.roots).using(t => {
              if (t.rootName == "$graveyard") {
                return null;
              }

              const e = new ll(t.name);
              e.rootName = t.rootName;
              e._document = this.view.document;
              this.mapper.bindElements(t, e);
              return e;
            });
          }

          destroy() {
            this.view.destroy();
            this.stopListening();
          }

        }

        vr(cm, Qc);

        class lm {
          constructor() {
            this._commands = new Map();
          }

          add(t, e) {
            this._commands.set(t, e);
          }

          get(t) {
            return this._commands.get(t);
          }

          execute(t, ...e) {
            const n = this.get(t);

            if (!n) {
              throw new rr["b"]("commandcollection-command-not-found: Command does not exist.", this, {
                commandName: t
              });
            }

            n.execute(...e);
          }

          names() {
            var _this20 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee20() {
                return regeneratorRuntime.wrap(function _callee20$(_context20) {
                  while (1) switch (_context20.prev = _context20.next) {
                    case 0:
                      return _context20.delegateYield(_this20._commands.keys(), "t0", 1);

                    case 1:
                    case "end":
                      return _context20.stop();
                  }
                }, _callee20);
              })()
            );
          }

          commands() {
            var _this21 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee21() {
                return regeneratorRuntime.wrap(function _callee21$(_context21) {
                  while (1) switch (_context21.prev = _context21.next) {
                    case 0:
                      return _context21.delegateYield(_this21._commands.values(), "t0", 1);

                    case 1:
                    case "end":
                      return _context21.stop();
                  }
                }, _callee21);
              })()
            );
          }

          [Symbol.iterator]() {
            return this._commands[Symbol.iterator]();
          }

          destroy() {
            var _iteratorNormalCompletion151 = true;
            var _didIteratorError151 = false;
            var _iteratorError151 = undefined;

            try {
              for (var _iterator151 = this.commands()[Symbol.iterator](), _step151; !(_iteratorNormalCompletion151 = (_step151 = _iterator151.next()).done); _iteratorNormalCompletion151 = true) {
                const t = _step151.value;
                t.destroy();
              }
            } catch (err) {
              _didIteratorError151 = true;
              _iteratorError151 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion151 && _iterator151.return != null) {
                  _iterator151.return();
                }
              } finally {
                if (_didIteratorError151) {
                  throw _iteratorError151;
                }
              }
            }
          }

        }

        class dm {
          constructor() {
            this._consumables = new Map();
          }

          add(t, e) {
            let n;

            if (t.is("text") || t.is("documentFragment")) {
              this._consumables.set(t, true);

              return;
            }

            if (!this._consumables.has(t)) {
              n = new um();

              this._consumables.set(t, n);
            } else {
              n = this._consumables.get(t);
            }

            n.add(e);
          }

          test(t, e) {
            const n = this._consumables.get(t);

            if (n === undefined) {
              return null;
            }

            if (t.is("text") || t.is("documentFragment")) {
              return n;
            }

            return n.test(e);
          }

          consume(t, e) {
            if (this.test(t, e)) {
              if (t.is("text") || t.is("documentFragment")) {
                this._consumables.set(t, false);
              } else {
                this._consumables.get(t).consume(e);
              }

              return true;
            }

            return false;
          }

          revert(t, e) {
            const n = this._consumables.get(t);

            if (n !== undefined) {
              if (t.is("text") || t.is("documentFragment")) {
                this._consumables.set(t, true);
              } else {
                n.revert(e);
              }
            }
          }

          static consumablesFromElement(t) {
            const e = {
              name: true,
              attributes: [],
              classes: [],
              styles: []
            };
            const n = t.getAttributeKeys();
            var _iteratorNormalCompletion152 = true;
            var _didIteratorError152 = false;
            var _iteratorError152 = undefined;

            try {
              for (var _iterator152 = n[Symbol.iterator](), _step152; !(_iteratorNormalCompletion152 = (_step152 = _iterator152.next()).done); _iteratorNormalCompletion152 = true) {
                const t = _step152.value;

                if (t == "style" || t == "class") {
                  continue;
                }

                e.attributes.push(t);
              }
            } catch (err) {
              _didIteratorError152 = true;
              _iteratorError152 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion152 && _iterator152.return != null) {
                  _iterator152.return();
                }
              } finally {
                if (_didIteratorError152) {
                  throw _iteratorError152;
                }
              }
            }

            const i = t.getClassNames();
            var _iteratorNormalCompletion153 = true;
            var _didIteratorError153 = false;
            var _iteratorError153 = undefined;

            try {
              for (var _iterator153 = i[Symbol.iterator](), _step153; !(_iteratorNormalCompletion153 = (_step153 = _iterator153.next()).done); _iteratorNormalCompletion153 = true) {
                const t = _step153.value;
                e.classes.push(t);
              }
            } catch (err) {
              _didIteratorError153 = true;
              _iteratorError153 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion153 && _iterator153.return != null) {
                  _iterator153.return();
                }
              } finally {
                if (_didIteratorError153) {
                  throw _iteratorError153;
                }
              }
            }

            const o = t.getStyleNames();
            var _iteratorNormalCompletion154 = true;
            var _didIteratorError154 = false;
            var _iteratorError154 = undefined;

            try {
              for (var _iterator154 = o[Symbol.iterator](), _step154; !(_iteratorNormalCompletion154 = (_step154 = _iterator154.next()).done); _iteratorNormalCompletion154 = true) {
                const t = _step154.value;
                e.styles.push(t);
              }
            } catch (err) {
              _didIteratorError154 = true;
              _iteratorError154 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion154 && _iterator154.return != null) {
                  _iterator154.return();
                }
              } finally {
                if (_didIteratorError154) {
                  throw _iteratorError154;
                }
              }
            }

            return e;
          }

          static createFrom(t, e) {
            if (!e) {
              e = new dm();
            }

            if (t.is("text")) {
              e.add(t);
              return e;
            }

            if (t.is("element")) {
              e.add(t, dm.consumablesFromElement(t));
            }

            if (t.is("documentFragment")) {
              e.add(t);
            }

            var _iteratorNormalCompletion155 = true;
            var _didIteratorError155 = false;
            var _iteratorError155 = undefined;

            try {
              for (var _iterator155 = t.getChildren()[Symbol.iterator](), _step155; !(_iteratorNormalCompletion155 = (_step155 = _iterator155.next()).done); _iteratorNormalCompletion155 = true) {
                const n = _step155.value;
                e = dm.createFrom(n, e);
              }
            } catch (err) {
              _didIteratorError155 = true;
              _iteratorError155 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion155 && _iterator155.return != null) {
                  _iterator155.return();
                }
              } finally {
                if (_didIteratorError155) {
                  throw _iteratorError155;
                }
              }
            }

            return e;
          }

        }

        class um {
          constructor() {
            this._canConsumeName = null;
            this._consumables = {
              attributes: new Map(),
              styles: new Map(),
              classes: new Map()
            };
          }

          add(t) {
            if (t.name) {
              this._canConsumeName = true;
            }

            for (const e in this._consumables) {
              if (e in t) {
                this._add(e, t[e]);
              }
            }
          }

          test(t) {
            if (t.name && !this._canConsumeName) {
              return this._canConsumeName;
            }

            for (const e in this._consumables) {
              if (e in t) {
                const n = this._test(e, t[e]);

                if (n !== true) {
                  return n;
                }
              }
            }

            return true;
          }

          consume(t) {
            if (t.name) {
              this._canConsumeName = false;
            }

            for (const e in this._consumables) {
              if (e in t) {
                this._consume(e, t[e]);
              }
            }
          }

          revert(t) {
            if (t.name) {
              this._canConsumeName = true;
            }

            for (const e in this._consumables) {
              if (e in t) {
                this._revert(e, t[e]);
              }
            }
          }

          _add(t, e) {
            const n = Qe(e) ? e : [e];
            const i = this._consumables[t];
            var _iteratorNormalCompletion156 = true;
            var _didIteratorError156 = false;
            var _iteratorError156 = undefined;

            try {
              for (var _iterator156 = n[Symbol.iterator](), _step156; !(_iteratorNormalCompletion156 = (_step156 = _iterator156.next()).done); _iteratorNormalCompletion156 = true) {
                const e = _step156.value;

                if (t === "attributes" && (e === "class" || e === "style")) {
                  throw new rr["b"]("viewconsumable-invalid-attribute: Classes and styles should be handled separately.", this);
                }

                i.set(e, true);

                if (t === "styles") {
                  var _iteratorNormalCompletion157 = true;
                  var _didIteratorError157 = false;
                  var _iteratorError157 = undefined;

                  try {
                    for (var _iterator157 = Nc.getRelatedStyles(e)[Symbol.iterator](), _step157; !(_iteratorNormalCompletion157 = (_step157 = _iterator157.next()).done); _iteratorNormalCompletion157 = true) {
                      const t = _step157.value;
                      i.set(t, true);
                    }
                  } catch (err) {
                    _didIteratorError157 = true;
                    _iteratorError157 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion157 && _iterator157.return != null) {
                        _iterator157.return();
                      }
                    } finally {
                      if (_didIteratorError157) {
                        throw _iteratorError157;
                      }
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError156 = true;
              _iteratorError156 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion156 && _iterator156.return != null) {
                  _iterator156.return();
                }
              } finally {
                if (_didIteratorError156) {
                  throw _iteratorError156;
                }
              }
            }
          }

          _test(t, e) {
            const n = Qe(e) ? e : [e];
            const i = this._consumables[t];
            var _iteratorNormalCompletion158 = true;
            var _didIteratorError158 = false;
            var _iteratorError158 = undefined;

            try {
              for (var _iterator158 = n[Symbol.iterator](), _step158; !(_iteratorNormalCompletion158 = (_step158 = _iterator158.next()).done); _iteratorNormalCompletion158 = true) {
                const e = _step158.value;

                if (t === "attributes" && (e === "class" || e === "style")) {
                  const t = e == "class" ? "classes" : "styles";

                  const n = this._test(t, [...this._consumables[t].keys()]);

                  if (n !== true) {
                    return n;
                  }
                } else {
                  const t = i.get(e);

                  if (t === undefined) {
                    return null;
                  }

                  if (!t) {
                    return false;
                  }
                }
              }
            } catch (err) {
              _didIteratorError158 = true;
              _iteratorError158 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion158 && _iterator158.return != null) {
                  _iterator158.return();
                }
              } finally {
                if (_didIteratorError158) {
                  throw _iteratorError158;
                }
              }
            }

            return true;
          }

          _consume(t, e) {
            const n = Qe(e) ? e : [e];
            const i = this._consumables[t];
            var _iteratorNormalCompletion159 = true;
            var _didIteratorError159 = false;
            var _iteratorError159 = undefined;

            try {
              for (var _iterator159 = n[Symbol.iterator](), _step159; !(_iteratorNormalCompletion159 = (_step159 = _iterator159.next()).done); _iteratorNormalCompletion159 = true) {
                const e = _step159.value;

                if (t === "attributes" && (e === "class" || e === "style")) {
                  const t = e == "class" ? "classes" : "styles";

                  this._consume(t, [...this._consumables[t].keys()]);
                } else {
                  i.set(e, false);

                  if (t == "styles") {
                    var _iteratorNormalCompletion160 = true;
                    var _didIteratorError160 = false;
                    var _iteratorError160 = undefined;

                    try {
                      for (var _iterator160 = Nc.getRelatedStyles(e)[Symbol.iterator](), _step160; !(_iteratorNormalCompletion160 = (_step160 = _iterator160.next()).done); _iteratorNormalCompletion160 = true) {
                        const t = _step160.value;
                        i.set(t, false);
                      }
                    } catch (err) {
                      _didIteratorError160 = true;
                      _iteratorError160 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion160 && _iterator160.return != null) {
                          _iterator160.return();
                        }
                      } finally {
                        if (_didIteratorError160) {
                          throw _iteratorError160;
                        }
                      }
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError159 = true;
              _iteratorError159 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion159 && _iterator159.return != null) {
                  _iterator159.return();
                }
              } finally {
                if (_didIteratorError159) {
                  throw _iteratorError159;
                }
              }
            }
          }

          _revert(t, e) {
            const n = Qe(e) ? e : [e];
            const i = this._consumables[t];
            var _iteratorNormalCompletion161 = true;
            var _didIteratorError161 = false;
            var _iteratorError161 = undefined;

            try {
              for (var _iterator161 = n[Symbol.iterator](), _step161; !(_iteratorNormalCompletion161 = (_step161 = _iterator161.next()).done); _iteratorNormalCompletion161 = true) {
                const e = _step161.value;

                if (t === "attributes" && (e === "class" || e === "style")) {
                  const t = e == "class" ? "classes" : "styles";

                  this._revert(t, [...this._consumables[t].keys()]);
                } else {
                  const t = i.get(e);

                  if (t === false) {
                    i.set(e, true);
                  }
                }
              }
            } catch (err) {
              _didIteratorError161 = true;
              _iteratorError161 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion161 && _iterator161.return != null) {
                  _iterator161.return();
                }
              } finally {
                if (_didIteratorError161) {
                  throw _iteratorError161;
                }
              }
            }
          }

        }

        class hm {
          constructor() {
            this._sourceDefinitions = {};
            this._attributeProperties = {};
            this.decorate("checkChild");
            this.decorate("checkAttribute");
            this.on("checkAttribute", (t, e) => {
              e[0] = new fm(e[0]);
            }, {
              priority: "highest"
            });
            this.on("checkChild", (t, e) => {
              e[0] = new fm(e[0]);
              e[1] = this.getDefinition(e[1]);
            }, {
              priority: "highest"
            });
          }

          register(t, e) {
            if (this._sourceDefinitions[t]) {
              throw new rr["b"]("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.", this, {
                itemName: t
              });
            }

            this._sourceDefinitions[t] = [Object.assign({}, e)];

            this._clearCache();
          }

          extend(t, e) {
            if (!this._sourceDefinitions[t]) {
              throw new rr["b"]("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.", this, {
                itemName: t
              });
            }

            this._sourceDefinitions[t].push(Object.assign({}, e));

            this._clearCache();
          }

          getDefinitions() {
            if (!this._compiledDefinitions) {
              this._compile();
            }

            return this._compiledDefinitions;
          }

          getDefinition(t) {
            let e;

            if (typeof t == "string") {
              e = t;
            } else if (t.is && (t.is("text") || t.is("textProxy"))) {
              e = "$text";
            } else {
              e = t.name;
            }

            return this.getDefinitions()[e];
          }

          isRegistered(t) {
            return !!this.getDefinition(t);
          }

          isBlock(t) {
            const e = this.getDefinition(t);
            return !!(e && e.isBlock);
          }

          isLimit(t) {
            const e = this.getDefinition(t);

            if (!e) {
              return false;
            }

            return !!(e.isLimit || e.isObject);
          }

          isObject(t) {
            const e = this.getDefinition(t);
            return !!(e && e.isObject);
          }

          isInline(t) {
            const e = this.getDefinition(t);
            return !!(e && e.isInline);
          }

          checkChild(t, e) {
            if (!e) {
              return false;
            }

            return this._checkContextMatch(e, t);
          }

          checkAttribute(t, e) {
            const n = this.getDefinition(t.last);

            if (!n) {
              return false;
            }

            return n.allowAttributes.includes(e);
          }

          checkMerge(t, e = null) {
            if (t instanceof $h) {
              const e = t.nodeBefore;
              const n = t.nodeAfter;

              if (!(e instanceof Hh)) {
                throw new rr["b"]("schema-check-merge-no-element-before: The node before the merge position must be an element.", this);
              }

              if (!(n instanceof Hh)) {
                throw new rr["b"]("schema-check-merge-no-element-after: The node after the merge position must be an element.", this);
              }

              return this.checkMerge(e, n);
            }

            var _iteratorNormalCompletion162 = true;
            var _didIteratorError162 = false;
            var _iteratorError162 = undefined;

            try {
              for (var _iterator162 = e.getChildren()[Symbol.iterator](), _step162; !(_iteratorNormalCompletion162 = (_step162 = _iterator162.next()).done); _iteratorNormalCompletion162 = true) {
                const n = _step162.value;

                if (!this.checkChild(t, n)) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError162 = true;
              _iteratorError162 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion162 && _iterator162.return != null) {
                  _iterator162.return();
                }
              } finally {
                if (_didIteratorError162) {
                  throw _iteratorError162;
                }
              }
            }

            return true;
          }

          addChildCheck(t) {
            this.on("checkChild", (e, [n, i]) => {
              if (!i) {
                return;
              }

              const o = t(n, i);

              if (typeof o == "boolean") {
                e.stop();
                e.return = o;
              }
            }, {
              priority: "high"
            });
          }

          addAttributeCheck(t) {
            this.on("checkAttribute", (e, [n, i]) => {
              const o = t(n, i);

              if (typeof o == "boolean") {
                e.stop();
                e.return = o;
              }
            }, {
              priority: "high"
            });
          }

          setAttributeProperties(t, e) {
            this._attributeProperties[t] = Object.assign(this.getAttributeProperties(t), e);
          }

          getAttributeProperties(t) {
            return this._attributeProperties[t] || {};
          }

          getLimitElement(t) {
            let e;

            if (t instanceof $h) {
              e = t.parent;
            } else {
              const n = t instanceof Yh ? [t] : Array.from(t.getRanges());
              e = n.reduce((t, e) => {
                const n = e.getCommonAncestor();

                if (!t) {
                  return n;
                }

                return t.getCommonAncestor(n, {
                  includeSelf: true
                });
              }, null);
            }

            while (!this.isLimit(e)) {
              if (e.parent) {
                e = e.parent;
              } else {
                break;
              }
            }

            return e;
          }

          checkAttributeInSelection(t, e) {
            if (t.isCollapsed) {
              const n = t.getFirstPosition();
              const i = [...n.getAncestors(), new Vh("", t.getAttributes())];
              return this.checkAttribute(i, e);
            } else {
              const n = t.getRanges();
              var _iteratorNormalCompletion163 = true;
              var _didIteratorError163 = false;
              var _iteratorError163 = undefined;

              try {
                for (var _iterator163 = n[Symbol.iterator](), _step163; !(_iteratorNormalCompletion163 = (_step163 = _iterator163.next()).done); _iteratorNormalCompletion163 = true) {
                  const t = _step163.value;
                  var _iteratorNormalCompletion164 = true;
                  var _didIteratorError164 = false;
                  var _iteratorError164 = undefined;

                  try {
                    for (var _iterator164 = t[Symbol.iterator](), _step164; !(_iteratorNormalCompletion164 = (_step164 = _iterator164.next()).done); _iteratorNormalCompletion164 = true) {
                      const n = _step164.value;

                      if (this.checkAttribute(n.item, e)) {
                        return true;
                      }
                    }
                  } catch (err) {
                    _didIteratorError164 = true;
                    _iteratorError164 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion164 && _iterator164.return != null) {
                        _iterator164.return();
                      }
                    } finally {
                      if (_didIteratorError164) {
                        throw _iteratorError164;
                      }
                    }
                  }
                }
              } catch (err) {
                _didIteratorError163 = true;
                _iteratorError163 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion163 && _iterator163.return != null) {
                    _iterator163.return();
                  }
                } finally {
                  if (_didIteratorError163) {
                    throw _iteratorError163;
                  }
                }
              }
            }

            return false;
          }

          getValidRanges(t, e) {
            var _this22 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee22() {
                var _iteratorNormalCompletion165, _didIteratorError165, _iteratorError165, _iterator165, _step165, n;

                return regeneratorRuntime.wrap(function _callee22$(_context22) {
                  while (1) switch (_context22.prev = _context22.next) {
                    case 0:
                      t = Sm(t);
                      _iteratorNormalCompletion165 = true;
                      _didIteratorError165 = false;
                      _iteratorError165 = undefined;
                      _context22.prev = 4;
                      _iterator165 = t[Symbol.iterator]();

                    case 6:
                      if (_iteratorNormalCompletion165 = (_step165 = _iterator165.next()).done) {
                        _context22.next = 12;
                        break;
                      }

                      n = _step165.value;
                      return _context22.delegateYield(_this22._getValidRangesForRange(n, e), "t0", 9);

                    case 9:
                      _iteratorNormalCompletion165 = true;
                      _context22.next = 6;
                      break;

                    case 12:
                      _context22.next = 18;
                      break;

                    case 14:
                      _context22.prev = 14;
                      _context22.t1 = _context22["catch"](4);
                      _didIteratorError165 = true;
                      _iteratorError165 = _context22.t1;

                    case 18:
                      _context22.prev = 18;
                      _context22.prev = 19;

                      if (!_iteratorNormalCompletion165 && _iterator165.return != null) {
                        _iterator165.return();
                      }

                    case 21:
                      _context22.prev = 21;

                      if (!_didIteratorError165) {
                        _context22.next = 24;
                        break;
                      }

                      throw _iteratorError165;

                    case 24:
                      return _context22.finish(21);

                    case 25:
                      return _context22.finish(18);

                    case 26:
                    case "end":
                      return _context22.stop();
                  }
                }, _callee22, null, [[4, 14, 18, 26], [19,, 21, 25]]);
              })()
            );
          }

          getNearestSelectionRange(t, e = "both") {
            if (this.checkChild(t, "$text")) {
              return new Yh(t);
            }

            let n, i;

            if (e == "both" || e == "backward") {
              n = new Wh({
                startPosition: t,
                direction: "backward"
              });
            }

            if (e == "both" || e == "forward") {
              i = new Wh({
                startPosition: t
              });
            }

            var _iteratorNormalCompletion166 = true;
            var _didIteratorError166 = false;
            var _iteratorError166 = undefined;

            try {
              for (var _iterator166 = Pm(n, i)[Symbol.iterator](), _step166; !(_iteratorNormalCompletion166 = (_step166 = _iterator166.next()).done); _iteratorNormalCompletion166 = true) {
                const t = _step166.value;
                const e = t.walker == n ? "elementEnd" : "elementStart";
                const i = t.value;

                if (i.type == e && this.isObject(i.item)) {
                  return Yh._createOn(i.item);
                }

                if (this.checkChild(i.nextPosition, "$text")) {
                  return new Yh(i.nextPosition);
                }
              }
            } catch (err) {
              _didIteratorError166 = true;
              _iteratorError166 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion166 && _iterator166.return != null) {
                  _iterator166.return();
                }
              } finally {
                if (_didIteratorError166) {
                  throw _iteratorError166;
                }
              }
            }

            return null;
          }

          findAllowedParent(t, e) {
            let n = t.parent;

            while (n) {
              if (this.checkChild(n, e)) {
                return n;
              }

              if (this.isLimit(n)) {
                return null;
              }

              n = n.parent;
            }

            return null;
          }

          removeDisallowedAttributes(t, e) {
            var _iteratorNormalCompletion167 = true;
            var _didIteratorError167 = false;
            var _iteratorError167 = undefined;

            try {
              for (var _iterator167 = t[Symbol.iterator](), _step167; !(_iteratorNormalCompletion167 = (_step167 = _iterator167.next()).done); _iteratorNormalCompletion167 = true) {
                const n = _step167.value;

                if (n.is("text")) {
                  Mm(this, n, e);
                } else {
                  const t = Yh._createIn(n);

                  const i = t.getPositions();
                  var _iteratorNormalCompletion168 = true;
                  var _didIteratorError168 = false;
                  var _iteratorError168 = undefined;

                  try {
                    for (var _iterator168 = i[Symbol.iterator](), _step168; !(_iteratorNormalCompletion168 = (_step168 = _iterator168.next()).done); _iteratorNormalCompletion168 = true) {
                      const t = _step168.value;
                      const n = t.nodeBefore || t.parent;
                      Mm(this, n, e);
                    }
                  } catch (err) {
                    _didIteratorError168 = true;
                    _iteratorError168 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion168 && _iterator168.return != null) {
                        _iterator168.return();
                      }
                    } finally {
                      if (_didIteratorError168) {
                        throw _iteratorError168;
                      }
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError167 = true;
              _iteratorError167 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion167 && _iterator167.return != null) {
                  _iterator167.return();
                }
              } finally {
                if (_didIteratorError167) {
                  throw _iteratorError167;
                }
              }
            }
          }

          createContext(t) {
            return new fm(t);
          }

          _clearCache() {
            this._compiledDefinitions = null;
          }

          _compile() {
            const t = {};
            const e = this._sourceDefinitions;
            const n = Object.keys(e);

            for (var _i25 = 0, _n3 = n; _i25 < _n3.length; _i25++) {
              const i = _n3[_i25];
              t[i] = mm(e[i], i);
            }

            for (var _i26 = 0, _n4 = n; _i26 < _n4.length; _i26++) {
              const e = _n4[_i26];
              gm(t, e);
            }

            for (var _i27 = 0, _n5 = n; _i27 < _n5.length; _i27++) {
              const e = _n5[_i27];
              pm(t, e);
            }

            for (var _i28 = 0, _n6 = n; _i28 < _n6.length; _i28++) {
              const e = _n6[_i28];
              bm(t, e);
              wm(t, e);
            }

            for (var _i29 = 0, _n7 = n; _i29 < _n7.length; _i29++) {
              const e = _n7[_i29];

              _m(t, e);

              km(t, e);
            }

            this._compiledDefinitions = t;
          }

          _checkContextMatch(t, e, n = e.length - 1) {
            const i = e.getItem(n);

            if (t.allowIn.includes(i.name)) {
              if (n == 0) {
                return true;
              } else {
                const t = this.getDefinition(i);
                return this._checkContextMatch(t, e, n - 1);
              }
            } else {
              return false;
            }
          }

          _getValidRangesForRange(t, e) {
            var _this23 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee23() {
                var n, i, _iteratorNormalCompletion169, _didIteratorError169, _iteratorError169, _iterator169, _step169, o;

                return regeneratorRuntime.wrap(function _callee23$(_context23) {
                  while (1) switch (_context23.prev = _context23.next) {
                    case 0:
                      n = t.start;
                      i = t.start;
                      _iteratorNormalCompletion169 = true;
                      _didIteratorError169 = false;
                      _iteratorError169 = undefined;
                      _context23.prev = 5;
                      _iterator169 = t.getItems({
                        shallow: true
                      })[Symbol.iterator]();

                    case 7:
                      if (_iteratorNormalCompletion169 = (_step169 = _iterator169.next()).done) {
                        _context23.next = 20;
                        break;
                      }

                      o = _step169.value;

                      if (!o.is("element")) {
                        _context23.next = 11;
                        break;
                      }

                      return _context23.delegateYield(_this23._getValidRangesForRange(Yh._createIn(o), e), "t0", 11);

                    case 11:
                      if (_this23.checkAttribute(o, e)) {
                        _context23.next = 16;
                        break;
                      }

                      if (n.isEqual(i)) {
                        _context23.next = 15;
                        break;
                      }

                      _context23.next = 15;
                      return new Yh(n, i);

                    case 15:
                      n = $h._createAfter(o);

                    case 16:
                      i = $h._createAfter(o);

                    case 17:
                      _iteratorNormalCompletion169 = true;
                      _context23.next = 7;
                      break;

                    case 20:
                      _context23.next = 26;
                      break;

                    case 22:
                      _context23.prev = 22;
                      _context23.t1 = _context23["catch"](5);
                      _didIteratorError169 = true;
                      _iteratorError169 = _context23.t1;

                    case 26:
                      _context23.prev = 26;
                      _context23.prev = 27;

                      if (!_iteratorNormalCompletion169 && _iterator169.return != null) {
                        _iterator169.return();
                      }

                    case 29:
                      _context23.prev = 29;

                      if (!_didIteratorError169) {
                        _context23.next = 32;
                        break;
                      }

                      throw _iteratorError169;

                    case 32:
                      return _context23.finish(29);

                    case 33:
                      return _context23.finish(26);

                    case 34:
                      if (n.isEqual(i)) {
                        _context23.next = 37;
                        break;
                      }

                      _context23.next = 37;
                      return new Yh(n, i);

                    case 37:
                    case "end":
                      return _context23.stop();
                  }
                }, _callee23, null, [[5, 22, 26, 34], [27,, 29, 33]]);
              })()
            );
          }

        }

        vr(hm, Qc);

        class fm {
          constructor(t) {
            if (t instanceof fm) {
              return t;
            }

            if (typeof t == "string") {
              t = [t];
            } else if (!Array.isArray(t)) {
              t = t.getAncestors({
                includeSelf: true
              });
            }

            if (t[0] && typeof t[0] != "string" && t[0].is("documentFragment")) {
              t.shift();
            }

            this._items = t.map(Cm);
          }

          get length() {
            return this._items.length;
          }

          get last() {
            return this._items[this._items.length - 1];
          }

          [Symbol.iterator]() {
            return this._items[Symbol.iterator]();
          }

          push(t) {
            const e = new fm([t]);
            e._items = [...this._items, ...e._items];
            return e;
          }

          getItem(t) {
            return this._items[t];
          }

          getNames() {
            var _this24 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee24() {
                return regeneratorRuntime.wrap(function _callee24$(_context24) {
                  while (1) switch (_context24.prev = _context24.next) {
                    case 0:
                      return _context24.delegateYield(_this24._items.map(t => t.name), "t0", 1);

                    case 1:
                    case "end":
                      return _context24.stop();
                  }
                }, _callee24);
              })()
            );
          }

          endsWith(t) {
            return Array.from(this.getNames()).join(" ").endsWith(t);
          }

          startsWith(t) {
            return Array.from(this.getNames()).join(" ").startsWith(t);
          }

        }

        function mm(t, e) {
          const n = {
            name: e,
            allowIn: [],
            allowContentOf: [],
            allowWhere: [],
            allowAttributes: [],
            allowAttributesOf: [],
            inheritTypesFrom: []
          };
          vm(t, n);
          ym(t, n, "allowIn");
          ym(t, n, "allowContentOf");
          ym(t, n, "allowWhere");
          ym(t, n, "allowAttributes");
          ym(t, n, "allowAttributesOf");
          ym(t, n, "inheritTypesFrom");
          xm(t, n);
          return n;
        }

        function gm(t, e) {
          var _iteratorNormalCompletion170 = true;
          var _didIteratorError170 = false;
          var _iteratorError170 = undefined;

          try {
            for (var _iterator170 = t[e].allowContentOf[Symbol.iterator](), _step170; !(_iteratorNormalCompletion170 = (_step170 = _iterator170.next()).done); _iteratorNormalCompletion170 = true) {
              const n = _step170.value;

              if (t[n]) {
                const i = Am(t, n);
                i.forEach(t => {
                  t.allowIn.push(e);
                });
              }
            }
          } catch (err) {
            _didIteratorError170 = true;
            _iteratorError170 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion170 && _iterator170.return != null) {
                _iterator170.return();
              }
            } finally {
              if (_didIteratorError170) {
                throw _iteratorError170;
              }
            }
          }

          delete t[e].allowContentOf;
        }

        function pm(t, e) {
          var _iteratorNormalCompletion171 = true;
          var _didIteratorError171 = false;
          var _iteratorError171 = undefined;

          try {
            for (var _iterator171 = t[e].allowWhere[Symbol.iterator](), _step171; !(_iteratorNormalCompletion171 = (_step171 = _iterator171.next()).done); _iteratorNormalCompletion171 = true) {
              const n = _step171.value;
              const i = t[n];

              if (i) {
                const n = i.allowIn;
                t[e].allowIn.push(...n);
              }
            }
          } catch (err) {
            _didIteratorError171 = true;
            _iteratorError171 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion171 && _iterator171.return != null) {
                _iterator171.return();
              }
            } finally {
              if (_didIteratorError171) {
                throw _iteratorError171;
              }
            }
          }

          delete t[e].allowWhere;
        }

        function bm(t, e) {
          var _iteratorNormalCompletion172 = true;
          var _didIteratorError172 = false;
          var _iteratorError172 = undefined;

          try {
            for (var _iterator172 = t[e].allowAttributesOf[Symbol.iterator](), _step172; !(_iteratorNormalCompletion172 = (_step172 = _iterator172.next()).done); _iteratorNormalCompletion172 = true) {
              const n = _step172.value;
              const i = t[n];

              if (i) {
                const n = i.allowAttributes;
                t[e].allowAttributes.push(...n);
              }
            }
          } catch (err) {
            _didIteratorError172 = true;
            _iteratorError172 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion172 && _iterator172.return != null) {
                _iterator172.return();
              }
            } finally {
              if (_didIteratorError172) {
                throw _iteratorError172;
              }
            }
          }

          delete t[e].allowAttributesOf;
        }

        function wm(t, e) {
          const n = t[e];
          var _iteratorNormalCompletion173 = true;
          var _didIteratorError173 = false;
          var _iteratorError173 = undefined;

          try {
            for (var _iterator173 = n.inheritTypesFrom[Symbol.iterator](), _step173; !(_iteratorNormalCompletion173 = (_step173 = _iterator173.next()).done); _iteratorNormalCompletion173 = true) {
              const e = _step173.value;
              const i = t[e];

              if (i) {
                const t = Object.keys(i).filter(t => t.startsWith("is"));
                var _iteratorNormalCompletion174 = true;
                var _didIteratorError174 = false;
                var _iteratorError174 = undefined;

                try {
                  for (var _iterator174 = t[Symbol.iterator](), _step174; !(_iteratorNormalCompletion174 = (_step174 = _iterator174.next()).done); _iteratorNormalCompletion174 = true) {
                    const e = _step174.value;

                    if (!(e in n)) {
                      n[e] = i[e];
                    }
                  }
                } catch (err) {
                  _didIteratorError174 = true;
                  _iteratorError174 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion174 && _iterator174.return != null) {
                      _iterator174.return();
                    }
                  } finally {
                    if (_didIteratorError174) {
                      throw _iteratorError174;
                    }
                  }
                }
              }
            }
          } catch (err) {
            _didIteratorError173 = true;
            _iteratorError173 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion173 && _iterator173.return != null) {
                _iterator173.return();
              }
            } finally {
              if (_didIteratorError173) {
                throw _iteratorError173;
              }
            }
          }

          delete n.inheritTypesFrom;
        }

        function _m(t, e) {
          const n = t[e];
          const i = n.allowIn.filter(e => t[e]);
          n.allowIn = Array.from(new Set(i));
        }

        function km(t, e) {
          const n = t[e];
          n.allowAttributes = Array.from(new Set(n.allowAttributes));
        }

        function vm(t, e) {
          var _iteratorNormalCompletion175 = true;
          var _didIteratorError175 = false;
          var _iteratorError175 = undefined;

          try {
            for (var _iterator175 = t[Symbol.iterator](), _step175; !(_iteratorNormalCompletion175 = (_step175 = _iterator175.next()).done); _iteratorNormalCompletion175 = true) {
              const n = _step175.value;
              const t = Object.keys(n).filter(t => t.startsWith("is"));
              var _iteratorNormalCompletion176 = true;
              var _didIteratorError176 = false;
              var _iteratorError176 = undefined;

              try {
                for (var _iterator176 = t[Symbol.iterator](), _step176; !(_iteratorNormalCompletion176 = (_step176 = _iterator176.next()).done); _iteratorNormalCompletion176 = true) {
                  const i = _step176.value;
                  e[i] = n[i];
                }
              } catch (err) {
                _didIteratorError176 = true;
                _iteratorError176 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion176 && _iterator176.return != null) {
                    _iterator176.return();
                  }
                } finally {
                  if (_didIteratorError176) {
                    throw _iteratorError176;
                  }
                }
              }
            }
          } catch (err) {
            _didIteratorError175 = true;
            _iteratorError175 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion175 && _iterator175.return != null) {
                _iterator175.return();
              }
            } finally {
              if (_didIteratorError175) {
                throw _iteratorError175;
              }
            }
          }
        }

        function ym(t, e, n) {
          var _iteratorNormalCompletion177 = true;
          var _didIteratorError177 = false;
          var _iteratorError177 = undefined;

          try {
            for (var _iterator177 = t[Symbol.iterator](), _step177; !(_iteratorNormalCompletion177 = (_step177 = _iterator177.next()).done); _iteratorNormalCompletion177 = true) {
              const i = _step177.value;

              if (typeof i[n] == "string") {
                e[n].push(i[n]);
              } else if (Array.isArray(i[n])) {
                e[n].push(...i[n]);
              }
            }
          } catch (err) {
            _didIteratorError177 = true;
            _iteratorError177 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion177 && _iterator177.return != null) {
                _iterator177.return();
              }
            } finally {
              if (_didIteratorError177) {
                throw _iteratorError177;
              }
            }
          }
        }

        function xm(t, e) {
          var _iteratorNormalCompletion178 = true;
          var _didIteratorError178 = false;
          var _iteratorError178 = undefined;

          try {
            for (var _iterator178 = t[Symbol.iterator](), _step178; !(_iteratorNormalCompletion178 = (_step178 = _iterator178.next()).done); _iteratorNormalCompletion178 = true) {
              const n = _step178.value;
              const t = n.inheritAllFrom;

              if (t) {
                e.allowContentOf.push(t);
                e.allowWhere.push(t);
                e.allowAttributesOf.push(t);
                e.inheritTypesFrom.push(t);
              }
            }
          } catch (err) {
            _didIteratorError178 = true;
            _iteratorError178 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion178 && _iterator178.return != null) {
                _iterator178.return();
              }
            } finally {
              if (_didIteratorError178) {
                throw _iteratorError178;
              }
            }
          }
        }

        function Am(t, e) {
          const n = t[e];
          return Tm(t).filter(t => t.allowIn.includes(n.name));
        }

        function Tm(t) {
          return Object.keys(t).map(e => t[e]);
        }

        function Cm(t) {
          if (typeof t == "string") {
            return {
              name: t,

              getAttributeKeys() {
                return (
                  /*#__PURE__*/
                  regeneratorRuntime.mark(function _callee25() {
                    return regeneratorRuntime.wrap(function _callee25$(_context25) {
                      while (1) switch (_context25.prev = _context25.next) {
                        case 0:
                        case "end":
                          return _context25.stop();
                      }
                    }, _callee25);
                  })()
                );
              },

              getAttribute() {}

            };
          } else {
            return {
              name: t.is("element") ? t.name : "$text",

              getAttributeKeys() {
                return (
                  /*#__PURE__*/
                  regeneratorRuntime.mark(function _callee26() {
                    return regeneratorRuntime.wrap(function _callee26$(_context26) {
                      while (1) switch (_context26.prev = _context26.next) {
                        case 0:
                          return _context26.delegateYield(t.getAttributeKeys(), "t0", 1);

                        case 1:
                        case "end":
                          return _context26.stop();
                      }
                    }, _callee26);
                  })()
                );
              },

              getAttribute(e) {
                return t.getAttribute(e);
              }

            };
          }
        }

        function Pm(t, e) {
          var n;
          return regeneratorRuntime.wrap(function Pm$(_context27) {
            while (1) switch (_context27.prev = _context27.next) {
              case 0:
                n = false;

              case 1:
                if (n) {
                  _context27.next = 17;
                  break;
                }

                n = true;

                if (!t) {
                  _context27.next = 9;
                  break;
                }

                e = t.next();

                if (e.done) {
                  _context27.next = 9;
                  break;
                }

                n = false;
                _context27.next = 9;
                return {
                  walker: t,
                  value: e.value
                };

              case 9:
                if (!e) {
                  _context27.next = 15;
                  break;
                }

                t = e.next();

                if (t.done) {
                  _context27.next = 15;
                  break;
                }

                n = false;
                _context27.next = 15;
                return {
                  walker: e,
                  value: t.value
                };

              case 15:
                _context27.next = 1;
                break;

              case 17:
              case "end":
                return _context27.stop();
            }
          }, _marked);
        }

        function Sm(t) {
          var _iteratorNormalCompletion179, _didIteratorError179, _iteratorError179, _iterator179, _step179, e;

          return regeneratorRuntime.wrap(function Sm$(_context28) {
            while (1) switch (_context28.prev = _context28.next) {
              case 0:
                _iteratorNormalCompletion179 = true;
                _didIteratorError179 = false;
                _iteratorError179 = undefined;
                _context28.prev = 3;
                _iterator179 = t[Symbol.iterator]();

              case 5:
                if (_iteratorNormalCompletion179 = (_step179 = _iterator179.next()).done) {
                  _context28.next = 11;
                  break;
                }

                e = _step179.value;
                return _context28.delegateYield(e.getMinimalFlatRanges(), "t0", 8);

              case 8:
                _iteratorNormalCompletion179 = true;
                _context28.next = 5;
                break;

              case 11:
                _context28.next = 17;
                break;

              case 13:
                _context28.prev = 13;
                _context28.t1 = _context28["catch"](3);
                _didIteratorError179 = true;
                _iteratorError179 = _context28.t1;

              case 17:
                _context28.prev = 17;
                _context28.prev = 18;

                if (!_iteratorNormalCompletion179 && _iterator179.return != null) {
                  _iterator179.return();
                }

              case 20:
                _context28.prev = 20;

                if (!_didIteratorError179) {
                  _context28.next = 23;
                  break;
                }

                throw _iteratorError179;

              case 23:
                return _context28.finish(20);

              case 24:
                return _context28.finish(17);

              case 25:
              case "end":
                return _context28.stop();
            }
          }, _marked2, null, [[3, 13, 17, 25], [18,, 20, 24]]);
        }

        function Mm(t, e, n) {
          var _iteratorNormalCompletion180 = true;
          var _didIteratorError180 = false;
          var _iteratorError180 = undefined;

          try {
            for (var _iterator180 = e.getAttributeKeys()[Symbol.iterator](), _step180; !(_iteratorNormalCompletion180 = (_step180 = _iterator180.next()).done); _iteratorNormalCompletion180 = true) {
              const i = _step180.value;

              if (!t.checkAttribute(e, i)) {
                n.removeAttribute(i, e);
              }
            }
          } catch (err) {
            _didIteratorError180 = true;
            _iteratorError180 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion180 && _iterator180.return != null) {
                _iterator180.return();
              }
            } finally {
              if (_didIteratorError180) {
                throw _iteratorError180;
              }
            }
          }
        }

        class Em {
          constructor(t = {}) {
            this._splitParts = new Map();
            this._modelCursor = null;
            this.conversionApi = Object.assign({}, t);
            this.conversionApi.convertItem = this._convertItem.bind(this);
            this.conversionApi.convertChildren = this._convertChildren.bind(this);
            this.conversionApi.splitToAllowedParent = this._splitToAllowedParent.bind(this);
            this.conversionApi.getSplitParts = this._getSplitParts.bind(this);
          }

          convert(t, e, n = ["$root"]) {
            this.fire("viewCleanup", t);
            this._modelCursor = Nm(n, e);
            this.conversionApi.writer = e;
            this.conversionApi.consumable = dm.createFrom(t);
            this.conversionApi.store = {};

            const _this$_convertItem = this._convertItem(t, this._modelCursor),
                  i = _this$_convertItem.modelRange;

            const o = e.createDocumentFragment();

            if (i) {
              this._removeEmptyElements();

              for (var _i30 = 0, _Array$from5 = Array.from(this._modelCursor.parent.getChildren()); _i30 < _Array$from5.length; _i30++) {
                const t = _Array$from5[_i30];
                e.append(t, o);
              }

              o.markers = Im(o, e);
            }

            this._modelCursor = null;

            this._splitParts.clear();

            this.conversionApi.writer = null;
            this.conversionApi.store = null;
            return o;
          }

          _convertItem(t, e) {
            const n = Object.assign({
              viewItem: t,
              modelCursor: e,
              modelRange: null
            });

            if (t.is("element")) {
              this.fire("element:" + t.name, n, this.conversionApi);
            } else if (t.is("text")) {
              this.fire("text", n, this.conversionApi);
            } else {
              this.fire("documentFragment", n, this.conversionApi);
            }

            if (n.modelRange && !(n.modelRange instanceof Yh)) {
              throw new rr["b"]("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.", this);
            }

            return {
              modelRange: n.modelRange,
              modelCursor: n.modelCursor
            };
          }

          _convertChildren(t, e) {
            const n = new Yh(e);
            let i = e;

            for (var _i31 = 0, _Array$from6 = Array.from(t.getChildren()); _i31 < _Array$from6.length; _i31++) {
              const e = _Array$from6[_i31];

              const t = this._convertItem(e, i);

              if (t.modelRange instanceof Yh) {
                n.end = t.modelRange.end;
                i = t.modelCursor;
              }
            }

            return {
              modelRange: n,
              modelCursor: i
            };
          }

          _splitToAllowedParent(t, e) {
            const n = this.conversionApi.schema.findAllowedParent(e, t);

            if (!n) {
              return null;
            }

            if (n === e.parent) {
              return {
                position: e
              };
            }

            if (this._modelCursor.parent.getAncestors().includes(n)) {
              return null;
            }

            const i = this.conversionApi.writer.split(e, n);
            const o = [];
            var _iteratorNormalCompletion181 = true;
            var _didIteratorError181 = false;
            var _iteratorError181 = undefined;

            try {
              for (var _iterator181 = i.range.getWalker()[Symbol.iterator](), _step181; !(_iteratorNormalCompletion181 = (_step181 = _iterator181.next()).done); _iteratorNormalCompletion181 = true) {
                const t = _step181.value;

                if (t.type == "elementEnd") {
                  o.push(t.item);
                } else {
                  const e = o.pop();
                  const n = t.item;

                  this._registerSplitPair(e, n);
                }
              }
            } catch (err) {
              _didIteratorError181 = true;
              _iteratorError181 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion181 && _iterator181.return != null) {
                  _iterator181.return();
                }
              } finally {
                if (_didIteratorError181) {
                  throw _iteratorError181;
                }
              }
            }

            return {
              position: i.position,
              cursorParent: i.range.end.parent
            };
          }

          _registerSplitPair(t, e) {
            if (!this._splitParts.has(t)) {
              this._splitParts.set(t, [t]);
            }

            const n = this._splitParts.get(t);

            this._splitParts.set(e, n);

            n.push(e);
          }

          _getSplitParts(t) {
            let e;

            if (!this._splitParts.has(t)) {
              e = [t];
            } else {
              e = this._splitParts.get(t);
            }

            return e;
          }

          _removeEmptyElements() {
            let t = false;
            var _iteratorNormalCompletion182 = true;
            var _didIteratorError182 = false;
            var _iteratorError182 = undefined;

            try {
              for (var _iterator182 = this._splitParts.keys()[Symbol.iterator](), _step182; !(_iteratorNormalCompletion182 = (_step182 = _iterator182.next()).done); _iteratorNormalCompletion182 = true) {
                const e = _step182.value;

                if (e.isEmpty) {
                  this.conversionApi.writer.remove(e);

                  this._splitParts.delete(e);

                  t = true;
                }
              }
            } catch (err) {
              _didIteratorError182 = true;
              _iteratorError182 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion182 && _iterator182.return != null) {
                  _iterator182.return();
                }
              } finally {
                if (_didIteratorError182) {
                  throw _iteratorError182;
                }
              }
            }

            if (t) {
              this._removeEmptyElements();
            }
          }

        }

        vr(Em, dr);

        function Im(t, e) {
          const n = new Set();
          const i = new Map();

          const o = Yh._createIn(t).getItems();

          var _iteratorNormalCompletion183 = true;
          var _didIteratorError183 = false;
          var _iteratorError183 = undefined;

          try {
            for (var _iterator183 = o[Symbol.iterator](), _step183; !(_iteratorNormalCompletion183 = (_step183 = _iterator183.next()).done); _iteratorNormalCompletion183 = true) {
              const t = _step183.value;

              if (t.name == "$marker") {
                n.add(t);
              }
            }
          } catch (err) {
            _didIteratorError183 = true;
            _iteratorError183 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion183 && _iterator183.return != null) {
                _iterator183.return();
              }
            } finally {
              if (_didIteratorError183) {
                throw _iteratorError183;
              }
            }
          }

          var _iteratorNormalCompletion184 = true;
          var _didIteratorError184 = false;
          var _iteratorError184 = undefined;

          try {
            for (var _iterator184 = n[Symbol.iterator](), _step184; !(_iteratorNormalCompletion184 = (_step184 = _iterator184.next()).done); _iteratorNormalCompletion184 = true) {
              const t = _step184.value;
              const n = t.getAttribute("data-name");
              const o = e.createPositionBefore(t);

              if (!i.has(n)) {
                i.set(n, new Yh(o.clone()));
              } else {
                i.get(n).end = o.clone();
              }

              e.remove(t);
            }
          } catch (err) {
            _didIteratorError184 = true;
            _iteratorError184 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion184 && _iterator184.return != null) {
                _iterator184.return();
              }
            } finally {
              if (_didIteratorError184) {
                throw _iteratorError184;
              }
            }
          }

          return i;
        }

        function Nm(t, e) {
          let n;
          var _iteratorNormalCompletion185 = true;
          var _didIteratorError185 = false;
          var _iteratorError185 = undefined;

          try {
            for (var _iterator185 = new fm(t)[Symbol.iterator](), _step185; !(_iteratorNormalCompletion185 = (_step185 = _iterator185.next()).done); _iteratorNormalCompletion185 = true) {
              const i = _step185.value;
              const t = {};
              var _iteratorNormalCompletion186 = true;
              var _didIteratorError186 = false;
              var _iteratorError186 = undefined;

              try {
                for (var _iterator186 = i.getAttributeKeys()[Symbol.iterator](), _step186; !(_iteratorNormalCompletion186 = (_step186 = _iterator186.next()).done); _iteratorNormalCompletion186 = true) {
                  const e = _step186.value;
                  t[e] = i.getAttribute(e);
                }
              } catch (err) {
                _didIteratorError186 = true;
                _iteratorError186 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion186 && _iterator186.return != null) {
                    _iterator186.return();
                  }
                } finally {
                  if (_didIteratorError186) {
                    throw _iteratorError186;
                  }
                }
              }

              const o = e.createElement(i.name, t);

              if (n) {
                e.append(o, n);
              }

              n = $h._createAt(o, 0);
            }
          } catch (err) {
            _didIteratorError185 = true;
            _iteratorError185 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion185 && _iterator185.return != null) {
                _iterator185.return();
              }
            } finally {
              if (_didIteratorError185) {
                throw _iteratorError185;
              }
            }
          }

          return n;
        }

        class Om {
          constructor(t, e) {
            this.model = t;
            this.processor = e;
            this.mapper = new Gh();
            this.downcastDispatcher = new Jh({
              mapper: this.mapper
            });
            this.downcastDispatcher.on("insert:$text", vf(), {
              priority: "lowest"
            });
            this.upcastDispatcher = new Em({
              schema: t.schema
            });
            this.upcastDispatcher.on("text", Yf(), {
              priority: "lowest"
            });
            this.upcastDispatcher.on("element", $f(), {
              priority: "lowest"
            });
            this.upcastDispatcher.on("documentFragment", $f(), {
              priority: "lowest"
            });
            this.decorate("init");
            this.on("init", () => {
              this.fire("ready");
            }, {
              priority: "lowest"
            });
          }

          get(t) {
            const _ref = t || {},
                  _ref$rootName = _ref.rootName,
                  e = _ref$rootName === void 0 ? "main" : _ref$rootName,
                  _ref$trim = _ref.trim,
                  n = _ref$trim === void 0 ? "empty" : _ref$trim;

            if (!this._checkIfRootsExists([e])) {
              throw new rr["b"]("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.", this);
            }

            const i = this.model.document.getRoot(e);

            if (n === "empty" && !this.model.hasContent(i, {
              ignoreWhitespaces: true
            })) {
              return "";
            }

            return this.stringify(i);
          }

          stringify(t) {
            const e = this.toView(t);
            return this.processor.toData(e);
          }

          toView(t) {
            this.mapper.clearBindings();

            const e = Yh._createIn(t);

            const n = new ql();
            const i = new Yl(new bl());
            this.mapper.bindElements(t, n);
            this.downcastDispatcher.convertInsert(e, i);

            if (!t.is("documentFragment")) {
              const e = Rm(t);
              var _iteratorNormalCompletion187 = true;
              var _didIteratorError187 = false;
              var _iteratorError187 = undefined;

              try {
                for (var _iterator187 = e[Symbol.iterator](), _step187; !(_iteratorNormalCompletion187 = (_step187 = _iterator187.next()).done); _iteratorNormalCompletion187 = true) {
                  const _step187$value = _slicedToArray(_step187.value, 2),
                        t = _step187$value[0],
                        n = _step187$value[1];

                  this.downcastDispatcher.convertMarkerAdd(t, n, i);
                }
              } catch (err) {
                _didIteratorError187 = true;
                _iteratorError187 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion187 && _iterator187.return != null) {
                    _iterator187.return();
                  }
                } finally {
                  if (_didIteratorError187) {
                    throw _iteratorError187;
                  }
                }
              }
            }

            return n;
          }

          init(t) {
            if (this.model.document.version) {
              throw new rr["b"]("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.", this);
            }

            let e = {};

            if (typeof t === "string") {
              e.main = t;
            } else {
              e = t;
            }

            if (!this._checkIfRootsExists(Object.keys(e))) {
              throw new rr["b"]("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.", this);
            }

            this.model.enqueueChange("transparent", t => {
              for (var _i32 = 0, _Object$keys2 = Object.keys(e); _i32 < _Object$keys2.length; _i32++) {
                const n = _Object$keys2[_i32];
                const i = this.model.document.getRoot(n);
                t.insert(this.parse(e[n], i), i, 0);
              }
            });
            return Promise.resolve();
          }

          set(t) {
            let e = {};

            if (typeof t === "string") {
              e.main = t;
            } else {
              e = t;
            }

            if (!this._checkIfRootsExists(Object.keys(e))) {
              throw new rr["b"]("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.", this);
            }

            this.model.enqueueChange("transparent", t => {
              t.setSelection(null);
              t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());

              for (var _i33 = 0, _Object$keys3 = Object.keys(e); _i33 < _Object$keys3.length; _i33++) {
                const n = _Object$keys3[_i33];
                const i = this.model.document.getRoot(n);
                t.remove(t.createRangeIn(i));
                t.insert(this.parse(e[n], i), i, 0);
              }
            });
          }

          parse(t, e = "$root") {
            const n = this.processor.toView(t);
            return this.toModel(n, e);
          }

          toModel(t, e = "$root") {
            return this.model.change(n => this.upcastDispatcher.convert(t, n, e));
          }

          destroy() {
            this.stopListening();
          }

          _checkIfRootsExists(t) {
            var _iteratorNormalCompletion188 = true;
            var _didIteratorError188 = false;
            var _iteratorError188 = undefined;

            try {
              for (var _iterator188 = t[Symbol.iterator](), _step188; !(_iteratorNormalCompletion188 = (_step188 = _iterator188.next()).done); _iteratorNormalCompletion188 = true) {
                const e = _step188.value;

                if (!this.model.document.getRootNames().includes(e)) {
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError188 = true;
              _iteratorError188 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion188 && _iterator188.return != null) {
                  _iterator188.return();
                }
              } finally {
                if (_didIteratorError188) {
                  throw _iteratorError188;
                }
              }
            }

            return true;
          }

        }

        vr(Om, Qc);

        function Rm(t) {
          const e = [];
          const n = t.root.document;

          if (!n) {
            return [];
          }

          const i = Yh._createIn(t);

          var _iteratorNormalCompletion189 = true;
          var _didIteratorError189 = false;
          var _iteratorError189 = undefined;

          try {
            for (var _iterator189 = n.model.markers[Symbol.iterator](), _step189; !(_iteratorNormalCompletion189 = (_step189 = _iterator189.next()).done); _iteratorNormalCompletion189 = true) {
              const t = _step189.value;
              const n = i.getIntersection(t.getRange());

              if (n) {
                e.push([t.name, n]);
              }
            }
          } catch (err) {
            _didIteratorError189 = true;
            _iteratorError189 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion189 && _iterator189.return != null) {
                _iterator189.return();
              }
            } finally {
              if (_didIteratorError189) {
                throw _iteratorError189;
              }
            }
          }

          return e;
        }

        class Dm {
          constructor(t, e) {
            this._helpers = new Map();
            this._downcast = Array.isArray(t) ? t : [t];

            this._createConversionHelpers({
              name: "downcast",
              dispatchers: this._downcast,
              isDowncast: true
            });

            this._upcast = Array.isArray(e) ? e : [e];

            this._createConversionHelpers({
              name: "upcast",
              dispatchers: this._upcast,
              isDowncast: false
            });
          }

          addAlias(t, e) {
            const n = this._downcast.includes(e);

            const i = this._upcast.includes(e);

            if (!i && !n) {
              throw new rr["b"]("conversion-add-alias-dispatcher-not-registered: " + "Trying to register and alias for a dispatcher that nas not been registered.", this);
            }

            this._createConversionHelpers({
              name: t,
              dispatchers: [e],
              isDowncast: n
            });
          }

          for(t) {
            if (!this._helpers.has(t)) {
              throw new rr["b"]("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.", this);
            }

            return this._helpers.get(t);
          }

          elementToElement(t) {
            this.for("downcast").elementToElement(t);
            var _iteratorNormalCompletion190 = true;
            var _didIteratorError190 = false;
            var _iteratorError190 = undefined;

            try {
              for (var _iterator190 = Lm(t)[Symbol.iterator](), _step190; !(_iteratorNormalCompletion190 = (_step190 = _iterator190.next()).done); _iteratorNormalCompletion190 = true) {
                const _step190$value = _step190.value,
                      e = _step190$value.model,
                      n = _step190$value.view;
                this.for("upcast").elementToElement({
                  model: e,
                  view: n,
                  converterPriority: t.converterPriority
                });
              }
            } catch (err) {
              _didIteratorError190 = true;
              _iteratorError190 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion190 && _iterator190.return != null) {
                  _iterator190.return();
                }
              } finally {
                if (_didIteratorError190) {
                  throw _iteratorError190;
                }
              }
            }
          }

          attributeToElement(t) {
            this.for("downcast").attributeToElement(t);
            var _iteratorNormalCompletion191 = true;
            var _didIteratorError191 = false;
            var _iteratorError191 = undefined;

            try {
              for (var _iterator191 = Lm(t)[Symbol.iterator](), _step191; !(_iteratorNormalCompletion191 = (_step191 = _iterator191.next()).done); _iteratorNormalCompletion191 = true) {
                const _step191$value = _step191.value,
                      e = _step191$value.model,
                      n = _step191$value.view;
                this.for("upcast").elementToAttribute({
                  view: n,
                  model: e,
                  converterPriority: t.converterPriority
                });
              }
            } catch (err) {
              _didIteratorError191 = true;
              _iteratorError191 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion191 && _iterator191.return != null) {
                  _iterator191.return();
                }
              } finally {
                if (_didIteratorError191) {
                  throw _iteratorError191;
                }
              }
            }
          }

          attributeToAttribute(t) {
            this.for("downcast").attributeToAttribute(t);
            var _iteratorNormalCompletion192 = true;
            var _didIteratorError192 = false;
            var _iteratorError192 = undefined;

            try {
              for (var _iterator192 = Lm(t)[Symbol.iterator](), _step192; !(_iteratorNormalCompletion192 = (_step192 = _iterator192.next()).done); _iteratorNormalCompletion192 = true) {
                const _step192$value = _step192.value,
                      e = _step192$value.model,
                      n = _step192$value.view;
                this.for("upcast").attributeToAttribute({
                  view: n,
                  model: e
                });
              }
            } catch (err) {
              _didIteratorError192 = true;
              _iteratorError192 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion192 && _iterator192.return != null) {
                  _iterator192.return();
                }
              } finally {
                if (_didIteratorError192) {
                  throw _iteratorError192;
                }
              }
            }
          }

          _createConversionHelpers({
            name: t,
            dispatchers: e,
            isDowncast: n
          }) {
            if (this._helpers.has(t)) {
              throw new rr["b"]("conversion-group-exists: Trying to register a group name that has already been registered.", this);
            }

            const i = n ? new kf(e) : new qf(e);

            this._helpers.set(t, i);
          }

        }

        function Lm(t) {
          var _iteratorNormalCompletion193, _didIteratorError193, _iteratorError193, _iterator193, _step193, e, n, i, o;

          return regeneratorRuntime.wrap(function Lm$(_context29) {
            while (1) switch (_context29.prev = _context29.next) {
              case 0:
                if (!t.model.values) {
                  _context29.next = 31;
                  break;
                }

                _iteratorNormalCompletion193 = true;
                _didIteratorError193 = false;
                _iteratorError193 = undefined;
                _context29.prev = 4;
                _iterator193 = t.model.values[Symbol.iterator]();

              case 6:
                if (_iteratorNormalCompletion193 = (_step193 = _iterator193.next()).done) {
                  _context29.next = 15;
                  break;
                }

                e = _step193.value;
                n = {
                  key: t.model.key,
                  value: e
                };
                i = t.view[e];
                o = t.upcastAlso ? t.upcastAlso[e] : undefined;
                return _context29.delegateYield(zm(n, i, o), "t0", 12);

              case 12:
                _iteratorNormalCompletion193 = true;
                _context29.next = 6;
                break;

              case 15:
                _context29.next = 21;
                break;

              case 17:
                _context29.prev = 17;
                _context29.t1 = _context29["catch"](4);
                _didIteratorError193 = true;
                _iteratorError193 = _context29.t1;

              case 21:
                _context29.prev = 21;
                _context29.prev = 22;

                if (!_iteratorNormalCompletion193 && _iterator193.return != null) {
                  _iterator193.return();
                }

              case 24:
                _context29.prev = 24;

                if (!_didIteratorError193) {
                  _context29.next = 27;
                  break;
                }

                throw _iteratorError193;

              case 27:
                return _context29.finish(24);

              case 28:
                return _context29.finish(21);

              case 29:
                _context29.next = 32;
                break;

              case 31:
                return _context29.delegateYield(zm(t.model, t.view, t.upcastAlso), "t2", 32);

              case 32:
              case "end":
                return _context29.stop();
            }
          }, _marked3, null, [[4, 17, 21, 29], [22,, 24, 28]]);
        }

        function zm(t, e, n) {
          var _iteratorNormalCompletion194, _didIteratorError194, _iteratorError194, _iterator194, _step194;

          return regeneratorRuntime.wrap(function zm$(_context30) {
            while (1) switch (_context30.prev = _context30.next) {
              case 0:
                _context30.next = 2;
                return {
                  model: t,
                  view: e
                };

              case 2:
                if (!n) {
                  _context30.next = 30;
                  break;
                }

                n = Array.isArray(n) ? n : [n];
                _iteratorNormalCompletion194 = true;
                _didIteratorError194 = false;
                _iteratorError194 = undefined;
                _context30.prev = 7;
                _iterator194 = n[Symbol.iterator]();

              case 9:
                if (_iteratorNormalCompletion194 = (_step194 = _iterator194.next()).done) {
                  _context30.next = 16;
                  break;
                }

                e = _step194.value;
                _context30.next = 13;
                return {
                  model: t,
                  view: e
                };

              case 13:
                _iteratorNormalCompletion194 = true;
                _context30.next = 9;
                break;

              case 16:
                _context30.next = 22;
                break;

              case 18:
                _context30.prev = 18;
                _context30.t0 = _context30["catch"](7);
                _didIteratorError194 = true;
                _iteratorError194 = _context30.t0;

              case 22:
                _context30.prev = 22;
                _context30.prev = 23;

                if (!_iteratorNormalCompletion194 && _iterator194.return != null) {
                  _iterator194.return();
                }

              case 25:
                _context30.prev = 25;

                if (!_didIteratorError194) {
                  _context30.next = 28;
                  break;
                }

                throw _iteratorError194;

              case 28:
                return _context30.finish(25);

              case 29:
                return _context30.finish(22);

              case 30:
              case "end":
                return _context30.stop();
            }
          }, _marked4, null, [[7, 18, 22, 30], [23,, 25, 29]]);
        }

        class jm {
          constructor(t = "default") {
            this.operations = [];
            this.type = t;
          }

          get baseVersion() {
            var _iteratorNormalCompletion195 = true;
            var _didIteratorError195 = false;
            var _iteratorError195 = undefined;

            try {
              for (var _iterator195 = this.operations[Symbol.iterator](), _step195; !(_iteratorNormalCompletion195 = (_step195 = _iterator195.next()).done); _iteratorNormalCompletion195 = true) {
                const t = _step195.value;

                if (t.baseVersion !== null) {
                  return t.baseVersion;
                }
              }
            } catch (err) {
              _didIteratorError195 = true;
              _iteratorError195 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion195 && _iterator195.return != null) {
                  _iterator195.return();
                }
              } finally {
                if (_didIteratorError195) {
                  throw _iteratorError195;
                }
              }
            }

            return null;
          }

          addOperation(t) {
            t.batch = this;
            this.operations.push(t);
            return t;
          }

        }

        class Vm {
          constructor(t) {
            this.baseVersion = t;
            this.isDocumentOperation = this.baseVersion !== null;
            this.batch = null;
          }

          _validate() {}

          toJSON() {
            const t = Object.assign({}, this);
            t.__className = this.constructor.className;
            delete t.batch;
            delete t.isDocumentOperation;
            return t;
          }

          static get className() {
            return "Operation";
          }

          static fromJSON(t) {
            return new this(t.baseVersion);
          }

        }

        class Bm {
          constructor(t) {
            this.markers = new Map();
            this._children = new Fh();

            if (t) {
              this._insertChild(0, t);
            }
          }

          [Symbol.iterator]() {
            return this.getChildren();
          }

          get childCount() {
            return this._children.length;
          }

          get maxOffset() {
            return this._children.maxOffset;
          }

          get isEmpty() {
            return this.childCount === 0;
          }

          get root() {
            return this;
          }

          get parent() {
            return null;
          }

          is(t) {
            return t == "documentFragment" || t == "model:documentFragment";
          }

          getChild(t) {
            return this._children.getNode(t);
          }

          getChildren() {
            return this._children[Symbol.iterator]();
          }

          getChildIndex(t) {
            return this._children.getNodeIndex(t);
          }

          getChildStartOffset(t) {
            return this._children.getNodeStartOffset(t);
          }

          getPath() {
            return [];
          }

          getNodeByPath(t) {
            let e = this;
            var _iteratorNormalCompletion196 = true;
            var _didIteratorError196 = false;
            var _iteratorError196 = undefined;

            try {
              for (var _iterator196 = t[Symbol.iterator](), _step196; !(_iteratorNormalCompletion196 = (_step196 = _iterator196.next()).done); _iteratorNormalCompletion196 = true) {
                const n = _step196.value;
                e = e.getChild(e.offsetToIndex(n));
              }
            } catch (err) {
              _didIteratorError196 = true;
              _iteratorError196 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion196 && _iterator196.return != null) {
                  _iterator196.return();
                }
              } finally {
                if (_didIteratorError196) {
                  throw _iteratorError196;
                }
              }
            }

            return e;
          }

          offsetToIndex(t) {
            return this._children.offsetToIndex(t);
          }

          toJSON() {
            const t = [];
            var _iteratorNormalCompletion197 = true;
            var _didIteratorError197 = false;
            var _iteratorError197 = undefined;

            try {
              for (var _iterator197 = this._children[Symbol.iterator](), _step197; !(_iteratorNormalCompletion197 = (_step197 = _iterator197.next()).done); _iteratorNormalCompletion197 = true) {
                const e = _step197.value;
                t.push(e.toJSON());
              }
            } catch (err) {
              _didIteratorError197 = true;
              _iteratorError197 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion197 && _iterator197.return != null) {
                  _iterator197.return();
                }
              } finally {
                if (_didIteratorError197) {
                  throw _iteratorError197;
                }
              }
            }

            return t;
          }

          static fromJSON(t) {
            const e = [];
            var _iteratorNormalCompletion198 = true;
            var _didIteratorError198 = false;
            var _iteratorError198 = undefined;

            try {
              for (var _iterator198 = t[Symbol.iterator](), _step198; !(_iteratorNormalCompletion198 = (_step198 = _iterator198.next()).done); _iteratorNormalCompletion198 = true) {
                const n = _step198.value;

                if (n.name) {
                  e.push(Hh.fromJSON(n));
                } else {
                  e.push(Vh.fromJSON(n));
                }
              }
            } catch (err) {
              _didIteratorError198 = true;
              _iteratorError198 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion198 && _iterator198.return != null) {
                  _iterator198.return();
                }
              } finally {
                if (_didIteratorError198) {
                  throw _iteratorError198;
                }
              }
            }

            return new Bm(e);
          }

          _appendChild(t) {
            this._insertChild(this.childCount, t);
          }

          _insertChild(t, e) {
            const n = Fm(e);
            var _iteratorNormalCompletion199 = true;
            var _didIteratorError199 = false;
            var _iteratorError199 = undefined;

            try {
              for (var _iterator199 = n[Symbol.iterator](), _step199; !(_iteratorNormalCompletion199 = (_step199 = _iterator199.next()).done); _iteratorNormalCompletion199 = true) {
                const t = _step199.value;

                if (t.parent !== null) {
                  t._remove();
                }

                t.parent = this;
              }
            } catch (err) {
              _didIteratorError199 = true;
              _iteratorError199 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion199 && _iterator199.return != null) {
                  _iterator199.return();
                }
              } finally {
                if (_didIteratorError199) {
                  throw _iteratorError199;
                }
              }
            }

            this._children._insertNodes(t, n);
          }

          _removeChildren(t, e = 1) {
            const n = this._children._removeNodes(t, e);

            var _iteratorNormalCompletion200 = true;
            var _didIteratorError200 = false;
            var _iteratorError200 = undefined;

            try {
              for (var _iterator200 = n[Symbol.iterator](), _step200; !(_iteratorNormalCompletion200 = (_step200 = _iterator200.next()).done); _iteratorNormalCompletion200 = true) {
                const t = _step200.value;
                t.parent = null;
              }
            } catch (err) {
              _didIteratorError200 = true;
              _iteratorError200 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion200 && _iterator200.return != null) {
                  _iterator200.return();
                }
              } finally {
                if (_didIteratorError200) {
                  throw _iteratorError200;
                }
              }
            }

            return n;
          }

        }

        function Fm(t) {
          if (typeof t == "string") {
            return [new Vh(t)];
          }

          if (!Fr(t)) {
            t = [t];
          }

          return Array.from(t).map(t => {
            if (typeof t == "string") {
              return new Vh(t);
            }

            if (t instanceof Bh) {
              return new Vh(t.data, t.getAttributes());
            }

            return t;
          });
        }

        function Hm(t, e) {
          e = $m(e);
          const n = e.reduce((t, e) => t + e.offsetSize, 0);
          const i = t.parent;
          Gm(t);
          const o = t.index;

          i._insertChild(o, e);

          Ym(i, o + e.length);
          Ym(i, o);
          return new Yh(t, t.getShiftedBy(n));
        }

        function Um(t) {
          if (!t.isFlat) {
            throw new rr["b"]("operation-utils-remove-range-not-flat: " + "Trying to remove a range which starts and ends in different element.", this);
          }

          const e = t.start.parent;
          Gm(t.start);
          Gm(t.end);

          const n = e._removeChildren(t.start.index, t.end.index - t.start.index);

          Ym(e, t.start.index);
          return n;
        }

        function Wm(t, e) {
          if (!t.isFlat) {
            throw new rr["b"]("operation-utils-move-range-not-flat: " + "Trying to move a range which starts and ends in different element.", this);
          }

          const n = Um(t);
          e = e._getTransformedByDeletion(t.start, t.end.offset - t.start.offset);
          return Hm(e, n);
        }

        function qm(t, e, n) {
          Gm(t.start);
          Gm(t.end);
          var _iteratorNormalCompletion201 = true;
          var _didIteratorError201 = false;
          var _iteratorError201 = undefined;

          try {
            for (var _iterator201 = t.getItems({
              shallow: true
            })[Symbol.iterator](), _step201; !(_iteratorNormalCompletion201 = (_step201 = _iterator201.next()).done); _iteratorNormalCompletion201 = true) {
              const i = _step201.value;
              const t = i.is("textProxy") ? i.textNode : i;

              if (n !== null) {
                t._setAttribute(e, n);
              } else {
                t._removeAttribute(e);
              }

              Ym(t.parent, t.index);
            }
          } catch (err) {
            _didIteratorError201 = true;
            _iteratorError201 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion201 && _iterator201.return != null) {
                _iterator201.return();
              }
            } finally {
              if (_didIteratorError201) {
                throw _iteratorError201;
              }
            }
          }

          Ym(t.end.parent, t.end.index);
        }

        function $m(t) {
          const e = [];

          if (!(t instanceof Array)) {
            t = [t];
          }

          for (let n = 0; n < t.length; n++) {
            if (typeof t[n] == "string") {
              e.push(new Vh(t[n]));
            } else if (t[n] instanceof Bh) {
              e.push(new Vh(t[n].data, t[n].getAttributes()));
            } else if (t[n] instanceof Bm || t[n] instanceof Fh) {
              var _iteratorNormalCompletion202 = true;
              var _didIteratorError202 = false;
              var _iteratorError202 = undefined;

              try {
                for (var _iterator202 = t[n][Symbol.iterator](), _step202; !(_iteratorNormalCompletion202 = (_step202 = _iterator202.next()).done); _iteratorNormalCompletion202 = true) {
                  const i = _step202.value;
                  e.push(i);
                }
              } catch (err) {
                _didIteratorError202 = true;
                _iteratorError202 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion202 && _iterator202.return != null) {
                    _iterator202.return();
                  }
                } finally {
                  if (_didIteratorError202) {
                    throw _iteratorError202;
                  }
                }
              }
            } else if (t[n] instanceof jh) {
              e.push(t[n]);
            }
          }

          for (let t = 1; t < e.length; t++) {
            const n = e[t];
            const i = e[t - 1];

            if (n instanceof Vh && i instanceof Vh && Qm(n, i)) {
              e.splice(t - 1, 2, new Vh(i.data + n.data, i.getAttributes()));
              t--;
            }
          }

          return e;
        }

        function Ym(t, e) {
          const n = t.getChild(e - 1);
          const i = t.getChild(e);

          if (n && i && n.is("text") && i.is("text") && Qm(n, i)) {
            const o = new Vh(n.data + i.data, n.getAttributes());

            t._removeChildren(e - 1, 2);

            t._insertChild(e - 1, o);
          }
        }

        function Gm(t) {
          const e = t.textNode;
          const n = t.parent;

          if (e) {
            const i = t.offset - e.startOffset;
            const o = e.index;

            n._removeChildren(o, 1);

            const s = new Vh(e.data.substr(0, i), e.getAttributes());
            const r = new Vh(e.data.substr(i), e.getAttributes());

            n._insertChild(o, [s, r]);
          }
        }

        function Qm(t, e) {
          const n = t.getAttributes();
          const i = e.getAttributes();
          var _iteratorNormalCompletion203 = true;
          var _didIteratorError203 = false;
          var _iteratorError203 = undefined;

          try {
            for (var _iterator203 = n[Symbol.iterator](), _step203; !(_iteratorNormalCompletion203 = (_step203 = _iterator203.next()).done); _iteratorNormalCompletion203 = true) {
              const t = _step203.value;

              if (t[1] !== e.getAttribute(t[0])) {
                return false;
              }

              i.next();
            }
          } catch (err) {
            _didIteratorError203 = true;
            _iteratorError203 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion203 && _iterator203.return != null) {
                _iterator203.return();
              }
            } finally {
              if (_didIteratorError203) {
                throw _iteratorError203;
              }
            }
          }

          return i.next().done;
        }

        function Km(t, e) {
          return qu(t, e);
        }

        var Jm = Km;

        class Zm extends Vm {
          constructor(t, e, n, i, o) {
            super(o);
            this.range = t.clone();
            this.key = e;
            this.oldValue = n === undefined ? null : n;
            this.newValue = i === undefined ? null : i;
          }

          get type() {
            if (this.oldValue === null) {
              return "addAttribute";
            } else if (this.newValue === null) {
              return "removeAttribute";
            } else {
              return "changeAttribute";
            }
          }

          clone() {
            return new Zm(this.range, this.key, this.oldValue, this.newValue, this.baseVersion);
          }

          getReversed() {
            return new Zm(this.range, this.key, this.newValue, this.oldValue, this.baseVersion + 1);
          }

          toJSON() {
            const t = super.toJSON();
            t.range = this.range.toJSON();
            return t;
          }

          _validate() {
            if (!this.range.isFlat) {
              throw new rr["b"]("attribute-operation-range-not-flat: The range to change is not flat.", this);
            }

            var _iteratorNormalCompletion204 = true;
            var _didIteratorError204 = false;
            var _iteratorError204 = undefined;

            try {
              for (var _iterator204 = this.range.getItems({
                shallow: true
              })[Symbol.iterator](), _step204; !(_iteratorNormalCompletion204 = (_step204 = _iterator204.next()).done); _iteratorNormalCompletion204 = true) {
                const t = _step204.value;

                if (this.oldValue !== null && !Jm(t.getAttribute(this.key), this.oldValue)) {
                  throw new rr["b"]("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's " + "old attribute value.", this, {
                    item: t,
                    key: this.key,
                    value: this.oldValue
                  });
                }

                if (this.oldValue === null && this.newValue !== null && t.hasAttribute(this.key)) {
                  throw new rr["b"]("attribute-operation-attribute-exists: The attribute with given key already exists.", this, {
                    node: t,
                    key: this.key
                  });
                }
              }
            } catch (err) {
              _didIteratorError204 = true;
              _iteratorError204 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion204 && _iterator204.return != null) {
                  _iterator204.return();
                }
              } finally {
                if (_didIteratorError204) {
                  throw _iteratorError204;
                }
              }
            }
          }

          _execute() {
            if (!Jm(this.oldValue, this.newValue)) {
              qm(this.range, this.key, this.newValue);
            }
          }

          static get className() {
            return "AttributeOperation";
          }

          static fromJSON(t, e) {
            return new Zm(Yh.fromJSON(t.range, e), t.key, t.oldValue, t.newValue, t.baseVersion);
          }

        }

        class Xm extends Vm {
          constructor(t, e) {
            super(null);
            this.sourcePosition = t.clone();
            this.howMany = e;
          }

          get type() {
            return "detach";
          }

          toJSON() {
            const t = super.toJSON();
            t.sourcePosition = this.sourcePosition.toJSON();
            return t;
          }

          _validate() {
            if (this.sourcePosition.root.document) {
              throw new rr["b"]("detach-operation-on-document-node: Cannot detach document node.", this);
            }
          }

          _execute() {
            Um(Yh._createFromPositionAndShift(this.sourcePosition, this.howMany));
          }

          static get className() {
            return "DetachOperation";
          }

        }

        class tg extends Vm {
          constructor(t, e, n, i) {
            super(i);
            this.sourcePosition = t.clone();
            this.sourcePosition.stickiness = "toNext";
            this.howMany = e;
            this.targetPosition = n.clone();
            this.targetPosition.stickiness = "toNone";
          }

          get type() {
            if (this.targetPosition.root.rootName == "$graveyard") {
              return "remove";
            } else if (this.sourcePosition.root.rootName == "$graveyard") {
              return "reinsert";
            }

            return "move";
          }

          clone() {
            return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.baseVersion);
          }

          getMovedRangeStart() {
            return this.targetPosition._getTransformedByDeletion(this.sourcePosition, this.howMany);
          }

          getReversed() {
            const t = this.sourcePosition._getTransformedByInsertion(this.targetPosition, this.howMany);

            return new this.constructor(this.getMovedRangeStart(), this.howMany, t, this.baseVersion + 1);
          }

          _validate() {
            const t = this.sourcePosition.parent;
            const e = this.targetPosition.parent;
            const n = this.sourcePosition.offset;
            const i = this.targetPosition.offset;

            if (n + this.howMany > t.maxOffset) {
              throw new rr["b"]("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.", this);
            } else if (t === e && n < i && i < n + this.howMany) {
              throw new rr["b"]("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.", this);
            } else if (this.sourcePosition.root == this.targetPosition.root) {
              if (Or(this.sourcePosition.getParentPath(), this.targetPosition.getParentPath()) == "prefix") {
                const t = this.sourcePosition.path.length - 1;

                if (this.targetPosition.path[t] >= n && this.targetPosition.path[t] < n + this.howMany) {
                  throw new rr["b"]("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.", this);
                }
              }
            }
          }

          _execute() {
            Wm(Yh._createFromPositionAndShift(this.sourcePosition, this.howMany), this.targetPosition);
          }

          toJSON() {
            const t = super.toJSON();
            t.sourcePosition = this.sourcePosition.toJSON();
            t.targetPosition = this.targetPosition.toJSON();
            return t;
          }

          static get className() {
            return "MoveOperation";
          }

          static fromJSON(t, e) {
            const n = $h.fromJSON(t.sourcePosition, e);
            const i = $h.fromJSON(t.targetPosition, e);
            return new this(n, t.howMany, i, t.baseVersion);
          }

        }

        class eg extends Vm {
          constructor(t, e, n) {
            super(n);
            this.position = t.clone();
            this.position.stickiness = "toNone";
            this.nodes = new Fh($m(e));
            this.shouldReceiveAttributes = false;
          }

          get type() {
            return "insert";
          }

          get howMany() {
            return this.nodes.maxOffset;
          }

          clone() {
            const t = new Fh([...this.nodes].map(t => t._clone(true)));
            const e = new eg(this.position, t, this.baseVersion);
            e.shouldReceiveAttributes = this.shouldReceiveAttributes;
            return e;
          }

          getReversed() {
            const t = this.position.root.document.graveyard;
            const e = new $h(t, [0]);
            return new tg(this.position, this.nodes.maxOffset, e, this.baseVersion + 1);
          }

          _validate() {
            const t = this.position.parent;

            if (!t || t.maxOffset < this.position.offset) {
              throw new rr["b"]("insert-operation-position-invalid: Insertion position is invalid.", this);
            }
          }

          _execute() {
            const t = this.nodes;
            this.nodes = new Fh([...t].map(t => t._clone(true)));
            Hm(this.position, t);
          }

          toJSON() {
            const t = super.toJSON();
            t.position = this.position.toJSON();
            t.nodes = this.nodes.toJSON();
            return t;
          }

          static get className() {
            return "InsertOperation";
          }

          static fromJSON(t, e) {
            const n = [];
            var _iteratorNormalCompletion205 = true;
            var _didIteratorError205 = false;
            var _iteratorError205 = undefined;

            try {
              for (var _iterator205 = t.nodes[Symbol.iterator](), _step205; !(_iteratorNormalCompletion205 = (_step205 = _iterator205.next()).done); _iteratorNormalCompletion205 = true) {
                const e = _step205.value;

                if (e.name) {
                  n.push(Hh.fromJSON(e));
                } else {
                  n.push(Vh.fromJSON(e));
                }
              }
            } catch (err) {
              _didIteratorError205 = true;
              _iteratorError205 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion205 && _iterator205.return != null) {
                  _iterator205.return();
                }
              } finally {
                if (_didIteratorError205) {
                  throw _iteratorError205;
                }
              }
            }

            const i = new eg($h.fromJSON(t.position, e), n, t.baseVersion);
            i.shouldReceiveAttributes = t.shouldReceiveAttributes;
            return i;
          }

        }

        class ng extends Vm {
          constructor(t, e, n, i, o, s) {
            super(s);
            this.name = t;
            this.oldRange = e ? e.clone() : null;
            this.newRange = n ? n.clone() : null;
            this.affectsData = o;
            this._markers = i;
          }

          get type() {
            return "marker";
          }

          clone() {
            return new ng(this.name, this.oldRange, this.newRange, this._markers, this.affectsData, this.baseVersion);
          }

          getReversed() {
            return new ng(this.name, this.newRange, this.oldRange, this._markers, this.affectsData, this.baseVersion + 1);
          }

          _execute() {
            const t = this.newRange ? "_set" : "_remove";

            this._markers[t](this.name, this.newRange, true, this.affectsData);
          }

          toJSON() {
            const t = super.toJSON();

            if (this.oldRange) {
              t.oldRange = this.oldRange.toJSON();
            }

            if (this.newRange) {
              t.newRange = this.newRange.toJSON();
            }

            delete t._markers;
            return t;
          }

          static get className() {
            return "MarkerOperation";
          }

          static fromJSON(t, e) {
            return new ng(t.name, t.oldRange ? Yh.fromJSON(t.oldRange, e) : null, t.newRange ? Yh.fromJSON(t.newRange, e) : null, e.model.markers, t.affectsData, t.baseVersion);
          }

        }

        class ig extends Vm {
          constructor(t, e, n, i) {
            super(i);
            this.position = t;
            this.position.stickiness = "toNext";
            this.oldName = e;
            this.newName = n;
          }

          get type() {
            return "rename";
          }

          clone() {
            return new ig(this.position.clone(), this.oldName, this.newName, this.baseVersion);
          }

          getReversed() {
            return new ig(this.position.clone(), this.newName, this.oldName, this.baseVersion + 1);
          }

          _validate() {
            const t = this.position.nodeAfter;

            if (!(t instanceof Hh)) {
              throw new rr["b"]("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.", this);
            } else if (t.name !== this.oldName) {
              throw new rr["b"]("rename-operation-wrong-name: Element to change has different name than operation's old name.", this);
            }
          }

          _execute() {
            const t = this.position.nodeAfter;
            t.name = this.newName;
          }

          toJSON() {
            const t = super.toJSON();
            t.position = this.position.toJSON();
            return t;
          }

          static get className() {
            return "RenameOperation";
          }

          static fromJSON(t, e) {
            return new ig($h.fromJSON(t.position, e), t.oldName, t.newName, t.baseVersion);
          }

        }

        class og extends Vm {
          constructor(t, e, n, i, o) {
            super(o);
            this.root = t;
            this.key = e;
            this.oldValue = n;
            this.newValue = i;
          }

          get type() {
            if (this.oldValue === null) {
              return "addRootAttribute";
            } else if (this.newValue === null) {
              return "removeRootAttribute";
            } else {
              return "changeRootAttribute";
            }
          }

          clone() {
            return new og(this.root, this.key, this.oldValue, this.newValue, this.baseVersion);
          }

          getReversed() {
            return new og(this.root, this.key, this.newValue, this.oldValue, this.baseVersion + 1);
          }

          _validate() {
            if (this.root != this.root.root || this.root.is("documentFragment")) {
              throw new rr["b"]("rootattribute-operation-not-a-root: The element to change is not a root element.", this, {
                root: this.root,
                key: this.key
              });
            }

            if (this.oldValue !== null && this.root.getAttribute(this.key) !== this.oldValue) {
              throw new rr["b"]("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's " + "old attribute value.", this, {
                root: this.root,
                key: this.key
              });
            }

            if (this.oldValue === null && this.newValue !== null && this.root.hasAttribute(this.key)) {
              throw new rr["b"]("rootattribute-operation-attribute-exists: The attribute with given key already exists.", this, {
                root: this.root,
                key: this.key
              });
            }
          }

          _execute() {
            if (this.newValue !== null) {
              this.root._setAttribute(this.key, this.newValue);
            } else {
              this.root._removeAttribute(this.key);
            }
          }

          toJSON() {
            const t = super.toJSON();
            t.root = this.root.toJSON();
            return t;
          }

          static get className() {
            return "RootAttributeOperation";
          }

          static fromJSON(t, e) {
            if (!e.getRoot(t.root)) {
              throw new rr["b"]("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.", this, {
                rootName: t.root
              });
            }

            return new og(e.getRoot(t.root), t.key, t.oldValue, t.newValue, t.baseVersion);
          }

        }

        class sg extends Vm {
          constructor(t, e, n, i, o) {
            super(o);
            this.sourcePosition = t.clone();
            this.sourcePosition.stickiness = "toPrevious";
            this.howMany = e;
            this.targetPosition = n.clone();
            this.targetPosition.stickiness = "toNext";
            this.graveyardPosition = i.clone();
          }

          get type() {
            return "merge";
          }

          get deletionPosition() {
            return new $h(this.sourcePosition.root, this.sourcePosition.path.slice(0, -1));
          }

          get movedRange() {
            const t = this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);
            return new Yh(this.sourcePosition, t);
          }

          clone() {
            return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.graveyardPosition, this.baseVersion);
          }

          getReversed() {
            const t = this.targetPosition._getTransformedByMergeOperation(this);

            const e = this.sourcePosition.path.slice(0, -1);

            const n = new $h(this.sourcePosition.root, e)._getTransformedByMergeOperation(this);

            const i = new rg(t, this.howMany, this.graveyardPosition, this.baseVersion + 1);
            i.insertionPosition = n;
            return i;
          }

          _validate() {
            const t = this.sourcePosition.parent;
            const e = this.targetPosition.parent;

            if (!t.parent) {
              throw new rr["b"]("merge-operation-source-position-invalid: Merge source position is invalid.", this);
            } else if (!e.parent) {
              throw new rr["b"]("merge-operation-target-position-invalid: Merge target position is invalid.", this);
            } else if (this.howMany != t.maxOffset) {
              throw new rr["b"]("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.", this);
            }
          }

          _execute() {
            const t = this.sourcePosition.parent;

            const e = Yh._createIn(t);

            Wm(e, this.targetPosition);
            Wm(Yh._createOn(t), this.graveyardPosition);
          }

          toJSON() {
            const t = super.toJSON();
            t.sourcePosition = t.sourcePosition.toJSON();
            t.targetPosition = t.targetPosition.toJSON();
            t.graveyardPosition = t.graveyardPosition.toJSON();
            return t;
          }

          static get className() {
            return "MergeOperation";
          }

          static fromJSON(t, e) {
            const n = $h.fromJSON(t.sourcePosition, e);
            const i = $h.fromJSON(t.targetPosition, e);
            const o = $h.fromJSON(t.graveyardPosition, e);
            return new this(n, t.howMany, i, o, t.baseVersion);
          }

        }

        class rg extends Vm {
          constructor(t, e, n, i) {
            super(i);
            this.splitPosition = t.clone();
            this.splitPosition.stickiness = "toNext";
            this.howMany = e;
            this.insertionPosition = rg.getInsertionPosition(t);
            this.insertionPosition.stickiness = "toNone";
            this.graveyardPosition = n ? n.clone() : null;

            if (this.graveyardPosition) {
              this.graveyardPosition.stickiness = "toNext";
            }
          }

          get type() {
            return "split";
          }

          get moveTargetPosition() {
            const t = this.insertionPosition.path.slice();
            t.push(0);
            return new $h(this.insertionPosition.root, t);
          }

          get movedRange() {
            const t = this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);
            return new Yh(this.splitPosition, t);
          }

          clone() {
            const t = new this.constructor(this.splitPosition, this.howMany, this.graveyardPosition, this.baseVersion);
            t.insertionPosition = this.insertionPosition;
            return t;
          }

          getReversed() {
            const t = this.splitPosition.root.document.graveyard;
            const e = new $h(t, [0]);
            return new sg(this.moveTargetPosition, this.howMany, this.splitPosition, e, this.baseVersion + 1);
          }

          _validate() {
            const t = this.splitPosition.parent;
            const e = this.splitPosition.offset;

            if (!t || t.maxOffset < e) {
              throw new rr["b"]("split-operation-position-invalid: Split position is invalid.", this);
            } else if (!t.parent) {
              throw new rr["b"]("split-operation-split-in-root: Cannot split root element.", this);
            } else if (this.howMany != t.maxOffset - this.splitPosition.offset) {
              throw new rr["b"]("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.", this);
            } else if (this.graveyardPosition && !this.graveyardPosition.nodeAfter) {
              throw new rr["b"]("split-operation-graveyard-position-invalid: Graveyard position invalid.", this);
            }
          }

          _execute() {
            const t = this.splitPosition.parent;

            if (this.graveyardPosition) {
              Wm(Yh._createFromPositionAndShift(this.graveyardPosition, 1), this.insertionPosition);
            } else {
              const e = t._clone();

              Hm(this.insertionPosition, e);
            }

            const e = new Yh($h._createAt(t, this.splitPosition.offset), $h._createAt(t, t.maxOffset));
            Wm(e, this.moveTargetPosition);
          }

          toJSON() {
            const t = super.toJSON();
            t.splitPosition = this.splitPosition.toJSON();
            t.insertionPosition = this.insertionPosition.toJSON();

            if (this.graveyardPosition) {
              t.graveyardPosition = this.graveyardPosition.toJSON();
            }

            return t;
          }

          static get className() {
            return "SplitOperation";
          }

          static getInsertionPosition(t) {
            const e = t.path.slice(0, -1);
            e[e.length - 1]++;
            return new $h(t.root, e);
          }

          static fromJSON(t, e) {
            const n = $h.fromJSON(t.splitPosition, e);
            const i = $h.fromJSON(t.insertionPosition, e);
            const o = t.graveyardPosition ? $h.fromJSON(t.graveyardPosition, e) : null;
            const s = new this(n, t.howMany, o, t.baseVersion);
            s.insertionPosition = i;
            return s;
          }

        }

        class ag extends Hh {
          constructor(t, e, n = "main") {
            super(e);
            this._doc = t;
            this.rootName = n;
          }

          get document() {
            return this._doc;
          }

          is(t, e) {
            const n = t.replace("model:", "");

            if (!e) {
              return n == "rootElement" || super.is(t);
            } else {
              return n == "rootElement" && e == this.name || super.is(t, e);
            }
          }

          toJSON() {
            return this.rootName;
          }

        }

        class cg {
          constructor(t, e) {
            this.model = t;
            this.batch = e;
          }

          createText(t, e) {
            return new Vh(t, e);
          }

          createElement(t, e) {
            return new Hh(t, e);
          }

          createDocumentFragment() {
            return new Bm();
          }

          insert(t, e, n = 0) {
            this._assertWriterUsedCorrectly();

            if (t instanceof Vh && t.data == "") {
              return;
            }

            const i = $h._createAt(e, n);

            if (t.parent) {
              if (fg(t.root, i.root)) {
                this.move(Yh._createOn(t), i);
                return;
              } else {
                if (t.root.document) {
                  throw new rr["b"]("model-writer-insert-forbidden-move: " + "Cannot move a node from a document to a different tree. " + "It is forbidden to move a node that was already in a document outside of it.", this);
                } else {
                  this.remove(t);
                }
              }
            }

            const o = i.root.document ? i.root.document.version : null;
            const s = new eg(i, t, o);

            if (t instanceof Vh) {
              s.shouldReceiveAttributes = true;
            }

            this.batch.addOperation(s);
            this.model.applyOperation(s);

            if (t instanceof Bm) {
              var _iteratorNormalCompletion206 = true;
              var _didIteratorError206 = false;
              var _iteratorError206 = undefined;

              try {
                for (var _iterator206 = t.markers[Symbol.iterator](), _step206; !(_iteratorNormalCompletion206 = (_step206 = _iterator206.next()).done); _iteratorNormalCompletion206 = true) {
                  const _step206$value = _slicedToArray(_step206.value, 2),
                        e = _step206$value[0],
                        n = _step206$value[1];

                  const t = $h._createAt(n.root, 0);

                  const o = new Yh(n.start._getCombined(t, i), n.end._getCombined(t, i));
                  const s = {
                    range: o,
                    usingOperation: true,
                    affectsData: true
                  };

                  if (this.model.markers.has(e)) {
                    this.updateMarker(e, s);
                  } else {
                    this.addMarker(e, s);
                  }
                }
              } catch (err) {
                _didIteratorError206 = true;
                _iteratorError206 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion206 && _iterator206.return != null) {
                    _iterator206.return();
                  }
                } finally {
                  if (_didIteratorError206) {
                    throw _iteratorError206;
                  }
                }
              }
            }
          }

          insertText(t, e, n, i) {
            if (e instanceof Bm || e instanceof Hh || e instanceof $h) {
              this.insert(this.createText(t), e, n);
            } else {
              this.insert(this.createText(t, e), n, i);
            }
          }

          insertElement(t, e, n, i) {
            if (e instanceof Bm || e instanceof Hh || e instanceof $h) {
              this.insert(this.createElement(t), e, n);
            } else {
              this.insert(this.createElement(t, e), n, i);
            }
          }

          append(t, e) {
            this.insert(t, e, "end");
          }

          appendText(t, e, n) {
            if (e instanceof Bm || e instanceof Hh) {
              this.insert(this.createText(t), e, "end");
            } else {
              this.insert(this.createText(t, e), n, "end");
            }
          }

          appendElement(t, e, n) {
            if (e instanceof Bm || e instanceof Hh) {
              this.insert(this.createElement(t), e, "end");
            } else {
              this.insert(this.createElement(t, e), n, "end");
            }
          }

          setAttribute(t, e, n) {
            this._assertWriterUsedCorrectly();

            if (n instanceof Yh) {
              const i = n.getMinimalFlatRanges();
              var _iteratorNormalCompletion207 = true;
              var _didIteratorError207 = false;
              var _iteratorError207 = undefined;

              try {
                for (var _iterator207 = i[Symbol.iterator](), _step207; !(_iteratorNormalCompletion207 = (_step207 = _iterator207.next()).done); _iteratorNormalCompletion207 = true) {
                  const n = _step207.value;
                  lg(this, t, e, n);
                }
              } catch (err) {
                _didIteratorError207 = true;
                _iteratorError207 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion207 && _iterator207.return != null) {
                    _iterator207.return();
                  }
                } finally {
                  if (_didIteratorError207) {
                    throw _iteratorError207;
                  }
                }
              }
            } else {
              dg(this, t, e, n);
            }
          }

          setAttributes(t, e) {
            var _iteratorNormalCompletion208 = true;
            var _didIteratorError208 = false;
            var _iteratorError208 = undefined;

            try {
              for (var _iterator208 = Hr(t)[Symbol.iterator](), _step208; !(_iteratorNormalCompletion208 = (_step208 = _iterator208.next()).done); _iteratorNormalCompletion208 = true) {
                const _step208$value = _slicedToArray(_step208.value, 2),
                      n = _step208$value[0],
                      i = _step208$value[1];

                this.setAttribute(n, i, e);
              }
            } catch (err) {
              _didIteratorError208 = true;
              _iteratorError208 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion208 && _iterator208.return != null) {
                  _iterator208.return();
                }
              } finally {
                if (_didIteratorError208) {
                  throw _iteratorError208;
                }
              }
            }
          }

          removeAttribute(t, e) {
            this._assertWriterUsedCorrectly();

            if (e instanceof Yh) {
              const n = e.getMinimalFlatRanges();
              var _iteratorNormalCompletion209 = true;
              var _didIteratorError209 = false;
              var _iteratorError209 = undefined;

              try {
                for (var _iterator209 = n[Symbol.iterator](), _step209; !(_iteratorNormalCompletion209 = (_step209 = _iterator209.next()).done); _iteratorNormalCompletion209 = true) {
                  const e = _step209.value;
                  lg(this, t, null, e);
                }
              } catch (err) {
                _didIteratorError209 = true;
                _iteratorError209 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion209 && _iterator209.return != null) {
                    _iterator209.return();
                  }
                } finally {
                  if (_didIteratorError209) {
                    throw _iteratorError209;
                  }
                }
              }
            } else {
              dg(this, t, null, e);
            }
          }

          clearAttributes(t) {
            this._assertWriterUsedCorrectly();

            const e = t => {
              var _iteratorNormalCompletion210 = true;
              var _didIteratorError210 = false;
              var _iteratorError210 = undefined;

              try {
                for (var _iterator210 = t.getAttributeKeys()[Symbol.iterator](), _step210; !(_iteratorNormalCompletion210 = (_step210 = _iterator210.next()).done); _iteratorNormalCompletion210 = true) {
                  const e = _step210.value;
                  this.removeAttribute(e, t);
                }
              } catch (err) {
                _didIteratorError210 = true;
                _iteratorError210 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion210 && _iterator210.return != null) {
                    _iterator210.return();
                  }
                } finally {
                  if (_didIteratorError210) {
                    throw _iteratorError210;
                  }
                }
              }
            };

            if (!(t instanceof Yh)) {
              e(t);
            } else {
              var _iteratorNormalCompletion211 = true;
              var _didIteratorError211 = false;
              var _iteratorError211 = undefined;

              try {
                for (var _iterator211 = t.getItems()[Symbol.iterator](), _step211; !(_iteratorNormalCompletion211 = (_step211 = _iterator211.next()).done); _iteratorNormalCompletion211 = true) {
                  const n = _step211.value;
                  e(n);
                }
              } catch (err) {
                _didIteratorError211 = true;
                _iteratorError211 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion211 && _iterator211.return != null) {
                    _iterator211.return();
                  }
                } finally {
                  if (_didIteratorError211) {
                    throw _iteratorError211;
                  }
                }
              }
            }
          }

          move(t, e, n) {
            this._assertWriterUsedCorrectly();

            if (!(t instanceof Yh)) {
              throw new rr["b"]("writer-move-invalid-range: Invalid range to move.", this);
            }

            if (!t.isFlat) {
              throw new rr["b"]("writer-move-range-not-flat: Range to move is not flat.", this);
            }

            const i = $h._createAt(e, n);

            if (i.isEqual(t.start)) {
              return;
            }

            this._addOperationForAffectedMarkers("move", t);

            if (!fg(t.root, i.root)) {
              throw new rr["b"]("writer-move-different-document: Range is going to be moved between different documents.", this);
            }

            const o = t.root.document ? t.root.document.version : null;
            const s = new tg(t.start, t.end.offset - t.start.offset, i, o);
            this.batch.addOperation(s);
            this.model.applyOperation(s);
          }

          remove(t) {
            this._assertWriterUsedCorrectly();

            const e = t instanceof Yh ? t : Yh._createOn(t);
            const n = e.getMinimalFlatRanges().reverse();
            var _iteratorNormalCompletion212 = true;
            var _didIteratorError212 = false;
            var _iteratorError212 = undefined;

            try {
              for (var _iterator212 = n[Symbol.iterator](), _step212; !(_iteratorNormalCompletion212 = (_step212 = _iterator212.next()).done); _iteratorNormalCompletion212 = true) {
                const t = _step212.value;

                this._addOperationForAffectedMarkers("move", t);

                hg(t.start, t.end.offset - t.start.offset, this.batch, this.model);
              }
            } catch (err) {
              _didIteratorError212 = true;
              _iteratorError212 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion212 && _iterator212.return != null) {
                  _iterator212.return();
                }
              } finally {
                if (_didIteratorError212) {
                  throw _iteratorError212;
                }
              }
            }
          }

          merge(t) {
            this._assertWriterUsedCorrectly();

            const e = t.nodeBefore;
            const n = t.nodeAfter;

            this._addOperationForAffectedMarkers("merge", t);

            if (!(e instanceof Hh)) {
              throw new rr["b"]("writer-merge-no-element-before: Node before merge position must be an element.", this);
            }

            if (!(n instanceof Hh)) {
              throw new rr["b"]("writer-merge-no-element-after: Node after merge position must be an element.", this);
            }

            if (!t.root.document) {
              this._mergeDetached(t);
            } else {
              this._merge(t);
            }
          }

          createPositionFromPath(t, e, n) {
            return this.model.createPositionFromPath(t, e, n);
          }

          createPositionAt(t, e) {
            return this.model.createPositionAt(t, e);
          }

          createPositionAfter(t) {
            return this.model.createPositionAfter(t);
          }

          createPositionBefore(t) {
            return this.model.createPositionBefore(t);
          }

          createRange(t, e) {
            return this.model.createRange(t, e);
          }

          createRangeIn(t) {
            return this.model.createRangeIn(t);
          }

          createRangeOn(t) {
            return this.model.createRangeOn(t);
          }

          createSelection(t, e, n) {
            return this.model.createSelection(t, e, n);
          }

          _mergeDetached(t) {
            const e = t.nodeBefore;
            const n = t.nodeAfter;
            this.move(Yh._createIn(n), $h._createAt(e, "end"));
            this.remove(n);
          }

          _merge(t) {
            const e = $h._createAt(t.nodeBefore, "end");

            const n = $h._createAt(t.nodeAfter, 0);

            const i = t.root.document.graveyard;
            const o = new $h(i, [0]);
            const s = t.root.document.version;
            const r = new sg(n, t.nodeAfter.maxOffset, e, o, s);
            this.batch.addOperation(r);
            this.model.applyOperation(r);
          }

          rename(t, e) {
            this._assertWriterUsedCorrectly();

            if (!(t instanceof Hh)) {
              throw new rr["b"]("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.", this);
            }

            const n = t.root.document ? t.root.document.version : null;
            const i = new ig($h._createBefore(t), t.name, e, n);
            this.batch.addOperation(i);
            this.model.applyOperation(i);
          }

          split(t, e) {
            this._assertWriterUsedCorrectly();

            let n = t.parent;

            if (!n.parent) {
              throw new rr["b"]("writer-split-element-no-parent: Element with no parent can not be split.", this);
            }

            if (!e) {
              e = n.parent;
            }

            if (!t.parent.getAncestors({
              includeSelf: true
            }).includes(e)) {
              throw new rr["b"]("writer-split-invalid-limit-element: Limit element is not a position ancestor.", this);
            }

            let i, o;

            do {
              const e = n.root.document ? n.root.document.version : null;
              const s = n.maxOffset - t.offset;
              const r = new rg(t, s, null, e);
              this.batch.addOperation(r);
              this.model.applyOperation(r);

              if (!i && !o) {
                i = n;
                o = t.parent.nextSibling;
              }

              t = this.createPositionAfter(t.parent);
              n = t.parent;
            } while (n !== e);

            return {
              position: t,
              range: new Yh($h._createAt(i, "end"), $h._createAt(o, 0))
            };
          }

          wrap(t, e) {
            this._assertWriterUsedCorrectly();

            if (!t.isFlat) {
              throw new rr["b"]("writer-wrap-range-not-flat: Range to wrap is not flat.", this);
            }

            const n = e instanceof Hh ? e : new Hh(e);

            if (n.childCount > 0) {
              throw new rr["b"]("writer-wrap-element-not-empty: Element to wrap with is not empty.", this);
            }

            if (n.parent !== null) {
              throw new rr["b"]("writer-wrap-element-attached: Element to wrap with is already attached to tree model.", this);
            }

            this.insert(n, t.start);
            const i = new Yh(t.start.getShiftedBy(1), t.end.getShiftedBy(1));
            this.move(i, $h._createAt(n, 0));
          }

          unwrap(t) {
            this._assertWriterUsedCorrectly();

            if (t.parent === null) {
              throw new rr["b"]("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.", this);
            }

            this.move(Yh._createIn(t), this.createPositionAfter(t));
            this.remove(t);
          }

          addMarker(t, e) {
            this._assertWriterUsedCorrectly();

            if (!e || typeof e.usingOperation != "boolean") {
              throw new rr["b"]("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.", this);
            }

            const n = e.usingOperation;
            const i = e.range;
            const o = e.affectsData === undefined ? false : e.affectsData;

            if (this.model.markers.has(t)) {
              throw new rr["b"]("writer-addMarker-marker-exists: Marker with provided name already exists.", this);
            }

            if (!i) {
              throw new rr["b"]("writer-addMarker-no-range: Range parameter is required when adding a new marker.", this);
            }

            if (!n) {
              return this.model.markers._set(t, i, n, o);
            }

            ug(this, t, null, i, o);
            return this.model.markers.get(t);
          }

          updateMarker(t, e) {
            this._assertWriterUsedCorrectly();

            const n = typeof t == "string" ? t : t.name;
            const i = this.model.markers.get(n);

            if (!i) {
              throw new rr["b"]("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.", this);
            }

            if (!e) {
              this.model.markers._refresh(i);

              return;
            }

            const o = typeof e.usingOperation == "boolean";
            const s = typeof e.affectsData == "boolean";
            const r = s ? e.affectsData : i.affectsData;

            if (!o && !e.range && !s) {
              throw new rr["b"]("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.", this);
            }

            const a = i.getRange();
            const c = e.range ? e.range : a;

            if (o && e.usingOperation !== i.managedUsingOperations) {
              if (e.usingOperation) {
                ug(this, n, null, c, r);
              } else {
                ug(this, n, a, null, r);

                this.model.markers._set(n, c, undefined, r);
              }

              return;
            }

            if (i.managedUsingOperations) {
              ug(this, n, a, c, r);
            } else {
              this.model.markers._set(n, c, undefined, r);
            }
          }

          removeMarker(t) {
            this._assertWriterUsedCorrectly();

            const e = typeof t == "string" ? t : t.name;

            if (!this.model.markers.has(e)) {
              throw new rr["b"]("writer-removeMarker-no-marker: Trying to remove marker which does not exist.", this);
            }

            const n = this.model.markers.get(e);

            if (!n.managedUsingOperations) {
              this.model.markers._remove(e);

              return;
            }

            const i = n.getRange();
            ug(this, e, i, null, n.affectsData);
          }

          setSelection(t, e, n) {
            this._assertWriterUsedCorrectly();

            this.model.document.selection._setTo(t, e, n);
          }

          setSelectionFocus(t, e) {
            this._assertWriterUsedCorrectly();

            this.model.document.selection._setFocus(t, e);
          }

          setSelectionAttribute(t, e) {
            this._assertWriterUsedCorrectly();

            if (typeof t === "string") {
              this._setSelectionAttribute(t, e);
            } else {
              var _iteratorNormalCompletion213 = true;
              var _didIteratorError213 = false;
              var _iteratorError213 = undefined;

              try {
                for (var _iterator213 = Hr(t)[Symbol.iterator](), _step213; !(_iteratorNormalCompletion213 = (_step213 = _iterator213.next()).done); _iteratorNormalCompletion213 = true) {
                  const _step213$value = _slicedToArray(_step213.value, 2),
                        e = _step213$value[0],
                        n = _step213$value[1];

                  this._setSelectionAttribute(e, n);
                }
              } catch (err) {
                _didIteratorError213 = true;
                _iteratorError213 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion213 && _iterator213.return != null) {
                    _iterator213.return();
                  }
                } finally {
                  if (_didIteratorError213) {
                    throw _iteratorError213;
                  }
                }
              }
            }
          }

          removeSelectionAttribute(t) {
            this._assertWriterUsedCorrectly();

            if (typeof t === "string") {
              this._removeSelectionAttribute(t);
            } else {
              var _iteratorNormalCompletion214 = true;
              var _didIteratorError214 = false;
              var _iteratorError214 = undefined;

              try {
                for (var _iterator214 = t[Symbol.iterator](), _step214; !(_iteratorNormalCompletion214 = (_step214 = _iterator214.next()).done); _iteratorNormalCompletion214 = true) {
                  const e = _step214.value;

                  this._removeSelectionAttribute(e);
                }
              } catch (err) {
                _didIteratorError214 = true;
                _iteratorError214 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion214 && _iterator214.return != null) {
                    _iterator214.return();
                  }
                } finally {
                  if (_didIteratorError214) {
                    throw _iteratorError214;
                  }
                }
              }
            }
          }

          overrideSelectionGravity() {
            return this.model.document.selection._overrideGravity();
          }

          restoreSelectionGravity(t) {
            this.model.document.selection._restoreGravity(t);
          }

          _setSelectionAttribute(t, e) {
            const n = this.model.document.selection;

            if (n.isCollapsed && n.anchor.parent.isEmpty) {
              const i = uf._getStoreAttributeKey(t);

              this.setAttribute(i, e, n.anchor.parent);
            }

            n._setAttribute(t, e);
          }

          _removeSelectionAttribute(t) {
            const e = this.model.document.selection;

            if (e.isCollapsed && e.anchor.parent.isEmpty) {
              const n = uf._getStoreAttributeKey(t);

              this.removeAttribute(n, e.anchor.parent);
            }

            e._removeAttribute(t);
          }

          _assertWriterUsedCorrectly() {
            if (this.model._currentWriter !== this) {
              throw new rr["b"]("writer-incorrect-use: Trying to use a writer outside the change() block.", this);
            }
          }

          _addOperationForAffectedMarkers(t, e) {
            var _iteratorNormalCompletion215 = true;
            var _didIteratorError215 = false;
            var _iteratorError215 = undefined;

            try {
              for (var _iterator215 = this.model.markers[Symbol.iterator](), _step215; !(_iteratorNormalCompletion215 = (_step215 = _iterator215.next()).done); _iteratorNormalCompletion215 = true) {
                const n = _step215.value;

                if (!n.managedUsingOperations) {
                  continue;
                }

                const i = n.getRange();
                let o = false;

                if (t == "move") {
                  o = e.containsPosition(i.start) || e.start.isEqual(i.start) || e.containsPosition(i.end) || e.end.isEqual(i.end);
                } else {
                  const t = e.nodeBefore;
                  const n = e.nodeAfter;
                  const s = i.start.parent == t && i.start.isAtEnd;
                  const r = i.end.parent == n && i.end.offset == 0;
                  const a = i.end.nodeAfter == n;
                  const c = i.start.nodeAfter == n;
                  o = s || r || a || c;
                }

                if (o) {
                  this.updateMarker(n.name, {
                    range: i
                  });
                }
              }
            } catch (err) {
              _didIteratorError215 = true;
              _iteratorError215 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion215 && _iterator215.return != null) {
                  _iterator215.return();
                }
              } finally {
                if (_didIteratorError215) {
                  throw _iteratorError215;
                }
              }
            }
          }

        }

        function lg(t, e, n, i) {
          const o = t.model;
          const s = o.document;
          let r = i.start;
          let a;
          let c;
          let l;
          var _iteratorNormalCompletion216 = true;
          var _didIteratorError216 = false;
          var _iteratorError216 = undefined;

          try {
            for (var _iterator216 = i.getWalker({
              shallow: true
            })[Symbol.iterator](), _step216; !(_iteratorNormalCompletion216 = (_step216 = _iterator216.next()).done); _iteratorNormalCompletion216 = true) {
              const t = _step216.value;
              l = t.item.getAttribute(e);

              if (a && c != l) {
                if (c != n) {
                  d();
                }

                r = a;
              }

              a = t.nextPosition;
              c = l;
            }
          } catch (err) {
            _didIteratorError216 = true;
            _iteratorError216 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion216 && _iterator216.return != null) {
                _iterator216.return();
              }
            } finally {
              if (_didIteratorError216) {
                throw _iteratorError216;
              }
            }
          }

          if (a instanceof $h && a != r && c != n) {
            d();
          }

          function d() {
            const i = new Yh(r, a);
            const l = i.root.document ? s.version : null;
            const d = new Zm(i, e, c, n, l);
            t.batch.addOperation(d);
            o.applyOperation(d);
          }
        }

        function dg(t, e, n, i) {
          const o = t.model;
          const s = o.document;
          const r = i.getAttribute(e);
          let a, c;

          if (r != n) {
            const l = i.root === i;

            if (l) {
              const t = i.document ? s.version : null;
              c = new og(i, e, r, n, t);
            } else {
              a = new Yh($h._createBefore(i), t.createPositionAfter(i));
              const o = a.root.document ? s.version : null;
              c = new Zm(a, e, r, n, o);
            }

            t.batch.addOperation(c);
            o.applyOperation(c);
          }
        }

        function ug(t, e, n, i, o) {
          const s = t.model;
          const r = s.document;
          const a = new ng(e, n, i, s.markers, o, r.version);
          t.batch.addOperation(a);
          s.applyOperation(a);
        }

        function hg(t, e, n, i) {
          let o;

          if (t.root.document) {
            const n = i.document;
            const s = new $h(n.graveyard, [0]);
            o = new tg(t, e, s, n.version);
          } else {
            o = new Xm(t, e);
          }

          n.addOperation(o);
          i.applyOperation(o);
        }

        function fg(t, e) {
          if (t === e) {
            return true;
          }

          if (t instanceof ag && e instanceof ag) {
            return true;
          }

          return false;
        }

        class mg {
          constructor(t) {
            this._markerCollection = t;
            this._changesInElement = new Map();
            this._elementSnapshots = new Map();
            this._changedMarkers = new Map();
            this._changeCount = 0;
            this._cachedChanges = null;
            this._cachedChangesWithGraveyard = null;
          }

          get isEmpty() {
            return this._changesInElement.size == 0 && this._changedMarkers.size == 0;
          }

          refreshItem(t) {
            if (this._isInInsertedElement(t.parent)) {
              return;
            }

            this._markRemove(t.parent, t.startOffset, t.offsetSize);

            this._markInsert(t.parent, t.startOffset, t.offsetSize);

            const e = Yh._createOn(t);

            var _iteratorNormalCompletion217 = true;
            var _didIteratorError217 = false;
            var _iteratorError217 = undefined;

            try {
              for (var _iterator217 = this._markerCollection.getMarkersIntersectingRange(e)[Symbol.iterator](), _step217; !(_iteratorNormalCompletion217 = (_step217 = _iterator217.next()).done); _iteratorNormalCompletion217 = true) {
                const t = _step217.value;
                const e = t.getRange();
                this.bufferMarkerChange(t.name, e, e, t.affectsData);
              }
            } catch (err) {
              _didIteratorError217 = true;
              _iteratorError217 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion217 && _iterator217.return != null) {
                  _iterator217.return();
                }
              } finally {
                if (_didIteratorError217) {
                  throw _iteratorError217;
                }
              }
            }

            this._cachedChanges = null;
          }

          bufferOperation(t) {
            switch (t.type) {
              case "insert":
                {
                  if (this._isInInsertedElement(t.position.parent)) {
                    return;
                  }

                  this._markInsert(t.position.parent, t.position.offset, t.nodes.maxOffset);

                  break;
                }

              case "addAttribute":
              case "removeAttribute":
              case "changeAttribute":
                {
                  var _iteratorNormalCompletion218 = true;
                  var _didIteratorError218 = false;
                  var _iteratorError218 = undefined;

                  try {
                    for (var _iterator218 = t.range.getItems({
                      shallow: true
                    })[Symbol.iterator](), _step218; !(_iteratorNormalCompletion218 = (_step218 = _iterator218.next()).done); _iteratorNormalCompletion218 = true) {
                      const e = _step218.value;

                      if (this._isInInsertedElement(e.parent)) {
                        continue;
                      }

                      this._markAttribute(e);
                    }
                  } catch (err) {
                    _didIteratorError218 = true;
                    _iteratorError218 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion218 && _iterator218.return != null) {
                        _iterator218.return();
                      }
                    } finally {
                      if (_didIteratorError218) {
                        throw _iteratorError218;
                      }
                    }
                  }

                  break;
                }

              case "remove":
              case "move":
              case "reinsert":
                {
                  if (t.sourcePosition.isEqual(t.targetPosition) || t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition)) {
                    return;
                  }

                  const e = this._isInInsertedElement(t.sourcePosition.parent);

                  const n = this._isInInsertedElement(t.targetPosition.parent);

                  if (!e) {
                    this._markRemove(t.sourcePosition.parent, t.sourcePosition.offset, t.howMany);
                  }

                  if (!n) {
                    this._markInsert(t.targetPosition.parent, t.getMovedRangeStart().offset, t.howMany);
                  }

                  break;
                }

              case "rename":
                {
                  if (this._isInInsertedElement(t.position.parent)) {
                    return;
                  }

                  this._markRemove(t.position.parent, t.position.offset, 1);

                  this._markInsert(t.position.parent, t.position.offset, 1);

                  const e = Yh._createFromPositionAndShift(t.position, 1);

                  var _iteratorNormalCompletion219 = true;
                  var _didIteratorError219 = false;
                  var _iteratorError219 = undefined;

                  try {
                    for (var _iterator219 = this._markerCollection.getMarkersIntersectingRange(e)[Symbol.iterator](), _step219; !(_iteratorNormalCompletion219 = (_step219 = _iterator219.next()).done); _iteratorNormalCompletion219 = true) {
                      const t = _step219.value;
                      const e = t.getRange();
                      this.bufferMarkerChange(t.name, e, e, t.affectsData);
                    }
                  } catch (err) {
                    _didIteratorError219 = true;
                    _iteratorError219 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion219 && _iterator219.return != null) {
                        _iterator219.return();
                      }
                    } finally {
                      if (_didIteratorError219) {
                        throw _iteratorError219;
                      }
                    }
                  }

                  break;
                }

              case "split":
                {
                  const e = t.splitPosition.parent;

                  if (!this._isInInsertedElement(e)) {
                    this._markRemove(e, t.splitPosition.offset, t.howMany);
                  }

                  if (!this._isInInsertedElement(t.insertionPosition.parent)) {
                    this._markInsert(t.insertionPosition.parent, t.insertionPosition.offset, 1);
                  }

                  if (t.graveyardPosition) {
                    this._markRemove(t.graveyardPosition.parent, t.graveyardPosition.offset, 1);
                  }

                  break;
                }

              case "merge":
                {
                  const e = t.sourcePosition.parent;

                  if (!this._isInInsertedElement(e.parent)) {
                    this._markRemove(e.parent, e.startOffset, 1);
                  }

                  const n = t.graveyardPosition.parent;

                  this._markInsert(n, t.graveyardPosition.offset, 1);

                  const i = t.targetPosition.parent;

                  if (!this._isInInsertedElement(i)) {
                    this._markInsert(i, t.targetPosition.offset, e.maxOffset);
                  }

                  break;
                }
            }

            this._cachedChanges = null;
          }

          bufferMarkerChange(t, e, n, i) {
            const o = this._changedMarkers.get(t);

            if (!o) {
              this._changedMarkers.set(t, {
                oldRange: e,
                newRange: n,
                affectsData: i
              });
            } else {
              o.newRange = n;
              o.affectsData = i;

              if (o.oldRange == null && o.newRange == null) {
                this._changedMarkers.delete(t);
              }
            }
          }

          getMarkersToRemove() {
            const t = [];
            var _iteratorNormalCompletion220 = true;
            var _didIteratorError220 = false;
            var _iteratorError220 = undefined;

            try {
              for (var _iterator220 = this._changedMarkers[Symbol.iterator](), _step220; !(_iteratorNormalCompletion220 = (_step220 = _iterator220.next()).done); _iteratorNormalCompletion220 = true) {
                const _step220$value = _slicedToArray(_step220.value, 2),
                      e = _step220$value[0],
                      n = _step220$value[1];

                if (n.oldRange != null) {
                  t.push({
                    name: e,
                    range: n.oldRange
                  });
                }
              }
            } catch (err) {
              _didIteratorError220 = true;
              _iteratorError220 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion220 && _iterator220.return != null) {
                  _iterator220.return();
                }
              } finally {
                if (_didIteratorError220) {
                  throw _iteratorError220;
                }
              }
            }

            return t;
          }

          getMarkersToAdd() {
            const t = [];
            var _iteratorNormalCompletion221 = true;
            var _didIteratorError221 = false;
            var _iteratorError221 = undefined;

            try {
              for (var _iterator221 = this._changedMarkers[Symbol.iterator](), _step221; !(_iteratorNormalCompletion221 = (_step221 = _iterator221.next()).done); _iteratorNormalCompletion221 = true) {
                const _step221$value = _slicedToArray(_step221.value, 2),
                      e = _step221$value[0],
                      n = _step221$value[1];

                if (n.newRange != null) {
                  t.push({
                    name: e,
                    range: n.newRange
                  });
                }
              }
            } catch (err) {
              _didIteratorError221 = true;
              _iteratorError221 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion221 && _iterator221.return != null) {
                  _iterator221.return();
                }
              } finally {
                if (_didIteratorError221) {
                  throw _iteratorError221;
                }
              }
            }

            return t;
          }

          getChangedMarkers() {
            return Array.from(this._changedMarkers).map(t => ({
              name: t[0],
              data: {
                oldRange: t[1].oldRange,
                newRange: t[1].newRange
              }
            }));
          }

          hasDataChanges() {
            var _iteratorNormalCompletion222 = true;
            var _didIteratorError222 = false;
            var _iteratorError222 = undefined;

            try {
              for (var _iterator222 = this._changedMarkers[Symbol.iterator](), _step222; !(_iteratorNormalCompletion222 = (_step222 = _iterator222.next()).done); _iteratorNormalCompletion222 = true) {
                const _step222$value = _slicedToArray(_step222.value, 2),
                      t = _step222$value[1];

                if (t.affectsData) {
                  return true;
                }
              }
            } catch (err) {
              _didIteratorError222 = true;
              _iteratorError222 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion222 && _iterator222.return != null) {
                  _iterator222.return();
                }
              } finally {
                if (_didIteratorError222) {
                  throw _iteratorError222;
                }
              }
            }

            return this._changesInElement.size > 0;
          }

          getChanges(t = {
            includeChangesInGraveyard: false
          }) {
            if (this._cachedChanges) {
              if (t.includeChangesInGraveyard) {
                return this._cachedChangesWithGraveyard.slice();
              } else {
                return this._cachedChanges.slice();
              }
            }

            const e = [];
            var _iteratorNormalCompletion223 = true;
            var _didIteratorError223 = false;
            var _iteratorError223 = undefined;

            try {
              for (var _iterator223 = this._changesInElement.keys()[Symbol.iterator](), _step223; !(_iteratorNormalCompletion223 = (_step223 = _iterator223.next()).done); _iteratorNormalCompletion223 = true) {
                const t = _step223.value;

                const n = this._changesInElement.get(t).sort((t, e) => {
                  if (t.offset === e.offset) {
                    if (t.type != e.type) {
                      return t.type == "remove" ? -1 : 1;
                    }

                    return 0;
                  }

                  return t.offset < e.offset ? -1 : 1;
                });

                const i = this._elementSnapshots.get(t);

                const o = gg(t.getChildren());
                const s = pg(i.length, n);
                let r = 0;
                let a = 0;
                var _iteratorNormalCompletion224 = true;
                var _didIteratorError224 = false;
                var _iteratorError224 = undefined;

                try {
                  for (var _iterator224 = s[Symbol.iterator](), _step224; !(_iteratorNormalCompletion224 = (_step224 = _iterator224.next()).done); _iteratorNormalCompletion224 = true) {
                    const n = _step224.value;

                    if (n === "i") {
                      e.push(this._getInsertDiff(t, r, o[r].name));
                      r++;
                    } else if (n === "r") {
                      e.push(this._getRemoveDiff(t, r, i[a].name));
                      a++;
                    } else if (n === "a") {
                      const n = o[r].attributes;
                      const s = i[a].attributes;
                      let c;

                      if (o[r].name == "$text") {
                        c = new Yh($h._createAt(t, r), $h._createAt(t, r + 1));
                      } else {
                        const e = t.offsetToIndex(r);
                        c = new Yh($h._createAt(t, r), $h._createAt(t.getChild(e), 0));
                      }

                      e.push(...this._getAttributesDiff(c, s, n));
                      r++;
                      a++;
                    } else {
                      r++;
                      a++;
                    }
                  }
                } catch (err) {
                  _didIteratorError224 = true;
                  _iteratorError224 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion224 && _iterator224.return != null) {
                      _iterator224.return();
                    }
                  } finally {
                    if (_didIteratorError224) {
                      throw _iteratorError224;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError223 = true;
              _iteratorError223 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion223 && _iterator223.return != null) {
                  _iterator223.return();
                }
              } finally {
                if (_didIteratorError223) {
                  throw _iteratorError223;
                }
              }
            }

            e.sort((t, e) => {
              if (t.position.root != e.position.root) {
                return t.position.root.rootName < e.position.root.rootName ? -1 : 1;
              }

              if (t.position.isEqual(e.position)) {
                return t.changeCount - e.changeCount;
              }

              return t.position.isBefore(e.position) ? -1 : 1;
            });

            for (let t = 1; t < e.length; t++) {
              const n = e[t - 1];
              const i = e[t];
              const o = n.type == "remove" && i.type == "remove" && n.name == "$text" && i.name == "$text" && n.position.isEqual(i.position);
              const s = n.type == "insert" && i.type == "insert" && n.name == "$text" && i.name == "$text" && n.position.parent == i.position.parent && n.position.offset + n.length == i.position.offset;
              const r = n.type == "attribute" && i.type == "attribute" && n.position.parent == i.position.parent && n.range.isFlat && i.range.isFlat && n.position.offset + n.length == i.position.offset && n.attributeKey == i.attributeKey && n.attributeOldValue == i.attributeOldValue && n.attributeNewValue == i.attributeNewValue;

              if (o || s || r) {
                e[t - 1].length++;

                if (r) {
                  e[t - 1].range.end = e[t - 1].range.end.getShiftedBy(1);
                }

                e.splice(t, 1);
                t--;
              }
            }

            for (var _i34 = 0, _e4 = e; _i34 < _e4.length; _i34++) {
              const t = _e4[_i34];
              delete t.changeCount;

              if (t.type == "attribute") {
                delete t.position;
                delete t.length;
              }
            }

            this._changeCount = 0;
            this._cachedChangesWithGraveyard = e.slice();
            this._cachedChanges = e.slice().filter(bg);

            if (t.includeChangesInGraveyard) {
              return this._cachedChangesWithGraveyard;
            } else {
              return this._cachedChanges;
            }
          }

          reset() {
            this._changesInElement.clear();

            this._elementSnapshots.clear();

            this._changedMarkers.clear();

            this._cachedChanges = null;
          }

          _markInsert(t, e, n) {
            const i = {
              type: "insert",
              offset: e,
              howMany: n,
              count: this._changeCount++
            };

            this._markChange(t, i);
          }

          _markRemove(t, e, n) {
            const i = {
              type: "remove",
              offset: e,
              howMany: n,
              count: this._changeCount++
            };

            this._markChange(t, i);

            this._removeAllNestedChanges(t, e, n);
          }

          _markAttribute(t) {
            const e = {
              type: "attribute",
              offset: t.startOffset,
              howMany: t.offsetSize,
              count: this._changeCount++
            };

            this._markChange(t.parent, e);
          }

          _markChange(t, e) {
            this._makeSnapshot(t);

            const n = this._getChangesForElement(t);

            this._handleChange(e, n);

            n.push(e);

            for (let t = 0; t < n.length; t++) {
              if (n[t].howMany < 1) {
                n.splice(t, 1);
                t--;
              }
            }
          }

          _getChangesForElement(t) {
            let e;

            if (this._changesInElement.has(t)) {
              e = this._changesInElement.get(t);
            } else {
              e = [];

              this._changesInElement.set(t, e);
            }

            return e;
          }

          _makeSnapshot(t) {
            if (!this._elementSnapshots.has(t)) {
              this._elementSnapshots.set(t, gg(t.getChildren()));
            }
          }

          _handleChange(t, e) {
            t.nodesToHandle = t.howMany;
            var _iteratorNormalCompletion225 = true;
            var _didIteratorError225 = false;
            var _iteratorError225 = undefined;

            try {
              for (var _iterator225 = e[Symbol.iterator](), _step225; !(_iteratorNormalCompletion225 = (_step225 = _iterator225.next()).done); _iteratorNormalCompletion225 = true) {
                const n = _step225.value;
                const i = t.offset + t.howMany;
                const o = n.offset + n.howMany;

                if (t.type == "insert") {
                  if (n.type == "insert") {
                    if (t.offset <= n.offset) {
                      n.offset += t.howMany;
                    } else if (t.offset < o) {
                      n.howMany += t.nodesToHandle;
                      t.nodesToHandle = 0;
                    }
                  }

                  if (n.type == "remove") {
                    if (t.offset < n.offset) {
                      n.offset += t.howMany;
                    }
                  }

                  if (n.type == "attribute") {
                    if (t.offset <= n.offset) {
                      n.offset += t.howMany;
                    } else if (t.offset < o) {
                      const o = n.howMany;
                      n.howMany = t.offset - n.offset;
                      e.unshift({
                        type: "attribute",
                        offset: i,
                        howMany: o - n.howMany,
                        count: this._changeCount++
                      });
                    }
                  }
                }

                if (t.type == "remove") {
                  if (n.type == "insert") {
                    if (i <= n.offset) {
                      n.offset -= t.howMany;
                    } else if (i <= o) {
                      if (t.offset < n.offset) {
                        const e = i - n.offset;
                        n.offset = t.offset;
                        n.howMany -= e;
                        t.nodesToHandle -= e;
                      } else {
                        n.howMany -= t.nodesToHandle;
                        t.nodesToHandle = 0;
                      }
                    } else {
                      if (t.offset <= n.offset) {
                        t.nodesToHandle -= n.howMany;
                        n.howMany = 0;
                      } else if (t.offset < o) {
                        const e = o - t.offset;
                        n.howMany -= e;
                        t.nodesToHandle -= e;
                      }
                    }
                  }

                  if (n.type == "remove") {
                    if (i <= n.offset) {
                      n.offset -= t.howMany;
                    } else if (t.offset < n.offset) {
                      t.nodesToHandle += n.howMany;
                      n.howMany = 0;
                    }
                  }

                  if (n.type == "attribute") {
                    if (i <= n.offset) {
                      n.offset -= t.howMany;
                    } else if (t.offset < n.offset) {
                      const e = i - n.offset;
                      n.offset = t.offset;
                      n.howMany -= e;
                    } else if (t.offset < o) {
                      if (i <= o) {
                        const i = n.howMany;
                        n.howMany = t.offset - n.offset;
                        const o = i - n.howMany - t.nodesToHandle;
                        e.unshift({
                          type: "attribute",
                          offset: t.offset,
                          howMany: o,
                          count: this._changeCount++
                        });
                      } else {
                        n.howMany -= o - t.offset;
                      }
                    }
                  }
                }

                if (t.type == "attribute") {
                  if (n.type == "insert") {
                    if (t.offset < n.offset && i > n.offset) {
                      if (i > o) {
                        const t = {
                          type: "attribute",
                          offset: o,
                          howMany: i - o,
                          count: this._changeCount++
                        };

                        this._handleChange(t, e);

                        e.push(t);
                      }

                      t.nodesToHandle = n.offset - t.offset;
                      t.howMany = t.nodesToHandle;
                    } else if (t.offset >= n.offset && t.offset < o) {
                      if (i > o) {
                        t.nodesToHandle = i - o;
                        t.offset = o;
                      } else {
                        t.nodesToHandle = 0;
                      }
                    }
                  }

                  if (n.type == "remove") {
                    if (t.offset < n.offset && i > n.offset) {
                      const o = {
                        type: "attribute",
                        offset: n.offset,
                        howMany: i - n.offset,
                        count: this._changeCount++
                      };

                      this._handleChange(o, e);

                      e.push(o);
                      t.nodesToHandle = n.offset - t.offset;
                      t.howMany = t.nodesToHandle;
                    }
                  }

                  if (n.type == "attribute") {
                    if (t.offset >= n.offset && i <= o) {
                      t.nodesToHandle = 0;
                      t.howMany = 0;
                      t.offset = 0;
                    } else if (t.offset <= n.offset && i >= o) {
                      n.howMany = 0;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError225 = true;
              _iteratorError225 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion225 && _iterator225.return != null) {
                  _iterator225.return();
                }
              } finally {
                if (_didIteratorError225) {
                  throw _iteratorError225;
                }
              }
            }

            t.howMany = t.nodesToHandle;
            delete t.nodesToHandle;
          }

          _getInsertDiff(t, e, n) {
            return {
              type: "insert",
              position: $h._createAt(t, e),
              name: n,
              length: 1,
              changeCount: this._changeCount++
            };
          }

          _getRemoveDiff(t, e, n) {
            return {
              type: "remove",
              position: $h._createAt(t, e),
              name: n,
              length: 1,
              changeCount: this._changeCount++
            };
          }

          _getAttributesDiff(t, e, n) {
            const i = [];
            n = new Map(n);
            var _iteratorNormalCompletion226 = true;
            var _didIteratorError226 = false;
            var _iteratorError226 = undefined;

            try {
              for (var _iterator226 = e[Symbol.iterator](), _step226; !(_iteratorNormalCompletion226 = (_step226 = _iterator226.next()).done); _iteratorNormalCompletion226 = true) {
                const _step226$value = _slicedToArray(_step226.value, 2),
                      o = _step226$value[0],
                      s = _step226$value[1];

                const e = n.has(o) ? n.get(o) : null;

                if (e !== s) {
                  i.push({
                    type: "attribute",
                    position: t.start,
                    range: t.clone(),
                    length: 1,
                    attributeKey: o,
                    attributeOldValue: s,
                    attributeNewValue: e,
                    changeCount: this._changeCount++
                  });
                }

                n.delete(o);
              }
            } catch (err) {
              _didIteratorError226 = true;
              _iteratorError226 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion226 && _iterator226.return != null) {
                  _iterator226.return();
                }
              } finally {
                if (_didIteratorError226) {
                  throw _iteratorError226;
                }
              }
            }

            var _iteratorNormalCompletion227 = true;
            var _didIteratorError227 = false;
            var _iteratorError227 = undefined;

            try {
              for (var _iterator227 = n[Symbol.iterator](), _step227; !(_iteratorNormalCompletion227 = (_step227 = _iterator227.next()).done); _iteratorNormalCompletion227 = true) {
                const _step227$value = _slicedToArray(_step227.value, 2),
                      e = _step227$value[0],
                      o = _step227$value[1];

                i.push({
                  type: "attribute",
                  position: t.start,
                  range: t.clone(),
                  length: 1,
                  attributeKey: e,
                  attributeOldValue: null,
                  attributeNewValue: o,
                  changeCount: this._changeCount++
                });
              }
            } catch (err) {
              _didIteratorError227 = true;
              _iteratorError227 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion227 && _iterator227.return != null) {
                  _iterator227.return();
                }
              } finally {
                if (_didIteratorError227) {
                  throw _iteratorError227;
                }
              }
            }

            return i;
          }

          _isInInsertedElement(t) {
            const e = t.parent;

            if (!e) {
              return false;
            }

            const n = this._changesInElement.get(e);

            const i = t.startOffset;

            if (n) {
              var _iteratorNormalCompletion228 = true;
              var _didIteratorError228 = false;
              var _iteratorError228 = undefined;

              try {
                for (var _iterator228 = n[Symbol.iterator](), _step228; !(_iteratorNormalCompletion228 = (_step228 = _iterator228.next()).done); _iteratorNormalCompletion228 = true) {
                  const t = _step228.value;

                  if (t.type == "insert" && i >= t.offset && i < t.offset + t.howMany) {
                    return true;
                  }
                }
              } catch (err) {
                _didIteratorError228 = true;
                _iteratorError228 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion228 && _iterator228.return != null) {
                    _iterator228.return();
                  }
                } finally {
                  if (_didIteratorError228) {
                    throw _iteratorError228;
                  }
                }
              }
            }

            return this._isInInsertedElement(e);
          }

          _removeAllNestedChanges(t, e, n) {
            const i = new Yh($h._createAt(t, e), $h._createAt(t, e + n));
            var _iteratorNormalCompletion229 = true;
            var _didIteratorError229 = false;
            var _iteratorError229 = undefined;

            try {
              for (var _iterator229 = i.getItems({
                shallow: true
              })[Symbol.iterator](), _step229; !(_iteratorNormalCompletion229 = (_step229 = _iterator229.next()).done); _iteratorNormalCompletion229 = true) {
                const t = _step229.value;

                if (t.is("element")) {
                  this._elementSnapshots.delete(t);

                  this._changesInElement.delete(t);

                  this._removeAllNestedChanges(t, 0, t.maxOffset);
                }
              }
            } catch (err) {
              _didIteratorError229 = true;
              _iteratorError229 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion229 && _iterator229.return != null) {
                  _iterator229.return();
                }
              } finally {
                if (_didIteratorError229) {
                  throw _iteratorError229;
                }
              }
            }
          }

        }

        function gg(t) {
          const e = [];
          var _iteratorNormalCompletion230 = true;
          var _didIteratorError230 = false;
          var _iteratorError230 = undefined;

          try {
            for (var _iterator230 = t[Symbol.iterator](), _step230; !(_iteratorNormalCompletion230 = (_step230 = _iterator230.next()).done); _iteratorNormalCompletion230 = true) {
              const n = _step230.value;

              if (n.is("text")) {
                for (let t = 0; t < n.data.length; t++) {
                  e.push({
                    name: "$text",
                    attributes: new Map(n.getAttributes())
                  });
                }
              } else {
                e.push({
                  name: n.name,
                  attributes: new Map(n.getAttributes())
                });
              }
            }
          } catch (err) {
            _didIteratorError230 = true;
            _iteratorError230 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion230 && _iterator230.return != null) {
                _iterator230.return();
              }
            } finally {
              if (_didIteratorError230) {
                throw _iteratorError230;
              }
            }
          }

          return e;
        }

        function pg(t, e) {
          const n = [];
          let i = 0;
          let o = 0;
          var _iteratorNormalCompletion231 = true;
          var _didIteratorError231 = false;
          var _iteratorError231 = undefined;

          try {
            for (var _iterator231 = e[Symbol.iterator](), _step231; !(_iteratorNormalCompletion231 = (_step231 = _iterator231.next()).done); _iteratorNormalCompletion231 = true) {
              const t = _step231.value;

              if (t.offset > i) {
                for (let e = 0; e < t.offset - i; e++) {
                  n.push("e");
                }

                o += t.offset - i;
              }

              if (t.type == "insert") {
                for (let e = 0; e < t.howMany; e++) {
                  n.push("i");
                }

                i = t.offset + t.howMany;
              } else if (t.type == "remove") {
                for (let e = 0; e < t.howMany; e++) {
                  n.push("r");
                }

                i = t.offset;
                o += t.howMany;
              } else {
                n.push(..."a".repeat(t.howMany).split(""));
                i = t.offset + t.howMany;
                o += t.howMany;
              }
            }
          } catch (err) {
            _didIteratorError231 = true;
            _iteratorError231 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion231 && _iterator231.return != null) {
                _iterator231.return();
              }
            } finally {
              if (_didIteratorError231) {
                throw _iteratorError231;
              }
            }
          }

          if (o < t) {
            for (let e = 0; e < t - o - i; e++) {
              n.push("e");
            }
          }

          return n;
        }

        function bg(t) {
          const e = t.position && t.position.root.rootName == "$graveyard";
          const n = t.range && t.range.root.rootName == "$graveyard";
          return !e && !n;
        }

        class wg {
          constructor() {
            this._operations = [];
            this._undoPairs = new Map();
            this._undoneOperations = new Set();
          }

          addOperation(t) {
            if (this._operations.includes(t)) {
              return;
            }

            this._operations.push(t);
          }

          getOperations(t = 0, e = Number.POSITIVE_INFINITY) {
            if (t < 0) {
              return [];
            }

            return this._operations.slice(t, e);
          }

          getOperation(t) {
            return this._operations[t];
          }

          setOperationAsUndone(t, e) {
            this._undoPairs.set(e, t);

            this._undoneOperations.add(t);
          }

          isUndoingOperation(t) {
            return this._undoPairs.has(t);
          }

          isUndoneOperation(t) {
            return this._undoneOperations.has(t);
          }

          getUndoneOperation(t) {
            return this._undoPairs.get(t);
          }

        }

        function _g(t) {
          return !!t && t.length == 1 && /[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);
        }

        function kg(t) {
          return !!t && t.length == 1 && /[\ud800-\udbff]/.test(t);
        }

        function vg(t) {
          return !!t && t.length == 1 && /[\udc00-\udfff]/.test(t);
        }

        function yg(t, e) {
          return kg(t.charAt(e - 1)) && vg(t.charAt(e));
        }

        function xg(t, e) {
          return _g(t.charAt(e));
        }

        const Ag = "$graveyard";

        class Tg {
          constructor(t) {
            this.model = t;
            this.version = 0;
            this.history = new wg(this);
            this.selection = new uf(this);
            this.roots = new yr({
              idProperty: "rootName"
            });
            this.differ = new mg(t.markers);
            this._postFixers = new Set();
            this._hasSelectionChangedFromTheLastChangeBlock = false;
            this.createRoot("$root", Ag);
            this.listenTo(t, "applyOperation", (t, e) => {
              const n = e[0];

              if (n.isDocumentOperation && n.baseVersion !== this.version) {
                throw new rr["b"]("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.", this, {
                  operation: n
                });
              }
            }, {
              priority: "highest"
            });
            this.listenTo(t, "applyOperation", (t, e) => {
              const n = e[0];

              if (n.isDocumentOperation) {
                this.differ.bufferOperation(n);
              }
            }, {
              priority: "high"
            });
            this.listenTo(t, "applyOperation", (t, e) => {
              const n = e[0];

              if (n.isDocumentOperation) {
                this.version++;
                this.history.addOperation(n);
              }
            }, {
              priority: "low"
            });
            this.listenTo(this.selection, "change", () => {
              this._hasSelectionChangedFromTheLastChangeBlock = true;
            });
            this.listenTo(t.markers, "update", (t, e, n, i) => {
              this.differ.bufferMarkerChange(e.name, n, i, e.affectsData);

              if (n === null) {
                e.on("change", (t, n) => {
                  this.differ.bufferMarkerChange(e.name, n, e.getRange(), e.affectsData);
                });
              }
            });
          }

          get graveyard() {
            return this.getRoot(Ag);
          }

          createRoot(t = "$root", e = "main") {
            if (this.roots.get(e)) {
              throw new rr["b"]("model-document-createRoot-name-exists: Root with specified name already exists.", this, {
                name: e
              });
            }

            const n = new ag(this, t, e);
            this.roots.add(n);
            return n;
          }

          destroy() {
            this.selection.destroy();
            this.stopListening();
          }

          getRoot(t = "main") {
            return this.roots.get(t);
          }

          getRootNames() {
            return Array.from(this.roots, t => t.rootName).filter(t => t != Ag);
          }

          registerPostFixer(t) {
            this._postFixers.add(t);
          }

          toJSON() {
            const t = Lr(this);
            t.selection = "[engine.model.DocumentSelection]";
            t.model = "[engine.model.Model]";
            return t;
          }

          _handleChangeBlock(t) {
            if (this._hasDocumentChangedFromTheLastChangeBlock()) {
              this._callPostFixers(t);

              this.selection.refresh();

              if (this.differ.hasDataChanges()) {
                this.fire("change:data", t.batch);
              } else {
                this.fire("change", t.batch);
              }

              this.selection.refresh();
              this.differ.reset();
            }

            this._hasSelectionChangedFromTheLastChangeBlock = false;
          }

          _hasDocumentChangedFromTheLastChangeBlock() {
            return !this.differ.isEmpty || this._hasSelectionChangedFromTheLastChangeBlock;
          }

          _getDefaultRoot() {
            var _iteratorNormalCompletion232 = true;
            var _didIteratorError232 = false;
            var _iteratorError232 = undefined;

            try {
              for (var _iterator232 = this.roots[Symbol.iterator](), _step232; !(_iteratorNormalCompletion232 = (_step232 = _iterator232.next()).done); _iteratorNormalCompletion232 = true) {
                const t = _step232.value;

                if (t !== this.graveyard) {
                  return t;
                }
              }
            } catch (err) {
              _didIteratorError232 = true;
              _iteratorError232 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion232 && _iterator232.return != null) {
                  _iterator232.return();
                }
              } finally {
                if (_didIteratorError232) {
                  throw _iteratorError232;
                }
              }
            }

            return this.graveyard;
          }

          _getDefaultRange() {
            const t = this._getDefaultRoot();

            const e = this.model;
            const n = e.schema;
            const i = e.createPositionFromPath(t, [0]);
            const o = n.getNearestSelectionRange(i);
            return o || e.createRange(i);
          }

          _validateSelectionRange(t) {
            return Cg(t.start) && Cg(t.end);
          }

          _callPostFixers(t) {
            let e = false;

            do {
              var _iteratorNormalCompletion233 = true;
              var _didIteratorError233 = false;
              var _iteratorError233 = undefined;

              try {
                for (var _iterator233 = this._postFixers[Symbol.iterator](), _step233; !(_iteratorNormalCompletion233 = (_step233 = _iterator233.next()).done); _iteratorNormalCompletion233 = true) {
                  const n = _step233.value;
                  this.selection.refresh();
                  e = n(t);

                  if (e) {
                    break;
                  }
                }
              } catch (err) {
                _didIteratorError233 = true;
                _iteratorError233 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion233 && _iterator233.return != null) {
                    _iterator233.return();
                  }
                } finally {
                  if (_didIteratorError233) {
                    throw _iteratorError233;
                  }
                }
              }
            } while (e);
          }

        }

        vr(Tg, dr);

        function Cg(t) {
          const e = t.textNode;

          if (e) {
            const n = e.data;
            const i = t.offset - e.startOffset;
            return !yg(n, i) && !xg(n, i);
          }

          return true;
        }

        class Pg {
          constructor() {
            this._markers = new Map();
          }

          [Symbol.iterator]() {
            return this._markers.values();
          }

          has(t) {
            return this._markers.has(t);
          }

          get(t) {
            return this._markers.get(t) || null;
          }

          _set(t, e, n = false, i = false) {
            const o = t instanceof Sg ? t.name : t;

            const s = this._markers.get(o);

            if (s) {
              const t = s.getRange();
              let r = false;

              if (!t.isEqual(e)) {
                s._attachLiveRange(rf.fromRange(e));

                r = true;
              }

              if (n != s.managedUsingOperations) {
                s._managedUsingOperations = n;
                r = true;
              }

              if (typeof i === "boolean" && i != s.affectsData) {
                s._affectsData = i;
                r = true;
              }

              if (r) {
                this.fire("update:" + o, s, t, e);
              }

              return s;
            }

            const r = rf.fromRange(e);
            const a = new Sg(o, r, n, i);

            this._markers.set(o, a);

            this.fire("update:" + o, a, null, e);
            return a;
          }

          _remove(t) {
            const e = t instanceof Sg ? t.name : t;

            const n = this._markers.get(e);

            if (n) {
              this._markers.delete(e);

              this.fire("update:" + e, n, n.getRange(), null);

              this._destroyMarker(n);

              return true;
            }

            return false;
          }

          _refresh(t) {
            const e = t instanceof Sg ? t.name : t;

            const n = this._markers.get(e);

            if (!n) {
              throw new rr["b"]("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.", this);
            }

            const i = n.getRange();
            this.fire("update:" + e, n, i, i, n.managedUsingOperations, n.affectsData);
          }

          getMarkersAtPosition(t) {
            var _this25 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee27() {
                var _iteratorNormalCompletion234, _didIteratorError234, _iteratorError234, _iterator234, _step234, e;

                return regeneratorRuntime.wrap(function _callee27$(_context31) {
                  while (1) switch (_context31.prev = _context31.next) {
                    case 0:
                      _iteratorNormalCompletion234 = true;
                      _didIteratorError234 = false;
                      _iteratorError234 = undefined;
                      _context31.prev = 3;
                      _iterator234 = _this25[Symbol.iterator]();

                    case 5:
                      if (_iteratorNormalCompletion234 = (_step234 = _iterator234.next()).done) {
                        _context31.next = 13;
                        break;
                      }

                      e = _step234.value;

                      if (!e.getRange().containsPosition(t)) {
                        _context31.next = 10;
                        break;
                      }

                      _context31.next = 10;
                      return e;

                    case 10:
                      _iteratorNormalCompletion234 = true;
                      _context31.next = 5;
                      break;

                    case 13:
                      _context31.next = 19;
                      break;

                    case 15:
                      _context31.prev = 15;
                      _context31.t0 = _context31["catch"](3);
                      _didIteratorError234 = true;
                      _iteratorError234 = _context31.t0;

                    case 19:
                      _context31.prev = 19;
                      _context31.prev = 20;

                      if (!_iteratorNormalCompletion234 && _iterator234.return != null) {
                        _iterator234.return();
                      }

                    case 22:
                      _context31.prev = 22;

                      if (!_didIteratorError234) {
                        _context31.next = 25;
                        break;
                      }

                      throw _iteratorError234;

                    case 25:
                      return _context31.finish(22);

                    case 26:
                      return _context31.finish(19);

                    case 27:
                    case "end":
                      return _context31.stop();
                  }
                }, _callee27, null, [[3, 15, 19, 27], [20,, 22, 26]]);
              })()
            );
          }

          getMarkersIntersectingRange(t) {
            var _this26 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee28() {
                var _iteratorNormalCompletion235, _didIteratorError235, _iteratorError235, _iterator235, _step235, e;

                return regeneratorRuntime.wrap(function _callee28$(_context32) {
                  while (1) switch (_context32.prev = _context32.next) {
                    case 0:
                      _iteratorNormalCompletion235 = true;
                      _didIteratorError235 = false;
                      _iteratorError235 = undefined;
                      _context32.prev = 3;
                      _iterator235 = _this26[Symbol.iterator]();

                    case 5:
                      if (_iteratorNormalCompletion235 = (_step235 = _iterator235.next()).done) {
                        _context32.next = 13;
                        break;
                      }

                      e = _step235.value;

                      if (!(e.getRange().getIntersection(t) !== null)) {
                        _context32.next = 10;
                        break;
                      }

                      _context32.next = 10;
                      return e;

                    case 10:
                      _iteratorNormalCompletion235 = true;
                      _context32.next = 5;
                      break;

                    case 13:
                      _context32.next = 19;
                      break;

                    case 15:
                      _context32.prev = 15;
                      _context32.t0 = _context32["catch"](3);
                      _didIteratorError235 = true;
                      _iteratorError235 = _context32.t0;

                    case 19:
                      _context32.prev = 19;
                      _context32.prev = 20;

                      if (!_iteratorNormalCompletion235 && _iterator235.return != null) {
                        _iterator235.return();
                      }

                    case 22:
                      _context32.prev = 22;

                      if (!_didIteratorError235) {
                        _context32.next = 25;
                        break;
                      }

                      throw _iteratorError235;

                    case 25:
                      return _context32.finish(22);

                    case 26:
                      return _context32.finish(19);

                    case 27:
                    case "end":
                      return _context32.stop();
                  }
                }, _callee28, null, [[3, 15, 19, 27], [20,, 22, 26]]);
              })()
            );
          }

          destroy() {
            var _iteratorNormalCompletion236 = true;
            var _didIteratorError236 = false;
            var _iteratorError236 = undefined;

            try {
              for (var _iterator236 = this._markers.values()[Symbol.iterator](), _step236; !(_iteratorNormalCompletion236 = (_step236 = _iterator236.next()).done); _iteratorNormalCompletion236 = true) {
                const t = _step236.value;

                this._destroyMarker(t);
              }
            } catch (err) {
              _didIteratorError236 = true;
              _iteratorError236 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion236 && _iterator236.return != null) {
                  _iterator236.return();
                }
              } finally {
                if (_didIteratorError236) {
                  throw _iteratorError236;
                }
              }
            }

            this._markers = null;
            this.stopListening();
          }

          getMarkersGroup(t) {
            var _this27 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee29() {
                var _iteratorNormalCompletion237, _didIteratorError237, _iteratorError237, _iterator237, _step237, e;

                return regeneratorRuntime.wrap(function _callee29$(_context33) {
                  while (1) switch (_context33.prev = _context33.next) {
                    case 0:
                      _iteratorNormalCompletion237 = true;
                      _didIteratorError237 = false;
                      _iteratorError237 = undefined;
                      _context33.prev = 3;
                      _iterator237 = _this27._markers.values()[Symbol.iterator]();

                    case 5:
                      if (_iteratorNormalCompletion237 = (_step237 = _iterator237.next()).done) {
                        _context33.next = 13;
                        break;
                      }

                      e = _step237.value;

                      if (!e.name.startsWith(t + ":")) {
                        _context33.next = 10;
                        break;
                      }

                      _context33.next = 10;
                      return e;

                    case 10:
                      _iteratorNormalCompletion237 = true;
                      _context33.next = 5;
                      break;

                    case 13:
                      _context33.next = 19;
                      break;

                    case 15:
                      _context33.prev = 15;
                      _context33.t0 = _context33["catch"](3);
                      _didIteratorError237 = true;
                      _iteratorError237 = _context33.t0;

                    case 19:
                      _context33.prev = 19;
                      _context33.prev = 20;

                      if (!_iteratorNormalCompletion237 && _iterator237.return != null) {
                        _iterator237.return();
                      }

                    case 22:
                      _context33.prev = 22;

                      if (!_didIteratorError237) {
                        _context33.next = 25;
                        break;
                      }

                      throw _iteratorError237;

                    case 25:
                      return _context33.finish(22);

                    case 26:
                      return _context33.finish(19);

                    case 27:
                    case "end":
                      return _context33.stop();
                  }
                }, _callee29, null, [[3, 15, 19, 27], [20,, 22, 26]]);
              })()
            );
          }

          _destroyMarker(t) {
            t.stopListening();

            t._detachLiveRange();
          }

        }

        vr(Pg, dr);

        class Sg {
          constructor(t, e, n, i) {
            this.name = t;
            this._liveRange = this._attachLiveRange(e);
            this._managedUsingOperations = n;
            this._affectsData = i;
          }

          get managedUsingOperations() {
            if (!this._liveRange) {
              throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.", this);
            }

            return this._managedUsingOperations;
          }

          get affectsData() {
            if (!this._liveRange) {
              throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.", this);
            }

            return this._affectsData;
          }

          getStart() {
            if (!this._liveRange) {
              throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.", this);
            }

            return this._liveRange.start.clone();
          }

          getEnd() {
            if (!this._liveRange) {
              throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.", this);
            }

            return this._liveRange.end.clone();
          }

          getRange() {
            if (!this._liveRange) {
              throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.", this);
            }

            return this._liveRange.toRange();
          }

          is(t) {
            return t == "marker" || t == "model:marker";
          }

          _attachLiveRange(t) {
            if (this._liveRange) {
              this._detachLiveRange();
            }

            t.delegate("change:range").to(this);
            t.delegate("change:content").to(this);
            this._liveRange = t;
            return t;
          }

          _detachLiveRange() {
            this._liveRange.stopDelegating("change:range", this);

            this._liveRange.stopDelegating("change:content", this);

            this._liveRange.detach();

            this._liveRange = null;
          }

        }

        vr(Sg, dr);

        class Mg extends Vm {
          get type() {
            return "noop";
          }

          clone() {
            return new Mg(this.baseVersion);
          }

          getReversed() {
            return new Mg(this.baseVersion + 1);
          }

          _execute() {}

          static get className() {
            return "NoOperation";
          }

        }

        const Eg = {};
        Eg[Zm.className] = Zm;
        Eg[eg.className] = eg;
        Eg[ng.className] = ng;
        Eg[tg.className] = tg;
        Eg[Mg.className] = Mg;
        Eg[Vm.className] = Vm;
        Eg[ig.className] = ig;
        Eg[og.className] = og;
        Eg[rg.className] = rg;
        Eg[sg.className] = sg;

        class Ig {
          static fromJSON(t, e) {
            return Eg[t.__className].fromJSON(t, e);
          }

        }

        class Ng extends $h {
          constructor(t, e, n = "toNone") {
            super(t, e, n);

            if (!this.root.is("rootElement")) {
              throw new rr["b"]("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.", t);
            }

            Og.call(this);
          }

          detach() {
            this.stopListening();
          }

          is(t) {
            return t == "livePosition" || t == "model:livePosition" || super.is(t);
          }

          toPosition() {
            return new $h(this.root, this.path.slice(), this.stickiness);
          }

          static fromPosition(t, e) {
            return new this(t.root, t.path.slice(), e ? e : t.stickiness);
          }

        }

        function Og() {
          this.listenTo(this.root.document.model, "applyOperation", (t, e) => {
            const n = e[0];

            if (!n.isDocumentOperation) {
              return;
            }

            Rg.call(this, n);
          }, {
            priority: "low"
          });
        }

        function Rg(t) {
          const e = this.getTransformedByOperation(t);

          if (!this.isEqual(e)) {
            const t = this.toPosition();
            this.path = e.path;
            this.root = e.root;
            this.fire("change", t);
          }
        }

        vr(Ng, dr);

        function Dg(t, e, n, i) {
          return t.change(o => {
            let s;

            if (!n) {
              s = t.document.selection;
            } else if (n instanceof Xh || n instanceof uf) {
              s = n;
            } else {
              s = o.createSelection(n, i);
            }

            const r = s.getFirstPosition();

            if (!s.isCollapsed) {
              t.deleteContent(s, {
                doNotAutoparagraph: true
              });
            }

            const a = new Lg(t, o, r);
            let c;

            if (e.is("documentFragment")) {
              c = e.getChildren();
            } else {
              c = [e];
            }

            a.handleNodes(c, {
              isFirst: true,
              isLast: true
            });
            const l = a.getSelectionRange();

            if (l) {
              if (s instanceof uf) {
                o.setSelection(l);
              } else {
                s.setTo(l);
              }
            } else {}

            const d = a.getAffectedRange() || t.createRange(r);
            a.destroy();
            return d;
          });
        }

        class Lg {
          constructor(t, e, n) {
            this.model = t;
            this.writer = e;
            this.position = n;
            this.canMergeWith = new Set([this.position.parent]);
            this.schema = t.schema;
            this._filterAttributesOf = [];
            this._affectedStart = null;
            this._affectedEnd = null;
          }

          handleNodes(t, e) {
            t = Array.from(t);

            for (let n = 0; n < t.length; n++) {
              const i = t[n];

              this._handleNode(i, {
                isFirst: n === 0 && e.isFirst,
                isLast: n === t.length - 1 && e.isLast
              });
            }

            this.schema.removeDisallowedAttributes(this._filterAttributesOf, this.writer);
            this._filterAttributesOf = [];
          }

          getSelectionRange() {
            if (this.nodeToSelect) {
              return Yh._createOn(this.nodeToSelect);
            }

            return this.model.schema.getNearestSelectionRange(this.position);
          }

          getAffectedRange() {
            if (!this._affectedStart) {
              return null;
            }

            return new Yh(this._affectedStart, this._affectedEnd);
          }

          destroy() {
            if (this._affectedStart) {
              this._affectedStart.detach();
            }

            if (this._affectedEnd) {
              this._affectedEnd.detach();
            }
          }

          _handleNode(t, e) {
            if (this.schema.isObject(t)) {
              this._handleObject(t, e);

              return;
            }

            const n = this._checkAndSplitToAllowedPosition(t, e);

            if (!n) {
              this._handleDisallowedNode(t, e);

              return;
            }

            this._insert(t);

            this._mergeSiblingsOf(t, e);
          }

          _handleObject(t, e) {
            if (this._checkAndSplitToAllowedPosition(t)) {
              this._insert(t);
            } else {
              this._tryAutoparagraphing(t, e);
            }
          }

          _handleDisallowedNode(t, e) {
            if (t.is("element")) {
              this.handleNodes(t.getChildren(), e);
            } else {
              this._tryAutoparagraphing(t, e);
            }
          }

          _insert(t) {
            if (!this.schema.checkChild(this.position, t)) {
              throw new rr["b"]("insertcontent-wrong-position: Given node cannot be inserted on the given position.", this, {
                node: t,
                position: this.position
              });
            }

            const e = Ng.fromPosition(this.position, "toNext");

            this._setAffectedBoundaries(this.position);

            this.writer.insert(t, this.position);
            this.position = e.toPosition();
            e.detach();

            if (this.schema.isObject(t) && !this.schema.checkChild(this.position, "$text")) {
              this.nodeToSelect = t;
            } else {
              this.nodeToSelect = null;
            }

            this._filterAttributesOf.push(t);
          }

          _setAffectedBoundaries(t) {
            if (!this._affectedStart) {
              this._affectedStart = Ng.fromPosition(t, "toPrevious");
            }

            if (!this._affectedEnd || this._affectedEnd.isBefore(t)) {
              if (this._affectedEnd) {
                this._affectedEnd.detach();
              }

              this._affectedEnd = Ng.fromPosition(t, "toNext");
            }
          }

          _mergeSiblingsOf(t, e) {
            if (!(t instanceof Hh)) {
              return;
            }

            const n = this._canMergeLeft(t, e);

            const i = this._canMergeRight(t, e);

            const o = Ng._createBefore(t);

            o.stickiness = "toNext";

            const s = Ng._createAfter(t);

            s.stickiness = "toNext";

            if (n) {
              const t = Ng.fromPosition(this.position);
              t.stickiness = "toNext";

              if (this._affectedStart.isEqual(o)) {
                this._affectedStart.detach();

                this._affectedStart = Ng._createAt(o.nodeBefore, "end", "toPrevious");
              }

              this.writer.merge(o);

              if (o.isEqual(this._affectedEnd) && e.isLast) {
                this._affectedEnd.detach();

                this._affectedEnd = Ng._createAt(o.nodeBefore, "end", "toNext");
              }

              this.position = t.toPosition();
              t.detach();
            }

            if (i) {
              if (!this.position.isEqual(s)) {
                throw new rr["b"]("insertcontent-invalid-insertion-position", this);
              }

              this.position = $h._createAt(s.nodeBefore, "end");
              const t = Ng.fromPosition(this.position, "toPrevious");

              if (this._affectedEnd.isEqual(s)) {
                this._affectedEnd.detach();

                this._affectedEnd = Ng._createAt(s.nodeBefore, "end", "toNext");
              }

              this.writer.merge(s);

              if (s.getShiftedBy(-1).isEqual(this._affectedStart) && e.isFirst) {
                this._affectedStart.detach();

                this._affectedStart = Ng._createAt(s.nodeBefore, 0, "toPrevious");
              }

              this.position = t.toPosition();
              t.detach();
            }

            if (n || i) {
              this._filterAttributesOf.push(this.position.parent);
            }

            o.detach();
            s.detach();
          }

          _canMergeLeft(t, e) {
            const n = t.previousSibling;
            return e.isFirst && n instanceof Hh && this.canMergeWith.has(n) && this.model.schema.checkMerge(n, t);
          }

          _canMergeRight(t, e) {
            const n = t.nextSibling;
            return e.isLast && n instanceof Hh && this.canMergeWith.has(n) && this.model.schema.checkMerge(t, n);
          }

          _tryAutoparagraphing(t, e) {
            const n = this.writer.createElement("paragraph");

            if (this._getAllowedIn(n, this.position.parent) && this.schema.checkChild(n, t)) {
              n._appendChild(t);

              this._handleNode(n, e);
            }
          }

          _checkAndSplitToAllowedPosition(t) {
            const e = this._getAllowedIn(t, this.position.parent);

            if (!e) {
              return false;
            }

            while (e != this.position.parent) {
              if (this.schema.isLimit(this.position.parent)) {
                return false;
              }

              if (this.position.isAtStart) {
                const t = this.position.parent;
                this.position = this.writer.createPositionBefore(t);

                if (t.isEmpty && t.parent === e) {
                  this.writer.remove(t);
                }
              } else if (this.position.isAtEnd) {
                this.position = this.writer.createPositionAfter(this.position.parent);
              } else {
                const t = this.writer.createPositionAfter(this.position.parent);

                this._setAffectedBoundaries(this.position);

                this.writer.split(this.position);
                this.position = t;
                this.canMergeWith.add(this.position.nodeAfter);
              }
            }

            return true;
          }

          _getAllowedIn(t, e) {
            if (this.schema.checkChild(e, t)) {
              return e;
            }

            if (e.parent) {
              return this._getAllowedIn(t, e.parent);
            }

            return null;
          }

        }

        function zg(t, e, n = {}) {
          if (e.isCollapsed) {
            return;
          }

          const i = e.getFirstRange();

          if (i.root.rootName == "$graveyard") {
            return;
          }

          const o = t.schema;
          t.change(t => {
            if (!n.doNotResetEntireContent && Ug(o, e)) {
              Hg(t, e, o);
              return;
            }

            const s = i.start;
            const r = Ng.fromPosition(i.end, "toNext");

            if (!i.start.isTouching(i.end)) {
              t.remove(i);
            }

            if (!n.leaveUnmerged) {
              jg(t, s, r);
              o.removeDisallowedAttributes(s.parent.getChildren(), t);
            }

            Wg(t, e, s);

            if (Vg(o, s)) {
              const i = o.getNearestSelectionRange(s);

              if (n.doNotAutoparagraph && i) {
                Wg(t, e, i);
              } else {
                Fg(t, s, e);
              }
            }

            r.detach();
          });
        }

        function jg(t, e, n) {
          const i = e.parent;
          const o = n.parent;

          if (i == o) {
            return;
          }

          if (t.model.schema.isLimit(i) || t.model.schema.isLimit(o)) {
            return;
          }

          if (!Bg(e, n, t.model.schema)) {
            return;
          }

          e = t.createPositionAfter(i);
          n = t.createPositionBefore(o);

          if (!n.isEqual(e)) {
            t.insert(o, e);
          }

          t.merge(e);

          while (n.parent.isEmpty) {
            const e = n.parent;
            n = t.createPositionBefore(e);
            t.remove(e);
          }

          jg(t, e, n);
        }

        function Vg(t, e) {
          const n = t.checkChild(e, "$text");
          const i = t.checkChild(e, "paragraph");
          return !n && i;
        }

        function Bg(t, e, n) {
          const i = new Yh(t, e);
          var _iteratorNormalCompletion238 = true;
          var _didIteratorError238 = false;
          var _iteratorError238 = undefined;

          try {
            for (var _iterator238 = i.getWalker()[Symbol.iterator](), _step238; !(_iteratorNormalCompletion238 = (_step238 = _iterator238.next()).done); _iteratorNormalCompletion238 = true) {
              const t = _step238.value;

              if (n.isLimit(t.item)) {
                return false;
              }
            }
          } catch (err) {
            _didIteratorError238 = true;
            _iteratorError238 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion238 && _iterator238.return != null) {
                _iterator238.return();
              }
            } finally {
              if (_didIteratorError238) {
                throw _iteratorError238;
              }
            }
          }

          return true;
        }

        function Fg(t, e, n) {
          const i = t.createElement("paragraph");
          t.insert(i, e);
          Wg(t, n, t.createPositionAt(i, 0));
        }

        function Hg(t, e) {
          const n = t.model.schema.getLimitElement(e);
          t.remove(t.createRangeIn(n));
          Fg(t, t.createPositionAt(n, 0), e);
        }

        function Ug(t, e) {
          const n = t.getLimitElement(e);

          if (!e.containsEntireContent(n)) {
            return false;
          }

          const i = e.getFirstRange();

          if (i.start.parent == i.end.parent) {
            return false;
          }

          return t.checkChild(n, "paragraph");
        }

        function Wg(t, e, n) {
          if (e instanceof uf) {
            t.setSelection(n);
          } else {
            e.setTo(n);
          }
        }

        const qg = ' ,.?!:;"-()';

        function $g(t, e, n = {}) {
          const i = t.schema;
          const o = n.direction != "backward";
          const s = n.unit ? n.unit : "character";
          const r = e.focus;
          const a = new Wh({
            boundaries: Kg(r, o),
            singleCharacters: true,
            direction: o ? "forward" : "backward"
          });
          const c = {
            walker: a,
            schema: i,
            isForward: o,
            unit: s
          };
          let l;

          while (l = a.next()) {
            if (l.done) {
              return;
            }

            const n = Yg(c, l.value);

            if (n) {
              if (e instanceof uf) {
                t.change(t => {
                  t.setSelectionFocus(n);
                });
              } else {
                e.setFocus(n);
              }

              return;
            }
          }
        }

        function Yg(t, e) {
          if (e.type == "text") {
            if (t.unit === "word") {
              return Qg(t.walker, t.isForward);
            }

            return Gg(t.walker, t.unit, t.isForward);
          }

          if (e.type == (t.isForward ? "elementStart" : "elementEnd")) {
            if (t.schema.isObject(e.item)) {
              return $h._createAt(e.item, t.isForward ? "after" : "before");
            }

            if (t.schema.checkChild(e.nextPosition, "$text")) {
              return e.nextPosition;
            }
          } else {
            if (t.schema.isLimit(e.item)) {
              t.walker.skip(() => true);
              return;
            }

            if (t.schema.checkChild(e.nextPosition, "$text")) {
              return e.nextPosition;
            }
          }
        }

        function Gg(t, e) {
          const n = t.position.textNode;

          if (n) {
            const i = n.data;
            let o = t.position.offset - n.startOffset;

            while (yg(i, o) || e == "character" && xg(i, o)) {
              t.next();
              o = t.position.offset - n.startOffset;
            }
          }

          return t.position;
        }

        function Qg(t, e) {
          let n = t.position.textNode;

          if (n) {
            let i = t.position.offset - n.startOffset;

            while (!Jg(n.data, i, e) && !Zg(n, i, e)) {
              t.next();
              const o = e ? t.position.nodeAfter : t.position.nodeBefore;

              if (o && o.is("text")) {
                const i = o.data.charAt(e ? 0 : o.data.length - 1);

                if (!qg.includes(i)) {
                  t.next();
                  n = t.position.textNode;
                }
              }

              i = t.position.offset - n.startOffset;
            }
          }

          return t.position;
        }

        function Kg(t, e) {
          const n = t.root;

          const i = $h._createAt(n, e ? "end" : 0);

          if (e) {
            return new Yh(t, i);
          } else {
            return new Yh(i, t);
          }
        }

        function Jg(t, e, n) {
          const i = e + (n ? 0 : -1);
          return qg.includes(t.charAt(i));
        }

        function Zg(t, e, n) {
          return e === (n ? t.endOffset : 0);
        }

        function Xg(t, e) {
          return t.change(t => {
            const n = t.createDocumentFragment();
            const i = e.getFirstRange();

            if (!i || i.isCollapsed) {
              return n;
            }

            const o = i.start.root;
            const s = i.start.getCommonPath(i.end);
            const r = o.getNodeByPath(s);
            let a;

            if (i.start.parent == i.end.parent) {
              a = i;
            } else {
              a = t.createRange(t.createPositionAt(r, i.start.path[s.length]), t.createPositionAt(r, i.end.path[s.length] + 1));
            }

            const c = a.end.offset - a.start.offset;
            var _iteratorNormalCompletion239 = true;
            var _didIteratorError239 = false;
            var _iteratorError239 = undefined;

            try {
              for (var _iterator239 = a.getItems({
                shallow: true
              })[Symbol.iterator](), _step239; !(_iteratorNormalCompletion239 = (_step239 = _iterator239.next()).done); _iteratorNormalCompletion239 = true) {
                const e = _step239.value;

                if (e.is("textProxy")) {
                  t.appendText(e.data, e.getAttributes(), n);
                } else {
                  t.append(e._clone(true), n);
                }
              }
            } catch (err) {
              _didIteratorError239 = true;
              _iteratorError239 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion239 && _iterator239.return != null) {
                  _iterator239.return();
                }
              } finally {
                if (_didIteratorError239) {
                  throw _iteratorError239;
                }
              }
            }

            if (a != i) {
              const e = i._getTransformedByMove(a.start, t.createPositionAt(n, 0), c)[0];

              const o = t.createRange(t.createPositionAt(n, 0), e.start);
              const s = t.createRange(e.end, t.createPositionAt(n, "end"));
              tp(s, t);
              tp(o, t);
            }

            return n;
          });
        }

        function tp(t, e) {
          const n = [];
          Array.from(t.getItems({
            direction: "backward"
          })).map(t => e.createRangeOn(t)).filter(e => {
            const n = (e.start.isAfter(t.start) || e.start.isEqual(t.start)) && (e.end.isBefore(t.end) || e.end.isEqual(t.end));
            return n;
          }).forEach(t => {
            n.push(t.start.parent);
            e.remove(t);
          });
          n.forEach(t => {
            let n = t;

            while (n.parent && n.isEmpty) {
              const t = e.createRangeOn(n);
              n = n.parent;
              e.remove(t);
            }
          });
        }

        function ep(t) {
          t.document.registerPostFixer(e => np(e, t));
        }

        function np(t, e) {
          const n = e.document.selection;
          const i = e.schema;
          const o = [];
          let s = false;
          var _iteratorNormalCompletion240 = true;
          var _didIteratorError240 = false;
          var _iteratorError240 = undefined;

          try {
            for (var _iterator240 = n.getRanges()[Symbol.iterator](), _step240; !(_iteratorNormalCompletion240 = (_step240 = _iterator240.next()).done); _iteratorNormalCompletion240 = true) {
              const t = _step240.value;
              const e = ip(t, i);

              if (e) {
                o.push(e);
                s = true;
              } else {
                o.push(t);
              }
            }
          } catch (err) {
            _didIteratorError240 = true;
            _iteratorError240 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion240 && _iterator240.return != null) {
                _iterator240.return();
              }
            } finally {
              if (_didIteratorError240) {
                throw _iteratorError240;
              }
            }
          }

          if (s) {
            t.setSelection(cp(o), {
              backward: n.isBackward
            });
          }
        }

        function ip(t, e) {
          if (t.isCollapsed) {
            return op(t, e);
          }

          return sp(t, e);
        }

        function op(t, e) {
          const n = t.start;
          const i = e.getNearestSelectionRange(n);

          if (!i) {
            return null;
          }

          if (!i.isCollapsed) {
            return i;
          }

          const o = i.start;

          if (n.isEqual(o)) {
            return null;
          }

          return new Yh(o);
        }

        function sp(t, e) {
          const n = t.start;
          const i = t.end;
          const o = e.checkChild(n, "$text");
          const s = e.checkChild(i, "$text");
          const r = e.getLimitElement(n);
          const a = e.getLimitElement(i);

          if (r === a) {
            if (o && s) {
              return null;
            }

            if (ap(n, i, e)) {
              const t = n.nodeAfter && e.isObject(n.nodeAfter);
              const o = t ? null : e.getNearestSelectionRange(n, "forward");
              const s = i.nodeBefore && e.isObject(i.nodeBefore);
              const r = s ? null : e.getNearestSelectionRange(i, "backward");
              const a = o ? o.start : n;
              const c = r ? r.start : i;
              return new Yh(a, c);
            }
          }

          const c = r && !r.is("rootElement");
          const l = a && !a.is("rootElement");

          if (c || l) {
            const t = n.nodeAfter && i.nodeBefore && n.nodeAfter.parent === i.nodeBefore.parent;
            const o = c && (!t || !lp(n.nodeAfter, e));
            const s = l && (!t || !lp(i.nodeBefore, e));
            let d = n;
            let u = i;

            if (o) {
              d = $h._createBefore(rp(r, e));
            }

            if (s) {
              u = $h._createAfter(rp(a, e));
            }

            return new Yh(d, u);
          }

          return null;
        }

        function rp(t, e) {
          let n = t;
          let i = n;

          while (e.isLimit(i) && i.parent) {
            n = i;
            i = i.parent;
          }

          return n;
        }

        function ap(t, e, n) {
          const i = t.nodeAfter && !n.isLimit(t.nodeAfter) || n.checkChild(t, "$text");
          const o = e.nodeBefore && !n.isLimit(e.nodeBefore) || n.checkChild(e, "$text");
          return i || o;
        }

        function cp(t) {
          const e = [];
          e.push(t.shift());
          var _iteratorNormalCompletion241 = true;
          var _didIteratorError241 = false;
          var _iteratorError241 = undefined;

          try {
            for (var _iterator241 = t[Symbol.iterator](), _step241; !(_iteratorNormalCompletion241 = (_step241 = _iterator241.next()).done); _iteratorNormalCompletion241 = true) {
              const n = _step241.value;
              const t = e.pop();

              if (n.isIntersecting(t)) {
                const i = t.start.isAfter(n.start) ? n.start : t.start;
                const o = t.end.isAfter(n.end) ? t.end : n.end;
                const s = new Yh(i, o);
                e.push(s);
              } else {
                e.push(t);
                e.push(n);
              }
            }
          } catch (err) {
            _didIteratorError241 = true;
            _iteratorError241 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion241 && _iterator241.return != null) {
                _iterator241.return();
              }
            } finally {
              if (_didIteratorError241) {
                throw _iteratorError241;
              }
            }
          }

          return e;
        }

        function lp(t, e) {
          return t && e.isObject(t);
        }

        class dp {
          constructor() {
            this.markers = new Pg();
            this.document = new Tg(this);
            this.schema = new hm();
            this._pendingChanges = [];
            this._currentWriter = null;
            ["insertContent", "deleteContent", "modifySelection", "getSelectedContent", "applyOperation"].forEach(t => this.decorate(t));
            this.on("applyOperation", (t, e) => {
              const n = e[0];

              n._validate();
            }, {
              priority: "highest"
            });
            this.schema.register("$root", {
              isLimit: true
            });
            this.schema.register("$block", {
              allowIn: "$root",
              isBlock: true
            });
            this.schema.register("$text", {
              allowIn: "$block",
              isInline: true
            });
            this.schema.register("$clipboardHolder", {
              allowContentOf: "$root",
              isLimit: true
            });
            this.schema.extend("$text", {
              allowIn: "$clipboardHolder"
            });
            this.schema.register("$marker");
            this.schema.addChildCheck((t, e) => {
              if (e.name === "$marker") {
                return true;
              }
            });
            ep(this);
          }

          change(t) {
            try {
              if (this._pendingChanges.length === 0) {
                this._pendingChanges.push({
                  batch: new jm(),
                  callback: t
                });

                return this._runPendingChanges()[0];
              } else {
                return t(this._currentWriter);
              }
            } catch (t) {
              rr["b"].rethrowUnexpectedError(t, this);
            }
          }

          enqueueChange(t, e) {
            try {
              if (typeof t === "string") {
                t = new jm(t);
              } else if (typeof t == "function") {
                e = t;
                t = new jm();
              }

              this._pendingChanges.push({
                batch: t,
                callback: e
              });

              if (this._pendingChanges.length == 1) {
                this._runPendingChanges();
              }
            } catch (t) {
              rr["b"].rethrowUnexpectedError(t, this);
            }
          }

          applyOperation(t) {
            t._execute();
          }

          insertContent(t, e, n) {
            return Dg(this, t, e, n);
          }

          deleteContent(t, e) {
            zg(this, t, e);
          }

          modifySelection(t, e) {
            $g(this, t, e);
          }

          getSelectedContent(t) {
            return Xg(this, t);
          }

          hasContent(t, e) {
            const n = t instanceof Hh ? Yh._createIn(t) : t;

            if (n.isCollapsed) {
              return false;
            }

            var _iteratorNormalCompletion242 = true;
            var _didIteratorError242 = false;
            var _iteratorError242 = undefined;

            try {
              for (var _iterator242 = this.markers.getMarkersIntersectingRange(n)[Symbol.iterator](), _step242; !(_iteratorNormalCompletion242 = (_step242 = _iterator242.next()).done); _iteratorNormalCompletion242 = true) {
                const t = _step242.value;

                if (t.affectsData) {
                  return true;
                }
              }
            } catch (err) {
              _didIteratorError242 = true;
              _iteratorError242 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion242 && _iterator242.return != null) {
                  _iterator242.return();
                }
              } finally {
                if (_didIteratorError242) {
                  throw _iteratorError242;
                }
              }
            }

            const _ref2 = e || {},
                  _ref2$ignoreWhitespac = _ref2.ignoreWhitespaces,
                  i = _ref2$ignoreWhitespac === void 0 ? false : _ref2$ignoreWhitespac;

            var _iteratorNormalCompletion243 = true;
            var _didIteratorError243 = false;
            var _iteratorError243 = undefined;

            try {
              for (var _iterator243 = n.getItems()[Symbol.iterator](), _step243; !(_iteratorNormalCompletion243 = (_step243 = _iterator243.next()).done); _iteratorNormalCompletion243 = true) {
                const t = _step243.value;

                if (t.is("textProxy")) {
                  if (!i) {
                    return true;
                  } else if (t.data.search(/\S/) !== -1) {
                    return true;
                  }
                } else if (this.schema.isObject(t)) {
                  return true;
                }
              }
            } catch (err) {
              _didIteratorError243 = true;
              _iteratorError243 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion243 && _iterator243.return != null) {
                  _iterator243.return();
                }
              } finally {
                if (_didIteratorError243) {
                  throw _iteratorError243;
                }
              }
            }

            return false;
          }

          createPositionFromPath(t, e, n) {
            return new $h(t, e, n);
          }

          createPositionAt(t, e) {
            return $h._createAt(t, e);
          }

          createPositionAfter(t) {
            return $h._createAfter(t);
          }

          createPositionBefore(t) {
            return $h._createBefore(t);
          }

          createRange(t, e) {
            return new Yh(t, e);
          }

          createRangeIn(t) {
            return Yh._createIn(t);
          }

          createRangeOn(t) {
            return Yh._createOn(t);
          }

          createSelection(t, e, n) {
            return new Xh(t, e, n);
          }

          createBatch(t) {
            return new jm(t);
          }

          createOperationFromJSON(t) {
            return Ig.fromJSON(t, this.document);
          }

          destroy() {
            this.document.destroy();
            this.stopListening();
          }

          _runPendingChanges() {
            const t = [];
            this.fire("_beforeChanges");

            while (this._pendingChanges.length) {
              const e = this._pendingChanges[0].batch;
              this._currentWriter = new cg(this, e);

              const n = this._pendingChanges[0].callback(this._currentWriter);

              t.push(n);

              this.document._handleChangeBlock(this._currentWriter);

              this._pendingChanges.shift();

              this._currentWriter = null;
            }

            this.fire("_afterChanges");
            return t;
          }

        }

        vr(dp, Qc);

        class up {
          constructor() {
            this._listener = Object.create(qd);
          }

          listenTo(t) {
            this._listener.listenTo(t, "keydown", (t, e) => {
              this._listener.fire("_keydown:" + Ll(e), e);
            });
          }

          set(t, e, n = {}) {
            const i = zl(t);
            const o = n.priority;

            this._listener.listenTo(this._listener, "_keydown:" + i, (t, n) => {
              e(n, () => {
                n.preventDefault();
                n.stopPropagation();
                t.stop();
              });
              t.return = true;
            }, {
              priority: o
            });
          }

          press(t) {
            return !!this._listener.fire("_keydown:" + Ll(t), t);
          }

          destroy() {
            this._listener.stopListening();
          }

        }

        class hp extends up {
          constructor(t) {
            super();
            this.editor = t;
          }

          set(t, e, n = {}) {
            if (typeof e == "string") {
              const t = e;

              e = (e, n) => {
                this.editor.execute(t);
                n();
              };
            }

            super.set(t, e, n);
          }

        }

        class fp {
          constructor(t = {}) {
            this._context = t.context || new Nr({
              language: t.language
            });

            this._context._addEditor(this, !t.context);

            const e = Array.from(this.constructor.builtinPlugins || []);
            this.config = new Qs(t, this.constructor.defaultConfig);
            this.config.define("plugins", e);
            this.config.define(this._context._getEditorConfig());
            this.plugins = new xr(this, e, this._context.plugins);
            this.locale = this._context.locale;
            this.t = this.locale.t;
            this.commands = new lm();
            this.set("state", "initializing");
            this.once("ready", () => this.state = "ready", {
              priority: "high"
            });
            this.once("destroy", () => this.state = "destroyed", {
              priority: "high"
            });
            this.set("isReadOnly", false);
            this.model = new dp();
            this.data = new Om(this.model);
            this.editing = new cm(this.model);
            this.editing.view.document.bind("isReadOnly").to(this);
            this.conversion = new Dm([this.editing.downcastDispatcher, this.data.downcastDispatcher], this.data.upcastDispatcher);
            this.conversion.addAlias("dataDowncast", this.data.downcastDispatcher);
            this.conversion.addAlias("editingDowncast", this.editing.downcastDispatcher);
            this.keystrokes = new hp(this);
            this.keystrokes.listenTo(this.editing.view.document);
          }

          initPlugins() {
            const t = this.config;
            const e = t.get("plugins");
            const n = t.get("removePlugins") || [];
            const i = t.get("extraPlugins") || [];
            return this.plugins.init(e.concat(i), n);
          }

          destroy() {
            let t = Promise.resolve();

            if (this.state == "initializing") {
              t = new Promise(t => this.once("ready", t));
            }

            return t.then(() => {
              this.fire("destroy");
              this.stopListening();
              this.commands.destroy();
            }).then(() => this.plugins.destroy()).then(() => {
              this.model.destroy();
              this.data.destroy();
              this.editing.destroy();
              this.keystrokes.destroy();
            }).then(() => this._context._removeEditor(this));
          }

          execute(...t) {
            try {
              this.commands.execute(...t);
            } catch (t) {
              rr["b"].rethrowUnexpectedError(t, this);
            }
          }

        }

        vr(fp, Qc);
        const mp = {
          setData(t) {
            this.data.set(t);
          },

          getData(t) {
            return this.data.get(t);
          }

        };
        var gp = mp;

        function pp(t, e) {
          if (t instanceof HTMLTextAreaElement) {
            t.value = e;
          }

          t.innerHTML = e;
        }

        const bp = {
          updateSourceElement() {
            if (!this.sourceElement) {
              throw new rr["b"]("editor-missing-sourceelement: Cannot update the source element of a detached editor.", this);
            }

            pp(this.sourceElement, this.data.get());
          }

        };
        var wp = bp;

        function _p(t) {
          if (!mt(t.updateSourceElement)) {
            throw new rr["b"]("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.", t);
          }

          const e = t.sourceElement;

          if (e && e.tagName.toLowerCase() === "textarea" && e.form) {
            let n;
            const i = e.form;

            const o = () => t.updateSourceElement();

            if (mt(i.submit)) {
              n = i.submit;

              i.submit = () => {
                o();
                n.apply(i);
              };
            }

            i.addEventListener("submit", o);
            t.on("destroy", () => {
              i.removeEventListener("submit", o);

              if (n) {
                i.submit = n;
              }
            });
          }
        }

        class kp {
          getHtml(t) {
            const e = document.implementation.createHTMLDocument("");
            const n = e.createElement("div");
            n.appendChild(t);
            return n.innerHTML;
          }

        }

        class vp {
          constructor() {
            this._domParser = new DOMParser();
            this._domConverter = new jd({
              blockFillerMode: "nbsp"
            });
            this._htmlWriter = new kp();
          }

          toData(t) {
            const e = this._domConverter.viewToDom(t, document);

            return this._htmlWriter.getHtml(e);
          }

          toView(t) {
            const e = this._toDom(t);

            return this._domConverter.domToView(e);
          }

          _toDom(t) {
            const e = this._domParser.parseFromString(t, "text/html");

            const n = e.createDocumentFragment();
            const i = e.body.childNodes;

            while (i.length > 0) {
              n.appendChild(i[0]);
            }

            return n;
          }

        }

        class yp {
          constructor(t) {
            this.editor = t;
            this._components = new Map();
          }

          names() {
            var _this28 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee30() {
                var _iteratorNormalCompletion244, _didIteratorError244, _iteratorError244, _iterator244, _step244, t;

                return regeneratorRuntime.wrap(function _callee30$(_context34) {
                  while (1) switch (_context34.prev = _context34.next) {
                    case 0:
                      _iteratorNormalCompletion244 = true;
                      _didIteratorError244 = false;
                      _iteratorError244 = undefined;
                      _context34.prev = 3;
                      _iterator244 = _this28._components.values()[Symbol.iterator]();

                    case 5:
                      if (_iteratorNormalCompletion244 = (_step244 = _iterator244.next()).done) {
                        _context34.next = 12;
                        break;
                      }

                      t = _step244.value;
                      _context34.next = 9;
                      return t.originalName;

                    case 9:
                      _iteratorNormalCompletion244 = true;
                      _context34.next = 5;
                      break;

                    case 12:
                      _context34.next = 18;
                      break;

                    case 14:
                      _context34.prev = 14;
                      _context34.t0 = _context34["catch"](3);
                      _didIteratorError244 = true;
                      _iteratorError244 = _context34.t0;

                    case 18:
                      _context34.prev = 18;
                      _context34.prev = 19;

                      if (!_iteratorNormalCompletion244 && _iterator244.return != null) {
                        _iterator244.return();
                      }

                    case 21:
                      _context34.prev = 21;

                      if (!_didIteratorError244) {
                        _context34.next = 24;
                        break;
                      }

                      throw _iteratorError244;

                    case 24:
                      return _context34.finish(21);

                    case 25:
                      return _context34.finish(18);

                    case 26:
                    case "end":
                      return _context34.stop();
                  }
                }, _callee30, null, [[3, 14, 18, 26], [19,, 21, 25]]);
              })()
            );
          }

          add(t, e) {
            if (this.has(t)) {
              throw new rr["b"]("componentfactory-item-exists: The item already exists in the component factory.", this, {
                name: t
              });
            }

            this._components.set(xp(t), {
              callback: e,
              originalName: t
            });
          }

          create(t) {
            if (!this.has(t)) {
              throw new rr["b"]("componentfactory-item-missing: The required component is not registered in the factory.", this, {
                name: t
              });
            }

            return this._components.get(xp(t)).callback(this.editor.locale);
          }

          has(t) {
            return this._components.has(xp(t));
          }

        }

        function xp(t) {
          return String(t).toLowerCase();
        }

        class Ap {
          constructor() {
            this.set("isFocused", false);
            this.set("focusedElement", null);
            this._elements = new Set();
            this._nextEventLoopTimeout = null;
          }

          add(t) {
            if (this._elements.has(t)) {
              throw new rr["b"]("focusTracker-add-element-already-exist", this);
            }

            this.listenTo(t, "focus", () => this._focus(t), {
              useCapture: true
            });
            this.listenTo(t, "blur", () => this._blur(), {
              useCapture: true
            });

            this._elements.add(t);
          }

          remove(t) {
            if (t === this.focusedElement) {
              this._blur(t);
            }

            if (this._elements.has(t)) {
              this.stopListening(t);

              this._elements.delete(t);
            }
          }

          destroy() {
            this.stopListening();
          }

          _focus(t) {
            clearTimeout(this._nextEventLoopTimeout);
            this.focusedElement = t;
            this.isFocused = true;
          }

          _blur() {
            clearTimeout(this._nextEventLoopTimeout);
            this._nextEventLoopTimeout = setTimeout(() => {
              this.focusedElement = null;
              this.isFocused = false;
            }, 0);
          }

        }

        vr(Ap, qd);
        vr(Ap, Qc);

        class Tp {
          constructor(t) {
            this.editor = t;
            this.componentFactory = new yp(t);
            this.focusTracker = new Ap();
            this._editableElementsMap = new Map();
            this.listenTo(t.editing.view.document, "layoutChanged", () => this.update());
          }

          get element() {
            return null;
          }

          update() {
            this.fire("update");
          }

          destroy() {
            this.stopListening();
            this.focusTracker.destroy();
            var _iteratorNormalCompletion245 = true;
            var _didIteratorError245 = false;
            var _iteratorError245 = undefined;

            try {
              for (var _iterator245 = this._editableElementsMap.values()[Symbol.iterator](), _step245; !(_iteratorNormalCompletion245 = (_step245 = _iterator245.next()).done); _iteratorNormalCompletion245 = true) {
                const t = _step245.value;
                t.ckeditorInstance = null;
              }
            } catch (err) {
              _didIteratorError245 = true;
              _iteratorError245 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion245 && _iterator245.return != null) {
                  _iterator245.return();
                }
              } finally {
                if (_didIteratorError245) {
                  throw _iteratorError245;
                }
              }
            }

            this._editableElementsMap = new Map();
          }

          setEditableElement(t, e) {
            this._editableElementsMap.set(t, e);

            if (!e.ckeditorInstance) {
              e.ckeditorInstance = this.editor;
            }
          }

          getEditableElement(t = "main") {
            return this._editableElementsMap.get(t);
          }

          getEditableElementsNames() {
            return this._editableElementsMap.keys();
          }

          get _editableElements() {
            console.warn("editor-ui-deprecated-editable-elements: " + "The EditorUI#_editableElements property has been deprecated and will be removed in the near future.", {
              editorUI: this
            });
            return this._editableElementsMap;
          }

        }

        vr(Tp, dr);

        function Cp({
          origin: t,
          originKeystrokeHandler: e,
          originFocusTracker: n,
          toolbar: i,
          beforeFocus: o,
          afterBlur: s
        }) {
          n.add(i.element);
          e.set("Alt+F10", (t, e) => {
            if (n.isFocused && !i.focusTracker.isFocused) {
              if (o) {
                o();
              }

              i.focus();
              e();
            }
          });
          i.keystrokes.set("Esc", (e, n) => {
            if (i.focusTracker.isFocused) {
              t.focus();

              if (s) {
                s();
              }

              n();
            }
          });
        }

        function Pp(t) {
          if (Array.isArray(t)) {
            return {
              items: t
            };
          }

          if (!t) {
            return {
              items: []
            };
          }

          return Object.assign({
            items: []
          }, t);
        }

        var Sp = n(13);
        const Mp = new WeakMap();

        function Ep(t) {
          const e = t.view,
                n = t.element,
                i = t.text,
                _t$isDirectHost = t.isDirectHost,
                o = _t$isDirectHost === void 0 ? true : _t$isDirectHost;
          const s = e.document;

          if (!Mp.has(s)) {
            Mp.set(s, new Map());
            s.registerPostFixer(t => Dp(s, t));
          }

          Mp.get(s).set(n, {
            text: i,
            isDirectHost: o
          });
          e.change(t => Dp(s, t));
        }

        function Ip(t, e) {
          const n = e.document;
          t.change(t => {
            if (!Mp.has(n)) {
              return;
            }

            const i = Mp.get(n);
            const o = i.get(e);
            t.removeAttribute("data-placeholder", o.hostElement);
            Op(t, o.hostElement);
            i.delete(e);
          });
        }

        function Np(t, e) {
          if (!e.hasClass("ck-placeholder")) {
            t.addClass("ck-placeholder", e);
            return true;
          }

          return false;
        }

        function Op(t, e) {
          if (e.hasClass("ck-placeholder")) {
            t.removeClass("ck-placeholder", e);
            return true;
          }

          return false;
        }

        function Rp(t) {
          const e = t.document;

          if (!e) {
            return false;
          }

          const n = !Array.from(t.getChildren()).some(t => !t.is("uiElement"));

          if (!e.isFocused && n) {
            return true;
          }

          const i = e.selection;
          const o = i.anchor;

          if (n && o && o.parent !== t) {
            return true;
          }

          return false;
        }

        function Dp(t, e) {
          const n = Mp.get(t);
          let i = false;
          var _iteratorNormalCompletion246 = true;
          var _didIteratorError246 = false;
          var _iteratorError246 = undefined;

          try {
            for (var _iterator246 = n[Symbol.iterator](), _step246; !(_iteratorNormalCompletion246 = (_step246 = _iterator246.next()).done); _iteratorNormalCompletion246 = true) {
              const _step246$value = _slicedToArray(_step246.value, 2),
                    t = _step246$value[0],
                    o = _step246$value[1];

              if (Lp(e, t, o)) {
                i = true;
              }
            }
          } catch (err) {
            _didIteratorError246 = true;
            _iteratorError246 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion246 && _iterator246.return != null) {
                _iterator246.return();
              }
            } finally {
              if (_didIteratorError246) {
                throw _iteratorError246;
              }
            }
          }

          return i;
        }

        function Lp(t, e, n) {
          const i = n.text,
                o = n.isDirectHost;
          const s = o ? e : zp(e);
          let r = false;

          if (!s) {
            return false;
          }

          n.hostElement = s;

          if (s.getAttribute("data-placeholder") !== i) {
            t.setAttribute("data-placeholder", i, s);
            r = true;
          }

          if (Rp(s)) {
            if (Np(t, s)) {
              r = true;
            }
          } else if (Op(t, s)) {
            r = true;
          }

          return r;
        }

        function zp(t) {
          if (t.childCount === 1) {
            const e = t.getChild(0);

            if (e.is("element") && !e.is("uiElement")) {
              return e;
            }
          }

          return null;
        }

        class jp {
          constructor() {
            this._replacedElements = [];
          }

          replace(t, e) {
            this._replacedElements.push({
              element: t,
              newElement: e
            });

            t.style.display = "none";

            if (e) {
              t.parentNode.insertBefore(e, t.nextSibling);
            }
          }

          restore() {
            this._replacedElements.forEach(({
              element: t,
              newElement: e
            }) => {
              t.style.display = "";

              if (e) {
                e.remove();
              }
            });

            this._replacedElements = [];
          }

        }

        class Vp extends Tp {
          constructor(t, e) {
            super(t);
            this.view = e;
            this._toolbarConfig = Pp(t.config.get("toolbar"));
            this._elementReplacer = new jp();
          }

          get element() {
            return this.view.element;
          }

          init(t) {
            const e = this.editor;
            const n = this.view;
            const i = e.editing.view;
            const o = n.editable;
            const s = i.document.getRoot();
            o.name = s.rootName;
            n.render();
            const r = o.element;
            this.setEditableElement(o.name, r);
            this.focusTracker.add(r);
            n.editable.bind("isFocused").to(this.focusTracker);
            i.attachDomRoot(r);

            if (t) {
              this._elementReplacer.replace(t, this.element);
            }

            this._initPlaceholder();

            this._initToolbar();

            this.fire("ready");
          }

          destroy() {
            const t = this.view;
            const e = this.editor.editing.view;

            this._elementReplacer.restore();

            e.detachDomRoot(t.editable.name);
            t.destroy();
            super.destroy();
          }

          _initToolbar() {
            const t = this.editor;
            const e = this.view;
            const n = t.editing.view;
            e.stickyPanel.bind("isActive").to(this.focusTracker, "isFocused");
            e.stickyPanel.limiterElement = e.element;

            if (this._toolbarConfig.viewportTopOffset) {
              e.stickyPanel.viewportTopOffset = this._toolbarConfig.viewportTopOffset;
            }

            e.toolbar.fillFromConfig(this._toolbarConfig.items, this.componentFactory);
            Cp({
              origin: n,
              originFocusTracker: this.focusTracker,
              originKeystrokeHandler: t.keystrokes,
              toolbar: e.toolbar
            });
          }

          _initPlaceholder() {
            const t = this.editor;
            const e = t.editing.view;
            const n = e.document.getRoot();
            const i = t.sourceElement;
            const o = t.config.get("placeholder") || i && i.tagName.toLowerCase() === "textarea" && i.getAttribute("placeholder");

            if (o) {
              Ep({
                view: e,
                element: n,
                text: o,
                isDirectHost: false
              });
            }
          }

        }

        class Bp extends yr {
          constructor(t) {
            super({
              idProperty: "viewUid"
            });
            this.on("add", (t, e, n) => {
              if (!e.isRendered) {
                e.render();
              }

              if (e.element && this._parentElement) {
                this._parentElement.insertBefore(e.element, this._parentElement.children[n]);
              }
            });
            this.on("remove", (t, e) => {
              if (e.element && this._parentElement) {
                e.element.remove();
              }
            });
            this.locale = t;
            this._parentElement = null;
          }

          destroy() {
            this.map(t => t.destroy());
          }

          setParent(t) {
            this._parentElement = t;
          }

          delegate(...t) {
            if (!t.length || !Fp(t)) {
              throw new rr["b"]("ui-viewcollection-delegate-wrong-events: All event names must be strings.", this);
            }

            return {
              to: e => {
                var _iteratorNormalCompletion247 = true;
                var _didIteratorError247 = false;
                var _iteratorError247 = undefined;

                try {
                  for (var _iterator247 = this[Symbol.iterator](), _step247; !(_iteratorNormalCompletion247 = (_step247 = _iterator247.next()).done); _iteratorNormalCompletion247 = true) {
                    const n = _step247.value;
                    var _iteratorNormalCompletion250 = true;
                    var _didIteratorError250 = false;
                    var _iteratorError250 = undefined;

                    try {
                      for (var _iterator250 = t[Symbol.iterator](), _step250; !(_iteratorNormalCompletion250 = (_step250 = _iterator250.next()).done); _iteratorNormalCompletion250 = true) {
                        const i = _step250.value;
                        n.delegate(i).to(e);
                      }
                    } catch (err) {
                      _didIteratorError250 = true;
                      _iteratorError250 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion250 && _iterator250.return != null) {
                          _iterator250.return();
                        }
                      } finally {
                        if (_didIteratorError250) {
                          throw _iteratorError250;
                        }
                      }
                    }
                  }
                } catch (err) {
                  _didIteratorError247 = true;
                  _iteratorError247 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion247 && _iterator247.return != null) {
                      _iterator247.return();
                    }
                  } finally {
                    if (_didIteratorError247) {
                      throw _iteratorError247;
                    }
                  }
                }

                this.on("add", (n, i) => {
                  var _iteratorNormalCompletion248 = true;
                  var _didIteratorError248 = false;
                  var _iteratorError248 = undefined;

                  try {
                    for (var _iterator248 = t[Symbol.iterator](), _step248; !(_iteratorNormalCompletion248 = (_step248 = _iterator248.next()).done); _iteratorNormalCompletion248 = true) {
                      const n = _step248.value;
                      i.delegate(n).to(e);
                    }
                  } catch (err) {
                    _didIteratorError248 = true;
                    _iteratorError248 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion248 && _iterator248.return != null) {
                        _iterator248.return();
                      }
                    } finally {
                      if (_didIteratorError248) {
                        throw _iteratorError248;
                      }
                    }
                  }
                });
                this.on("remove", (n, i) => {
                  var _iteratorNormalCompletion249 = true;
                  var _didIteratorError249 = false;
                  var _iteratorError249 = undefined;

                  try {
                    for (var _iterator249 = t[Symbol.iterator](), _step249; !(_iteratorNormalCompletion249 = (_step249 = _iterator249.next()).done); _iteratorNormalCompletion249 = true) {
                      const n = _step249.value;
                      i.stopDelegating(n, e);
                    }
                  } catch (err) {
                    _didIteratorError249 = true;
                    _iteratorError249 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion249 && _iterator249.return != null) {
                        _iterator249.return();
                      }
                    } finally {
                      if (_didIteratorError249) {
                        throw _iteratorError249;
                      }
                    }
                  }
                });
              }
            };
          }

        }

        function Fp(t) {
          return t.every(t => typeof t == "string");
        }

        const Hp = "http://www.w3.org/1999/xhtml";

        class Up {
          constructor(t) {
            Object.assign(this, tb(Xp(t)));
            this._isRendered = false;
            this._revertData = null;
          }

          render() {
            const t = this._renderNode({
              intoFragment: true
            });

            this._isRendered = true;
            return t;
          }

          apply(t) {
            this._revertData = fb();

            this._renderNode({
              node: t,
              isApplying: true,
              revertData: this._revertData
            });

            return t;
          }

          revert(t) {
            if (!this._revertData) {
              throw new rr["b"]("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.", [this, t]);
            }

            this._revertTemplateFromNode(t, this._revertData);
          }

          getViews() {
            var _this29 = this;

            return (
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee31() {
                var _marked5, t;

                return regeneratorRuntime.wrap(function _callee31$(_context36) {
                  while (1) switch (_context36.prev = _context36.next) {
                    case 0:
                      t = function _ref3(e) {
                        var _iteratorNormalCompletion251, _didIteratorError251, _iteratorError251, _iterator251, _step251, n;

                        return regeneratorRuntime.wrap(function t$(_context35) {
                          while (1) switch (_context35.prev = _context35.next) {
                            case 0:
                              if (!e.children) {
                                _context35.next = 32;
                                break;
                              }

                              _iteratorNormalCompletion251 = true;
                              _didIteratorError251 = false;
                              _iteratorError251 = undefined;
                              _context35.prev = 4;
                              _iterator251 = e.children[Symbol.iterator]();

                            case 6:
                              if (_iteratorNormalCompletion251 = (_step251 = _iterator251.next()).done) {
                                _context35.next = 18;
                                break;
                              }

                              n = _step251.value;

                              if (!db(n)) {
                                _context35.next = 13;
                                break;
                              }

                              _context35.next = 11;
                              return n;

                            case 11:
                              _context35.next = 15;
                              break;

                            case 13:
                              if (!ub(n)) {
                                _context35.next = 15;
                                break;
                              }

                              return _context35.delegateYield(t(n), "t0", 15);

                            case 15:
                              _iteratorNormalCompletion251 = true;
                              _context35.next = 6;
                              break;

                            case 18:
                              _context35.next = 24;
                              break;

                            case 20:
                              _context35.prev = 20;
                              _context35.t1 = _context35["catch"](4);
                              _didIteratorError251 = true;
                              _iteratorError251 = _context35.t1;

                            case 24:
                              _context35.prev = 24;
                              _context35.prev = 25;

                              if (!_iteratorNormalCompletion251 && _iterator251.return != null) {
                                _iterator251.return();
                              }

                            case 27:
                              _context35.prev = 27;

                              if (!_didIteratorError251) {
                                _context35.next = 30;
                                break;
                              }

                              throw _iteratorError251;

                            case 30:
                              return _context35.finish(27);

                            case 31:
                              return _context35.finish(24);

                            case 32:
                            case "end":
                              return _context35.stop();
                          }
                        }, _marked5, null, [[4, 20, 24, 32], [25,, 27, 31]]);
                      };

                      _marked5 =
                      /*#__PURE__*/
                      regeneratorRuntime.mark(t);
                      return _context36.delegateYield(t(_this29), "t0", 3);

                    case 3:
                    case "end":
                      return _context36.stop();
                  }
                }, _callee31);
              })()
            );
          }

          static bind(t, e) {
            return {
              to(n, i) {
                return new qp({
                  eventNameOrFunction: n,
                  attribute: n,
                  observable: t,
                  emitter: e,
                  callback: i
                });
              },

              if(n, i, o) {
                return new $p({
                  observable: t,
                  emitter: e,
                  attribute: n,
                  valueIfTrue: i,
                  callback: o
                });
              }

            };
          }

          static extend(t, e) {
            if (t._isRendered) {
              throw new rr["b"]("template-extend-render: Attempting to extend a template which has already been rendered.", [this, t]);
            }

            cb(t, tb(Xp(e)));
          }

          _renderNode(t) {
            let e;

            if (t.node) {
              e = this.tag && this.text;
            } else {
              e = this.tag ? this.text : !this.text;
            }

            if (e) {
              throw new rr["b"]('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.', this);
            }

            if (this.text) {
              return this._renderText(t);
            } else {
              return this._renderElement(t);
            }
          }

          _renderElement(t) {
            let e = t.node;

            if (!e) {
              e = t.node = document.createElementNS(this.ns || Hp, this.tag);
            }

            this._renderAttributes(t);

            this._renderElementChildren(t);

            this._setUpListeners(t);

            return e;
          }

          _renderText(t) {
            let e = t.node;

            if (e) {
              t.revertData.text = e.textContent;
            } else {
              e = t.node = document.createTextNode("");
            }

            if (Yp(this.text)) {
              this._bindToObservable({
                schema: this.text,
                updater: Kp(e),
                data: t
              });
            } else {
              e.textContent = this.text.join("");
            }

            return e;
          }

          _renderAttributes(t) {
            let e, n, i, o;

            if (!this.attributes) {
              return;
            }

            const s = t.node;
            const r = t.revertData;

            for (e in this.attributes) {
              i = s.getAttribute(e);
              n = this.attributes[e];

              if (r) {
                r.attributes[e] = i;
              }

              o = ct(n[0]) && n[0].ns ? n[0].ns : null;

              if (Yp(n)) {
                const a = o ? n[0].value : n;

                if (r && mb(e)) {
                  a.unshift(i);
                }

                this._bindToObservable({
                  schema: a,
                  updater: Jp(s, e, o),
                  data: t
                });
              } else if (e == "style" && typeof n[0] !== "string") {
                this._renderStyleAttribute(n[0], t);
              } else {
                if (r && i && mb(e)) {
                  n.unshift(i);
                }

                n = n.map(t => t ? t.value || t : t).reduce((t, e) => t.concat(e), []).reduce(rb, "");

                if (!lb(n)) {
                  s.setAttributeNS(o, e, n);
                }
              }
            }
          }

          _renderStyleAttribute(t, e) {
            const n = e.node;

            for (const i in t) {
              const o = t[i];

              if (Yp(o)) {
                this._bindToObservable({
                  schema: [o],
                  updater: Zp(n, i),
                  data: e
                });
              } else {
                n.style[i] = o;
              }
            }
          }

          _renderElementChildren(t) {
            const e = t.node;
            const n = t.intoFragment ? document.createDocumentFragment() : e;
            const i = t.isApplying;
            let o = 0;
            var _iteratorNormalCompletion252 = true;
            var _didIteratorError252 = false;
            var _iteratorError252 = undefined;

            try {
              for (var _iterator252 = this.children[Symbol.iterator](), _step252; !(_iteratorNormalCompletion252 = (_step252 = _iterator252.next()).done); _iteratorNormalCompletion252 = true) {
                const s = _step252.value;

                if (hb(s)) {
                  if (!i) {
                    s.setParent(e);
                    var _iteratorNormalCompletion253 = true;
                    var _didIteratorError253 = false;
                    var _iteratorError253 = undefined;

                    try {
                      for (var _iterator253 = s[Symbol.iterator](), _step253; !(_iteratorNormalCompletion253 = (_step253 = _iterator253.next()).done); _iteratorNormalCompletion253 = true) {
                        const t = _step253.value;
                        n.appendChild(t.element);
                      }
                    } catch (err) {
                      _didIteratorError253 = true;
                      _iteratorError253 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion253 && _iterator253.return != null) {
                          _iterator253.return();
                        }
                      } finally {
                        if (_didIteratorError253) {
                          throw _iteratorError253;
                        }
                      }
                    }
                  }
                } else if (db(s)) {
                  if (!i) {
                    if (!s.isRendered) {
                      s.render();
                    }

                    n.appendChild(s.element);
                  }
                } else if (Ad(s)) {
                  n.appendChild(s);
                } else {
                  if (i) {
                    const e = t.revertData;
                    const i = fb();
                    e.children.push(i);

                    s._renderNode({
                      node: n.childNodes[o++],
                      isApplying: true,
                      revertData: i
                    });
                  } else {
                    n.appendChild(s.render());
                  }
                }
              }
            } catch (err) {
              _didIteratorError252 = true;
              _iteratorError252 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion252 && _iterator252.return != null) {
                  _iterator252.return();
                }
              } finally {
                if (_didIteratorError252) {
                  throw _iteratorError252;
                }
              }
            }

            if (t.intoFragment) {
              e.appendChild(n);
            }
          }

          _setUpListeners(t) {
            if (!this.eventListeners) {
              return;
            }

            for (const e in this.eventListeners) {
              const n = this.eventListeners[e].map(n => {
                const _e$split = e.split("@"),
                      _e$split2 = _slicedToArray(_e$split, 2),
                      i = _e$split2[0],
                      o = _e$split2[1];

                return n.activateDomEventListener(i, o, t);
              });

              if (t.revertData) {
                t.revertData.bindings.push(n);
              }
            }
          }

          _bindToObservable({
            schema: t,
            updater: e,
            data: n
          }) {
            const i = n.revertData;
            Qp(t, e, n);
            const o = t.filter(t => !lb(t)).filter(t => t.observable).map(i => i.activateAttributeListener(t, e, n));

            if (i) {
              i.bindings.push(o);
            }
          }

          _revertTemplateFromNode(t, e) {
            var _iteratorNormalCompletion254 = true;
            var _didIteratorError254 = false;
            var _iteratorError254 = undefined;

            try {
              for (var _iterator254 = e.bindings[Symbol.iterator](), _step254; !(_iteratorNormalCompletion254 = (_step254 = _iterator254.next()).done); _iteratorNormalCompletion254 = true) {
                const t = _step254.value;
                var _iteratorNormalCompletion255 = true;
                var _didIteratorError255 = false;
                var _iteratorError255 = undefined;

                try {
                  for (var _iterator255 = t[Symbol.iterator](), _step255; !(_iteratorNormalCompletion255 = (_step255 = _iterator255.next()).done); _iteratorNormalCompletion255 = true) {
                    const e = _step255.value;
                    e();
                  }
                } catch (err) {
                  _didIteratorError255 = true;
                  _iteratorError255 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion255 && _iterator255.return != null) {
                      _iterator255.return();
                    }
                  } finally {
                    if (_didIteratorError255) {
                      throw _iteratorError255;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError254 = true;
              _iteratorError254 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion254 && _iterator254.return != null) {
                  _iterator254.return();
                }
              } finally {
                if (_didIteratorError254) {
                  throw _iteratorError254;
                }
              }
            }

            if (e.text) {
              t.textContent = e.text;
              return;
            }

            for (const n in e.attributes) {
              const i = e.attributes[n];

              if (i === null) {
                t.removeAttribute(n);
              } else {
                t.setAttribute(n, i);
              }
            }

            for (let n = 0; n < e.children.length; ++n) {
              this._revertTemplateFromNode(t.childNodes[n], e.children[n]);
            }
          }

        }

        vr(Up, dr);

        class Wp {
          constructor(t) {
            Object.assign(this, t);
          }

          getValue(t) {
            const e = this.observable[this.attribute];
            return this.callback ? this.callback(e, t) : e;
          }

          activateAttributeListener(t, e, n) {
            const i = () => Qp(t, e, n);

            this.emitter.listenTo(this.observable, "change:" + this.attribute, i);
            return () => {
              this.emitter.stopListening(this.observable, "change:" + this.attribute, i);
            };
          }

        }

        class qp extends Wp {
          activateDomEventListener(t, e, n) {
            const i = (t, n) => {
              if (!e || n.target.matches(e)) {
                if (typeof this.eventNameOrFunction == "function") {
                  this.eventNameOrFunction(n);
                } else {
                  this.observable.fire(this.eventNameOrFunction, n);
                }
              }
            };

            this.emitter.listenTo(n.node, t, i);
            return () => {
              this.emitter.stopListening(n.node, t, i);
            };
          }

        }

        class $p extends Wp {
          getValue(t) {
            const e = super.getValue(t);
            return lb(e) ? false : this.valueIfTrue || true;
          }

        }

        function Yp(t) {
          if (!t) {
            return false;
          }

          if (t.value) {
            t = t.value;
          }

          if (Array.isArray(t)) {
            return t.some(Yp);
          } else if (t instanceof Wp) {
            return true;
          }

          return false;
        }

        function Gp(t, e) {
          return t.map(t => {
            if (t instanceof Wp) {
              return t.getValue(e);
            }

            return t;
          });
        }

        function Qp(t, e, {
          node: n
        }) {
          let i = Gp(t, n);

          if (t.length == 1 && t[0] instanceof $p) {
            i = i[0];
          } else {
            i = i.reduce(rb, "");
          }

          if (lb(i)) {
            e.remove();
          } else {
            e.set(i);
          }
        }

        function Kp(t) {
          return {
            set(e) {
              t.textContent = e;
            },

            remove() {
              t.textContent = "";
            }

          };
        }

        function Jp(t, e, n) {
          return {
            set(i) {
              t.setAttributeNS(n, e, i);
            },

            remove() {
              t.removeAttributeNS(n, e);
            }

          };
        }

        function Zp(t, e) {
          return {
            set(n) {
              t.style[e] = n;
            },

            remove() {
              t.style[e] = null;
            }

          };
        }

        function Xp(t) {
          const e = $s(t, t => {
            if (t && (t instanceof Wp || ub(t) || db(t) || hb(t))) {
              return t;
            }
          });
          return e;
        }

        function tb(t) {
          if (typeof t == "string") {
            t = ib(t);
          } else if (t.text) {
            ob(t);
          }

          if (t.on) {
            t.eventListeners = nb(t.on);
            delete t.on;
          }

          if (!t.text) {
            if (t.attributes) {
              eb(t.attributes);
            }

            const e = [];

            if (t.children) {
              if (hb(t.children)) {
                e.push(t.children);
              } else {
                var _iteratorNormalCompletion256 = true;
                var _didIteratorError256 = false;
                var _iteratorError256 = undefined;

                try {
                  for (var _iterator256 = t.children[Symbol.iterator](), _step256; !(_iteratorNormalCompletion256 = (_step256 = _iterator256.next()).done); _iteratorNormalCompletion256 = true) {
                    const n = _step256.value;

                    if (ub(n) || db(n) || Ad(n)) {
                      e.push(n);
                    } else {
                      e.push(new Up(n));
                    }
                  }
                } catch (err) {
                  _didIteratorError256 = true;
                  _iteratorError256 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion256 && _iterator256.return != null) {
                      _iterator256.return();
                    }
                  } finally {
                    if (_didIteratorError256) {
                      throw _iteratorError256;
                    }
                  }
                }
              }
            }

            t.children = e;
          }

          return t;
        }

        function eb(t) {
          for (const e in t) {
            if (t[e].value) {
              t[e].value = [].concat(t[e].value);
            }

            sb(t, e);
          }
        }

        function nb(t) {
          for (const e in t) {
            sb(t, e);
          }

          return t;
        }

        function ib(t) {
          return {
            text: [t]
          };
        }

        function ob(t) {
          if (!Array.isArray(t.text)) {
            t.text = [t.text];
          }
        }

        function sb(t, e) {
          if (!Array.isArray(t[e])) {
            t[e] = [t[e]];
          }
        }

        function rb(t, e) {
          if (lb(e)) {
            return t;
          } else if (lb(t)) {
            return e;
          } else {
            return "".concat(t, " ").concat(e);
          }
        }

        function ab(t, e) {
          for (const n in e) {
            if (t[n]) {
              t[n].push(...e[n]);
            } else {
              t[n] = e[n];
            }
          }
        }

        function cb(t, e) {
          if (e.attributes) {
            if (!t.attributes) {
              t.attributes = {};
            }

            ab(t.attributes, e.attributes);
          }

          if (e.eventListeners) {
            if (!t.eventListeners) {
              t.eventListeners = {};
            }

            ab(t.eventListeners, e.eventListeners);
          }

          if (e.text) {
            t.text.push(...e.text);
          }

          if (e.children && e.children.length) {
            if (t.children.length != e.children.length) {
              throw new rr["b"]("ui-template-extend-children-mismatch: The number of children in extended definition does not match.", t);
            }

            let n = 0;
            var _iteratorNormalCompletion257 = true;
            var _didIteratorError257 = false;
            var _iteratorError257 = undefined;

            try {
              for (var _iterator257 = e.children[Symbol.iterator](), _step257; !(_iteratorNormalCompletion257 = (_step257 = _iterator257.next()).done); _iteratorNormalCompletion257 = true) {
                const i = _step257.value;
                cb(t.children[n++], i);
              }
            } catch (err) {
              _didIteratorError257 = true;
              _iteratorError257 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion257 && _iterator257.return != null) {
                  _iterator257.return();
                }
              } finally {
                if (_didIteratorError257) {
                  throw _iteratorError257;
                }
              }
            }
          }
        }

        function lb(t) {
          return !t && t !== 0;
        }

        function db(t) {
          return t instanceof pb;
        }

        function ub(t) {
          return t instanceof Up;
        }

        function hb(t) {
          return t instanceof Bp;
        }

        function fb() {
          return {
            children: [],
            bindings: [],
            attributes: {}
          };
        }

        function mb(t) {
          return t == "class" || t == "style";
        }

        var gb = n(15);

        class pb {
          constructor(t) {
            this.element = null;
            this.isRendered = false;
            this.locale = t;
            this.t = t && t.t;
            this._viewCollections = new yr();
            this._unboundChildren = this.createCollection();

            this._viewCollections.on("add", (e, n) => {
              n.locale = t;
            });

            this.decorate("render");
          }

          get bindTemplate() {
            if (this._bindTemplate) {
              return this._bindTemplate;
            }

            return this._bindTemplate = Up.bind(this, this);
          }

          createCollection() {
            const t = new Bp();

            this._viewCollections.add(t);

            return t;
          }

          registerChild(t) {
            if (!Fr(t)) {
              t = [t];
            }

            var _iteratorNormalCompletion258 = true;
            var _didIteratorError258 = false;
            var _iteratorError258 = undefined;

            try {
              for (var _iterator258 = t[Symbol.iterator](), _step258; !(_iteratorNormalCompletion258 = (_step258 = _iterator258.next()).done); _iteratorNormalCompletion258 = true) {
                const e = _step258.value;

                this._unboundChildren.add(e);
              }
            } catch (err) {
              _didIteratorError258 = true;
              _iteratorError258 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion258 && _iterator258.return != null) {
                  _iterator258.return();
                }
              } finally {
                if (_didIteratorError258) {
                  throw _iteratorError258;
                }
              }
            }
          }

          deregisterChild(t) {
            if (!Fr(t)) {
              t = [t];
            }

            var _iteratorNormalCompletion259 = true;
            var _didIteratorError259 = false;
            var _iteratorError259 = undefined;

            try {
              for (var _iterator259 = t[Symbol.iterator](), _step259; !(_iteratorNormalCompletion259 = (_step259 = _iterator259.next()).done); _iteratorNormalCompletion259 = true) {
                const e = _step259.value;

                this._unboundChildren.remove(e);
              }
            } catch (err) {
              _didIteratorError259 = true;
              _iteratorError259 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion259 && _iterator259.return != null) {
                  _iterator259.return();
                }
              } finally {
                if (_didIteratorError259) {
                  throw _iteratorError259;
                }
              }
            }
          }

          setTemplate(t) {
            this.template = new Up(t);
          }

          extendTemplate(t) {
            Up.extend(this.template, t);
          }

          render() {
            if (this.isRendered) {
              throw new rr["b"]("ui-view-render-already-rendered: This View has already been rendered.", this);
            }

            if (this.template) {
              this.element = this.template.render();
              this.registerChild(this.template.getViews());
            }

            this.isRendered = true;
          }

          destroy() {
            this.stopListening();

            this._viewCollections.map(t => t.destroy());

            if (this.template && this.template._revertData) {
              this.template.revert(this.element);
            }
          }

        }

        vr(pb, qd);
        vr(pb, Qc);
        var bb = "[object String]";

        function wb(t) {
          return typeof t == "string" || !Qe(t) && C(t) && k(t) == bb;
        }

        var _b = wb;

        function kb(t, e, n = {}, i = []) {
          const o = n && n.xmlns;
          const s = o ? t.createElementNS(o, e) : t.createElement(e);

          for (const t in n) {
            s.setAttribute(t, n[t]);
          }

          if (_b(i) || !Fr(i)) {
            i = [i];
          }

          var _iteratorNormalCompletion260 = true;
          var _didIteratorError260 = false;
          var _iteratorError260 = undefined;

          try {
            for (var _iterator260 = i[Symbol.iterator](), _step260; !(_iteratorNormalCompletion260 = (_step260 = _iterator260.next()).done); _iteratorNormalCompletion260 = true) {
              let e = _step260.value;

              if (_b(e)) {
                e = t.createTextNode(e);
              }

              s.appendChild(e);
            }
          } catch (err) {
            _didIteratorError260 = true;
            _iteratorError260 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion260 && _iterator260.return != null) {
                _iterator260.return();
              }
            } finally {
              if (_didIteratorError260) {
                throw _iteratorError260;
              }
            }
          }

          return s;
        }

        class vb extends Bp {
          attachToDom() {
            this._bodyCollectionContainer = new Up({
              tag: "div",
              attributes: {
                class: ["ck", "ck-reset_all", "ck-body", "ck-rounded-corners"],
                dir: this.locale.uiLanguageDirection
              },
              children: this
            }).render();
            let t = document.querySelector(".ck-body-wrapper");

            if (!t) {
              t = kb(document, "div", {
                class: "ck-body-wrapper"
              });
              document.body.appendChild(t);
            }

            t.appendChild(this._bodyCollectionContainer);
          }

          detachFromDom() {
            super.destroy();

            if (this._bodyCollectionContainer) {
              this._bodyCollectionContainer.remove();
            }

            const t = document.querySelector(".ck-body-wrapper");

            if (t && t.childElementCount == 0) {
              t.remove();
            }
          }

        }

        var yb = n(17);

        class xb extends pb {
          constructor(t) {
            super(t);
            this.body = new vb(t);
          }

          render() {
            super.render();
            this.body.attachToDom();
          }

          destroy() {
            this.body.detachFromDom();
            return super.destroy();
          }

        }

        var Ab = n(19);

        class Tb extends pb {
          constructor(t) {
            super(t);
            this.set("text");
            this.set("for");
            this.id = "ck-editor__label_".concat(nr());
            const e = this.bindTemplate;
            this.setTemplate({
              tag: "label",
              attributes: {
                class: ["ck", "ck-label"],
                id: this.id,
                for: e.to("for")
              },
              children: [{
                text: e.to("text")
              }]
            });
          }

        }

        class Cb extends xb {
          constructor(t) {
            super(t);
            this.top = this.createCollection();
            this.main = this.createCollection();
            this._voiceLabelView = this._createVoiceLabel();
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-reset", "ck-editor", "ck-rounded-corners"],
                role: "application",
                dir: t.uiLanguageDirection,
                lang: t.uiLanguage,
                "aria-labelledby": this._voiceLabelView.id
              },
              children: [this._voiceLabelView, {
                tag: "div",
                attributes: {
                  class: ["ck", "ck-editor__top", "ck-reset_all"],
                  role: "presentation"
                },
                children: this.top
              }, {
                tag: "div",
                attributes: {
                  class: ["ck", "ck-editor__main"],
                  role: "presentation"
                },
                children: this.main
              }]
            });
          }

          _createVoiceLabel() {
            const t = this.t;
            const e = new Tb();
            e.text = t("bp");
            e.extendTemplate({
              attributes: {
                class: "ck-voice-label"
              }
            });
            return e;
          }

        }

        class Pb extends pb {
          constructor(t, e, n) {
            super(t);
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-content", "ck-editor__editable", "ck-rounded-corners"],
                lang: t.contentLanguage,
                dir: t.contentLanguageDirection
              }
            });
            this.name = null;
            this.set("isFocused", false);
            this._editableElement = n;
            this._hasExternalElement = !!this._editableElement;
            this._editingView = e;
          }

          render() {
            super.render();

            if (this._hasExternalElement) {
              this.template.apply(this.element = this._editableElement);
            } else {
              this._editableElement = this.element;
            }

            this.on("change:isFocused", () => this._updateIsFocusedClasses());

            this._updateIsFocusedClasses();
          }

          destroy() {
            if (this._hasExternalElement) {
              this.template.revert(this._editableElement);
            }

            super.destroy();
          }

          _updateIsFocusedClasses() {
            const t = this._editingView;

            if (t.isRenderingInProgress) {
              n(this);
            } else {
              e(this);
            }

            function e(e) {
              t.change(n => {
                const i = t.document.getRoot(e.name);
                n.addClass(e.isFocused ? "ck-focused" : "ck-blurred", i);
                n.removeClass(e.isFocused ? "ck-blurred" : "ck-focused", i);
              });
            }

            function n(i) {
              t.once("change:isRenderingInProgress", (t, o, s) => {
                if (!s) {
                  e(i);
                } else {
                  n(i);
                }
              });
            }
          }

        }

        class Sb extends Pb {
          constructor(t, e, n) {
            super(t, e, n);
            this.extendTemplate({
              attributes: {
                role: "textbox",
                class: "ck-editor__editable_inline"
              }
            });
          }

          render() {
            super.render();
            const t = this._editingView;
            const e = this.t;
            t.change(n => {
              const i = t.document.getRoot(this.name);
              n.setAttribute("aria-label", e("bq", [this.name]), i);
            });
          }

        }

        function Mb(t) {
          return e => e + t;
        }

        var Eb = n(21);
        const Ib = Mb("px");

        class Nb extends pb {
          constructor(t) {
            super(t);
            const e = this.bindTemplate;
            this.set("isActive", false);
            this.set("isSticky", false);
            this.set("limiterElement", null);
            this.set("limiterBottomOffset", 50);
            this.set("viewportTopOffset", 0);
            this.set("_marginLeft", null);
            this.set("_isStickyToTheLimiter", false);
            this.set("_hasViewportTopOffset", false);
            this.content = this.createCollection();
            this._contentPanelPlaceholder = new Up({
              tag: "div",
              attributes: {
                class: ["ck", "ck-sticky-panel__placeholder"],
                style: {
                  display: e.to("isSticky", t => t ? "block" : "none"),
                  height: e.to("isSticky", t => t ? Ib(this._panelRect.height) : null)
                }
              }
            }).render();
            this._contentPanel = new Up({
              tag: "div",
              attributes: {
                class: ["ck", "ck-sticky-panel__content", e.if("isSticky", "ck-sticky-panel__content_sticky"), e.if("_isStickyToTheLimiter", "ck-sticky-panel__content_sticky_bottom-limit")],
                style: {
                  width: e.to("isSticky", t => t ? Ib(this._contentPanelPlaceholder.getBoundingClientRect().width) : null),
                  top: e.to("_hasViewportTopOffset", t => t ? Ib(this.viewportTopOffset) : null),
                  bottom: e.to("_isStickyToTheLimiter", t => t ? Ib(this.limiterBottomOffset) : null),
                  marginLeft: e.to("_marginLeft")
                }
              },
              children: this.content
            }).render();
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-sticky-panel"]
              },
              children: [this._contentPanelPlaceholder, this._contentPanel]
            });
          }

          render() {
            super.render();

            this._checkIfShouldBeSticky();

            this.listenTo(Od.window, "scroll", () => {
              this._checkIfShouldBeSticky();
            });
            this.listenTo(this, "change:isActive", () => {
              this._checkIfShouldBeSticky();
            });
          }

          _checkIfShouldBeSticky() {
            const t = this._panelRect = this._contentPanel.getBoundingClientRect();

            let e;

            if (!this.limiterElement) {
              this.isSticky = false;
            } else {
              e = this._limiterRect = this.limiterElement.getBoundingClientRect();
              this.isSticky = this.isActive && e.top < this.viewportTopOffset && this._panelRect.height + this.limiterBottomOffset < e.height;
            }

            if (this.isSticky) {
              this._isStickyToTheLimiter = e.bottom < t.height + this.limiterBottomOffset + this.viewportTopOffset;
              this._hasViewportTopOffset = !this._isStickyToTheLimiter && !!this.viewportTopOffset;
              this._marginLeft = this._isStickyToTheLimiter ? null : Ib(-Od.window.scrollX);
            } else {
              this._isStickyToTheLimiter = false;
              this._hasViewportTopOffset = false;
              this._marginLeft = null;
            }
          }

        }

        class Ob {
          constructor(t) {
            Object.assign(this, t);

            if (t.actions && t.keystrokeHandler) {
              for (const e in t.actions) {
                let n = t.actions[e];

                if (typeof n == "string") {
                  n = [n];
                }

                var _iteratorNormalCompletion261 = true;
                var _didIteratorError261 = false;
                var _iteratorError261 = undefined;

                try {
                  for (var _iterator261 = n[Symbol.iterator](), _step261; !(_iteratorNormalCompletion261 = (_step261 = _iterator261.next()).done); _iteratorNormalCompletion261 = true) {
                    const i = _step261.value;
                    t.keystrokeHandler.set(i, (t, n) => {
                      this[e]();
                      n();
                    });
                  }
                } catch (err) {
                  _didIteratorError261 = true;
                  _iteratorError261 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion261 && _iterator261.return != null) {
                      _iterator261.return();
                    }
                  } finally {
                    if (_didIteratorError261) {
                      throw _iteratorError261;
                    }
                  }
                }
              }
            }
          }

          get first() {
            return this.focusables.find(Rb) || null;
          }

          get last() {
            return this.focusables.filter(Rb).slice(-1)[0] || null;
          }

          get next() {
            return this._getFocusableItem(1);
          }

          get previous() {
            return this._getFocusableItem(-1);
          }

          get current() {
            let t = null;

            if (this.focusTracker.focusedElement === null) {
              return null;
            }

            this.focusables.find((e, n) => {
              const i = e.element === this.focusTracker.focusedElement;

              if (i) {
                t = n;
              }

              return i;
            });
            return t;
          }

          focusFirst() {
            this._focus(this.first);
          }

          focusLast() {
            this._focus(this.last);
          }

          focusNext() {
            this._focus(this.next);
          }

          focusPrevious() {
            this._focus(this.previous);
          }

          _focus(t) {
            if (t) {
              t.focus();
            }
          }

          _getFocusableItem(t) {
            const e = this.current;
            const n = this.focusables.length;

            if (!n) {
              return null;
            }

            if (e === null) {
              return this[t === 1 ? "first" : "last"];
            }

            let i = (e + n + t) % n;

            do {
              const e = this.focusables.get(i);

              if (Rb(e)) {
                return e;
              }

              i = (i + n + t) % n;
            } while (i !== e);

            return null;
          }

        }

        function Rb(t) {
          return !!(t.focus && Od.window.getComputedStyle(t.element).display != "none");
        }

        class Db extends pb {
          constructor(t) {
            super(t);
            this.setTemplate({
              tag: "span",
              attributes: {
                class: ["ck", "ck-toolbar__separator"]
              }
            });
          }

        }

        const Lb = 100;

        class zb {
          constructor(t, e) {
            if (!zb._observerInstance) {
              zb._createObserver();
            }

            this._element = t;
            this._callback = e;

            zb._addElementCallback(t, e);

            zb._observerInstance.observe(t);
          }

          destroy() {
            zb._deleteElementCallback(this._element, this._callback);
          }

          static _addElementCallback(t, e) {
            if (!zb._elementCallbacks) {
              zb._elementCallbacks = new Map();
            }

            let n = zb._elementCallbacks.get(t);

            if (!n) {
              n = new Set();

              zb._elementCallbacks.set(t, n);
            }

            n.add(e);
          }

          static _deleteElementCallback(t, e) {
            const n = zb._getElementCallbacks(t);

            if (n) {
              n.delete(e);

              if (!n.size) {
                zb._elementCallbacks.delete(t);

                zb._observerInstance.unobserve(t);
              }
            }

            if (zb._elementCallbacks && !zb._elementCallbacks.size) {
              zb._observerInstance = null;
              zb._elementCallbacks = null;
            }
          }

          static _getElementCallbacks(t) {
            if (!zb._elementCallbacks) {
              return null;
            }

            return zb._elementCallbacks.get(t);
          }

          static _createObserver() {
            let t;

            if (typeof Od.window.ResizeObserver === "function") {
              t = Od.window.ResizeObserver;
            } else {
              t = jb;
            }

            zb._observerInstance = new t(t => {
              var _iteratorNormalCompletion262 = true;
              var _didIteratorError262 = false;
              var _iteratorError262 = undefined;

              try {
                for (var _iterator262 = t[Symbol.iterator](), _step262; !(_iteratorNormalCompletion262 = (_step262 = _iterator262.next()).done); _iteratorNormalCompletion262 = true) {
                  const e = _step262.value;

                  const t = zb._getElementCallbacks(e.target);

                  if (t) {
                    var _iteratorNormalCompletion263 = true;
                    var _didIteratorError263 = false;
                    var _iteratorError263 = undefined;

                    try {
                      for (var _iterator263 = t[Symbol.iterator](), _step263; !(_iteratorNormalCompletion263 = (_step263 = _iterator263.next()).done); _iteratorNormalCompletion263 = true) {
                        const n = _step263.value;
                        n(e);
                      }
                    } catch (err) {
                      _didIteratorError263 = true;
                      _iteratorError263 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion263 && _iterator263.return != null) {
                          _iterator263.return();
                        }
                      } finally {
                        if (_didIteratorError263) {
                          throw _iteratorError263;
                        }
                      }
                    }
                  }
                }
              } catch (err) {
                _didIteratorError262 = true;
                _iteratorError262 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion262 && _iterator262.return != null) {
                    _iterator262.return();
                  }
                } finally {
                  if (_didIteratorError262) {
                    throw _iteratorError262;
                  }
                }
              }
            });
          }

        }

        zb._observerInstance = null;
        zb._elementCallbacks = null;

        class jb {
          constructor(t) {
            this._callback = t;
            this._elements = new Set();
            this._previousRects = new Map();
            this._periodicCheckTimeout = null;
          }

          observe(t) {
            this._elements.add(t);

            this._checkElementRectsAndExecuteCallback();

            if (this._elements.size === 1) {
              this._startPeriodicCheck();
            }
          }

          unobserve(t) {
            this._elements.delete(t);

            this._previousRects.delete(t);

            if (!this._elements.size) {
              this._stopPeriodicCheck();
            }
          }

          _startPeriodicCheck() {
            const t = () => {
              this._checkElementRectsAndExecuteCallback();

              this._periodicCheckTimeout = setTimeout(t, Lb);
            };

            this.listenTo(Od.window, "resize", () => {
              this._checkElementRectsAndExecuteCallback();
            });
            this._periodicCheckTimeout = setTimeout(t, Lb);
          }

          _stopPeriodicCheck() {
            clearTimeout(this._periodicCheckTimeout);
            this.stopListening();

            this._previousRects.clear();
          }

          _checkElementRectsAndExecuteCallback() {
            const t = [];
            var _iteratorNormalCompletion264 = true;
            var _didIteratorError264 = false;
            var _iteratorError264 = undefined;

            try {
              for (var _iterator264 = this._elements[Symbol.iterator](), _step264; !(_iteratorNormalCompletion264 = (_step264 = _iterator264.next()).done); _iteratorNormalCompletion264 = true) {
                const e = _step264.value;

                if (this._hasRectChanged(e)) {
                  t.push({
                    target: e,
                    contentRect: this._previousRects.get(e)
                  });
                }
              }
            } catch (err) {
              _didIteratorError264 = true;
              _iteratorError264 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion264 && _iterator264.return != null) {
                  _iterator264.return();
                }
              } finally {
                if (_didIteratorError264) {
                  throw _iteratorError264;
                }
              }
            }

            if (t.length) {
              this._callback(t);
            }
          }

          _hasRectChanged(t) {
            if (!t.ownerDocument.body.contains(t)) {
              return false;
            }

            const e = new yh(t);

            const n = this._previousRects.get(t);

            const i = !n || !n.isEqual(e);

            this._previousRects.set(t, e);

            return i;
          }

        }

        vr(jb, qd);

        function Vb(t) {
          return t.bindTemplate.to(e => {
            if (e.target === t.element) {
              e.preventDefault();
            }
          });
        }

        class Bb extends pb {
          constructor(t) {
            super(t);
            const e = this.bindTemplate;
            this.set("isVisible", false);
            this.set("position", "se");
            this.children = this.createCollection();
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-reset", "ck-dropdown__panel", e.to("position", t => "ck-dropdown__panel_".concat(t)), e.if("isVisible", "ck-dropdown__panel-visible")]
              },
              children: this.children,
              on: {
                selectstart: e.to(t => t.preventDefault())
              }
            });
          }

          focus() {
            if (this.children.length) {
              this.children.first.focus();
            }
          }

          focusLast() {
            if (this.children.length) {
              const t = this.children.last;

              if (typeof t.focusLast === "function") {
                t.focusLast();
              } else {
                t.focus();
              }
            }
          }

        }

        var Fb = n(23);

        function Hb(t) {
          while (t && t.tagName.toLowerCase() != "html") {
            if (Od.window.getComputedStyle(t).position != "static") {
              return t;
            }

            t = t.parentElement;
          }

          return null;
        }

        function Ub({
          element: t,
          target: e,
          positions: n,
          limiter: i,
          fitInViewport: o
        }) {
          if (mt(e)) {
            e = e();
          }

          if (mt(i)) {
            i = i();
          }

          const s = Hb(t.parentElement);
          const r = new yh(t);
          const a = new yh(e);
          let c;
          let l;

          if (!i && !o) {
            var _Wb = Wb(n[0], a, r);

            var _Wb2 = _slicedToArray(_Wb, 2);

            l = _Wb2[0];
            c = _Wb2[1];
          } else {
            const t = i && new yh(i).getVisible();
            const e = o && new yh(Od.window);

            var _ref4 = qb(n, a, r, t, e) || Wb(n[0], a, r);

            var _ref5 = _slicedToArray(_ref4, 2);

            l = _ref5[0];
            c = _ref5[1];
          }

          let _$b = $b(c),
              d = _$b.left,
              u = _$b.top;

          if (s) {
            const t = $b(new yh(s));
            const e = kh(s);
            d -= t.left;
            u -= t.top;
            d += s.scrollLeft;
            u += s.scrollTop;
            d -= e.left;
            u -= e.top;
          }

          return {
            left: d,
            top: u,
            name: l
          };
        }

        function Wb(t, e, n) {
          const _t11 = t(e, n),
                i = _t11.left,
                o = _t11.top,
                s = _t11.name;

          return [s, n.clone().moveTo(i, o)];
        }

        function qb(t, e, n, i, o) {
          let s = 0;
          let r = 0;
          let a;
          let c;
          const l = n.getArea();
          t.some(t => {
            const _Wb3 = Wb(t, e, n),
                  _Wb4 = _slicedToArray(_Wb3, 2),
                  d = _Wb4[0],
                  u = _Wb4[1];

            let h;
            let f;

            if (i) {
              if (o) {
                const t = i.getIntersection(o);

                if (t) {
                  h = t.getIntersectionArea(u);
                } else {
                  h = 0;
                }
              } else {
                h = i.getIntersectionArea(u);
              }
            }

            if (o) {
              f = o.getIntersectionArea(u);
            }

            if (o && !i) {
              if (f > r) {
                m();
              }
            } else if (!o && i) {
              if (h > s) {
                m();
              }
            } else {
              if (f > r && h >= s) {
                m();
              } else if (f >= r && h > s) {
                m();
              }
            }

            function m() {
              r = f;
              s = h;
              a = u;
              c = d;
            }

            return h === l;
          });
          return a ? [c, a] : null;
        }

        function $b({
          left: t,
          top: e
        }) {
          const _Od$window2 = Od.window,
                n = _Od$window2.scrollX,
                i = _Od$window2.scrollY;
          return {
            left: t + n,
            top: e + i
          };
        }

        class Yb extends pb {
          constructor(t, e, n) {
            super(t);
            const i = this.bindTemplate;
            this.buttonView = e;
            this.panelView = n;
            this.set("isOpen", false);
            this.set("isEnabled", true);
            this.set("class");
            this.set("id");
            this.set("panelPosition", "auto");
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-dropdown", i.to("class"), i.if("isEnabled", "ck-disabled", t => !t)],
                id: i.to("id"),
                "aria-describedby": i.to("ariaDescribedById")
              },
              children: [e, n]
            });
            e.extendTemplate({
              attributes: {
                class: ["ck-dropdown__button"]
              }
            });
          }

          render() {
            super.render();
            this.listenTo(this.buttonView, "open", () => {
              this.isOpen = !this.isOpen;
            });
            this.panelView.bind("isVisible").to(this, "isOpen");
            this.on("change:isOpen", () => {
              if (!this.isOpen) {
                return;
              }

              if (this.panelPosition === "auto") {
                this.panelView.position = Yb._getOptimalPosition({
                  element: this.panelView.element,
                  target: this.buttonView.element,
                  fitInViewport: true,
                  positions: this._panelPositions
                }).name;
              } else {
                this.panelView.position = this.panelPosition;
              }
            });
            this.keystrokes.listenTo(this.element);
            this.focusTracker.add(this.element);

            const t = (t, e) => {
              if (this.isOpen) {
                this.buttonView.focus();
                this.isOpen = false;
                e();
              }
            };

            this.keystrokes.set("arrowdown", (t, e) => {
              if (this.buttonView.isEnabled && !this.isOpen) {
                this.isOpen = true;
                e();
              }
            });
            this.keystrokes.set("arrowright", (t, e) => {
              if (this.isOpen) {
                e();
              }
            });
            this.keystrokes.set("arrowleft", t);
            this.keystrokes.set("esc", t);
          }

          focus() {
            this.buttonView.focus();
          }

          get _panelPositions() {
            const _Yb$defaultPanelPosit = Yb.defaultPanelPositions,
                  t = _Yb$defaultPanelPosit.southEast,
                  e = _Yb$defaultPanelPosit.southWest,
                  n = _Yb$defaultPanelPosit.northEast,
                  i = _Yb$defaultPanelPosit.northWest;

            if (this.locale.uiLanguageDirection === "ltr") {
              return [t, e, n, i];
            } else {
              return [e, t, i, n];
            }
          }

        }

        Yb.defaultPanelPositions = {
          southEast: t => ({
            top: t.bottom,
            left: t.left,
            name: "se"
          }),
          southWest: (t, e) => ({
            top: t.bottom,
            left: t.left - e.width + t.width,
            name: "sw"
          }),
          northEast: (t, e) => ({
            top: t.top - e.height,
            left: t.left,
            name: "ne"
          }),
          northWest: (t, e) => ({
            top: t.bottom - e.height,
            left: t.left - e.width + t.width,
            name: "nw"
          })
        };
        Yb._getOptimalPosition = Ub;
        var Gb = n(25);

        class Qb extends pb {
          constructor() {
            super();
            const t = this.bindTemplate;
            this.set("content", "");
            this.set("viewBox", "0 0 20 20");
            this.set("fillColor", "");
            this.setTemplate({
              tag: "svg",
              ns: "http://www.w3.org/2000/svg",
              attributes: {
                class: ["ck", "ck-icon"],
                viewBox: t.to("viewBox")
              }
            });
          }

          render() {
            super.render();

            this._updateXMLContent();

            this._colorFillPaths();

            this.on("change:content", () => {
              this._updateXMLContent();

              this._colorFillPaths();
            });
            this.on("change:fillColor", () => {
              this._colorFillPaths();
            });
          }

          _updateXMLContent() {
            if (this.content) {
              const t = new DOMParser().parseFromString(this.content.trim(), "image/svg+xml");
              const e = t.querySelector("svg");
              const n = e.getAttribute("viewBox");

              if (n) {
                this.viewBox = n;
              }

              this.element.innerHTML = "";

              while (e.childNodes.length > 0) {
                this.element.appendChild(e.childNodes[0]);
              }
            }
          }

          _colorFillPaths() {
            if (this.fillColor) {
              this.element.querySelectorAll(".ck-icon__fill").forEach(t => {
                t.style.fill = this.fillColor;
              });
            }
          }

        }

        var Kb = n(27);

        class Jb extends pb {
          constructor(t) {
            super(t);
            this.set("text", "");
            this.set("position", "s");
            const e = this.bindTemplate;
            this.setTemplate({
              tag: "span",
              attributes: {
                class: ["ck", "ck-tooltip", e.to("position", t => "ck-tooltip_" + t), e.if("text", "ck-hidden", t => !t.trim())]
              },
              children: [{
                tag: "span",
                attributes: {
                  class: ["ck", "ck-tooltip__text"]
                },
                children: [{
                  text: e.to("text")
                }]
              }]
            });
          }

        }

        var Zb = n(29);

        class Xb extends pb {
          constructor(t) {
            super(t);
            const e = this.bindTemplate;
            const n = nr();
            this.set("class");
            this.set("labelStyle");
            this.set("icon");
            this.set("isEnabled", true);
            this.set("isOn", false);
            this.set("isVisible", true);
            this.set("isToggleable", false);
            this.set("keystroke");
            this.set("label");
            this.set("tabindex", -1);
            this.set("tooltip");
            this.set("tooltipPosition", "s");
            this.set("type", "button");
            this.set("withText", false);
            this.set("withKeystroke", false);
            this.children = this.createCollection();
            this.tooltipView = this._createTooltipView();
            this.labelView = this._createLabelView(n);
            this.iconView = new Qb();
            this.iconView.extendTemplate({
              attributes: {
                class: "ck-button__icon"
              }
            });
            this.keystrokeView = this._createKeystrokeView();
            this.bind("_tooltipString").to(this, "tooltip", this, "label", this, "keystroke", this._getTooltipString.bind(this));
            this.setTemplate({
              tag: "button",
              attributes: {
                class: ["ck", "ck-button", e.to("class"), e.if("isEnabled", "ck-disabled", t => !t), e.if("isVisible", "ck-hidden", t => !t), e.to("isOn", t => t ? "ck-on" : "ck-off"), e.if("withText", "ck-button_with-text"), e.if("withKeystroke", "ck-button_with-keystroke")],
                type: e.to("type", t => t ? t : "button"),
                tabindex: e.to("tabindex"),
                "aria-labelledby": "ck-editor__aria-label_".concat(n),
                "aria-disabled": e.if("isEnabled", true, t => !t),
                "aria-pressed": e.to("isOn", t => this.isToggleable ? String(t) : false)
              },
              children: this.children,
              on: {
                mousedown: e.to(t => {
                  t.preventDefault();
                }),
                click: e.to(t => {
                  if (this.isEnabled) {
                    this.fire("execute");
                  } else {
                    t.preventDefault();
                  }
                })
              }
            });
          }

          render() {
            super.render();

            if (this.icon) {
              this.iconView.bind("content").to(this, "icon");
              this.children.add(this.iconView);
            }

            this.children.add(this.tooltipView);
            this.children.add(this.labelView);

            if (this.withKeystroke) {
              this.children.add(this.keystrokeView);
            }
          }

          focus() {
            this.element.focus();
          }

          _createTooltipView() {
            const t = new Jb();
            t.bind("text").to(this, "_tooltipString");
            t.bind("position").to(this, "tooltipPosition");
            return t;
          }

          _createLabelView(t) {
            const e = new pb();
            const n = this.bindTemplate;
            e.setTemplate({
              tag: "span",
              attributes: {
                class: ["ck", "ck-button__label"],
                style: n.to("labelStyle"),
                id: "ck-editor__aria-label_".concat(t)
              },
              children: [{
                text: this.bindTemplate.to("label")
              }]
            });
            return e;
          }

          _createKeystrokeView() {
            const t = new pb();
            t.setTemplate({
              tag: "span",
              attributes: {
                class: ["ck", "ck-button__keystroke"]
              },
              children: [{
                text: this.bindTemplate.to("keystroke", t => jl(t))
              }]
            });
            return t;
          }

          _getTooltipString(t, e, n) {
            if (t) {
              if (typeof t == "string") {
                return t;
              } else {
                if (n) {
                  n = jl(n);
                }

                if (t instanceof Function) {
                  return t(e, n);
                } else {
                  return "".concat(e).concat(n ? " (".concat(n, ")") : "");
                }
              }
            }

            return "";
          }

        }

        var tw = '<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 111.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 111.06 1.06l-3.549 3.55a.75.75 0 01-1.168-.136L.941 4.523z"/></svg>';

        class ew extends Xb {
          constructor(t) {
            super(t);
            this.arrowView = this._createArrowView();
            this.extendTemplate({
              attributes: {
                "aria-haspopup": true
              }
            });
            this.delegate("execute").to(this, "open");
          }

          render() {
            super.render();
            this.children.add(this.arrowView);
          }

          _createArrowView() {
            const t = new Qb();
            t.content = tw;
            t.extendTemplate({
              attributes: {
                class: "ck-dropdown__arrow"
              }
            });
            return t;
          }

        }

        var nw = n(31);

        class iw extends pb {
          constructor() {
            super();
            this.items = this.createCollection();
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this._focusCycler = new Ob({
              focusables: this.items,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {
                focusPrevious: "arrowup",
                focusNext: "arrowdown"
              }
            });
            this.setTemplate({
              tag: "ul",
              attributes: {
                class: ["ck", "ck-reset", "ck-list"]
              },
              children: this.items
            });
          }

          render() {
            super.render();
            var _iteratorNormalCompletion265 = true;
            var _didIteratorError265 = false;
            var _iteratorError265 = undefined;

            try {
              for (var _iterator265 = this.items[Symbol.iterator](), _step265; !(_iteratorNormalCompletion265 = (_step265 = _iterator265.next()).done); _iteratorNormalCompletion265 = true) {
                const t = _step265.value;
                this.focusTracker.add(t.element);
              }
            } catch (err) {
              _didIteratorError265 = true;
              _iteratorError265 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion265 && _iterator265.return != null) {
                  _iterator265.return();
                }
              } finally {
                if (_didIteratorError265) {
                  throw _iteratorError265;
                }
              }
            }

            this.items.on("add", (t, e) => {
              this.focusTracker.add(e.element);
            });
            this.items.on("remove", (t, e) => {
              this.focusTracker.remove(e.element);
            });
            this.keystrokes.listenTo(this.element);
          }

          focus() {
            this._focusCycler.focusFirst();
          }

          focusLast() {
            this._focusCycler.focusLast();
          }

        }

        class ow extends pb {
          constructor(t) {
            super(t);
            this.children = this.createCollection();
            this.setTemplate({
              tag: "li",
              attributes: {
                class: ["ck", "ck-list__item"]
              },
              children: this.children
            });
          }

          focus() {
            this.children.first.focus();
          }

        }

        class sw extends pb {
          constructor(t) {
            super(t);
            this.setTemplate({
              tag: "li",
              attributes: {
                class: ["ck", "ck-list__separator"]
              }
            });
          }

        }

        var rw = n(33);

        class aw extends Xb {
          constructor(t) {
            super(t);
            this.isToggleable = true;
            this.toggleSwitchView = this._createToggleView();
            this.extendTemplate({
              attributes: {
                class: "ck-switchbutton"
              }
            });
          }

          render() {
            super.render();
            this.children.add(this.toggleSwitchView);
          }

          _createToggleView() {
            const t = new pb();
            t.setTemplate({
              tag: "span",
              attributes: {
                class: ["ck", "ck-button__toggle"]
              },
              children: [{
                tag: "span",
                attributes: {
                  class: ["ck", "ck-button__toggle__inner"]
                }
              }]
            });
            return t;
          }

        }

        function cw({
          emitter: t,
          activator: e,
          callback: n,
          contextElements: i
        }) {
          t.listenTo(document, "mousedown", (t, {
            target: o
          }) => {
            if (!e()) {
              return;
            }

            var _iteratorNormalCompletion266 = true;
            var _didIteratorError266 = false;
            var _iteratorError266 = undefined;

            try {
              for (var _iterator266 = i[Symbol.iterator](), _step266; !(_iteratorNormalCompletion266 = (_step266 = _iterator266.next()).done); _iteratorNormalCompletion266 = true) {
                const t = _step266.value;

                if (t.contains(o)) {
                  return;
                }
              }
            } catch (err) {
              _didIteratorError266 = true;
              _iteratorError266 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion266 && _iterator266.return != null) {
                  _iterator266.return();
                }
              } finally {
                if (_didIteratorError266) {
                  throw _iteratorError266;
                }
              }
            }

            n();
          });
        }

        var lw = n(35);
        var dw = n(37);

        function uw(t, e = ew) {
          const n = new e(t);
          const i = new Bb(t);
          const o = new Yb(t, n, i);
          n.bind("isEnabled").to(o);

          if (n instanceof ew) {
            n.bind("isOn").to(o, "isOpen");
          } else {
            n.arrowView.bind("isOn").to(o, "isOpen");
          }

          mw(o);
          return o;
        }

        function hw(t, e) {
          const n = t.locale;
          const i = n.t;
          const o = t.toolbarView = new kw(n);
          o.set("ariaLabel", i("br"));
          t.extendTemplate({
            attributes: {
              class: ["ck-toolbar-dropdown"]
            }
          });
          e.map(t => o.items.add(t));
          t.panelView.children.add(o);
          o.items.delegate("execute").to(t);
        }

        function fw(t, e) {
          const n = t.locale;
          const i = t.listView = new iw(n);
          i.items.bindTo(e).using(({
            type: t,
            model: e
          }) => {
            if (t === "separator") {
              return new sw(n);
            } else if (t === "button" || t === "switchbutton") {
              const i = new ow(n);
              let o;

              if (t === "button") {
                o = new Xb(n);
              } else {
                o = new aw(n);
              }

              o.bind(...Object.keys(e)).to(e);
              o.delegate("execute").to(i);
              i.children.add(o);
              return i;
            }
          });
          t.panelView.children.add(i);
          i.items.delegate("execute").to(t);
        }

        function mw(t) {
          gw(t);
          pw(t);
          bw(t);
        }

        function gw(t) {
          t.on("render", () => {
            cw({
              emitter: t,
              activator: () => t.isOpen,
              callback: () => {
                t.isOpen = false;
              },
              contextElements: [t.element]
            });
          });
        }

        function pw(t) {
          t.on("execute", e => {
            if (e.source instanceof aw) {
              return;
            }

            t.isOpen = false;
          });
        }

        function bw(t) {
          t.keystrokes.set("arrowdown", (e, n) => {
            if (t.isOpen) {
              t.panelView.focus();
              n();
            }
          });
          t.keystrokes.set("arrowup", (e, n) => {
            if (t.isOpen) {
              t.panelView.focusLast();
              n();
            }
          });
        }

        var ww = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';

        var _w = n(39);

        class kw extends pb {
          constructor(t, e) {
            super(t);
            const n = this.bindTemplate;
            const i = this.t;
            this.options = e || {};
            this.set("ariaLabel", i("bn"));
            this.items = this.createCollection();
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this.set("class");
            this.set("isCompact", false);
            this.itemsView = new vw(t);
            this.children = this.createCollection();
            this.children.add(this.itemsView);
            this.focusables = this.createCollection();
            this._focusCycler = new Ob({
              focusables: this.focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {
                focusPrevious: ["arrowleft", "arrowup"],
                focusNext: ["arrowright", "arrowdown"]
              }
            });
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-toolbar", n.to("class"), n.if("isCompact", "ck-toolbar_compact")],
                role: "toolbar",
                "aria-label": n.to("ariaLabel")
              },
              children: this.children,
              on: {
                mousedown: Vb(this)
              }
            });
            this._behavior = this.options.shouldGroupWhenFull ? new xw(this) : new yw(this);
          }

          render() {
            super.render();
            var _iteratorNormalCompletion267 = true;
            var _didIteratorError267 = false;
            var _iteratorError267 = undefined;

            try {
              for (var _iterator267 = this.items[Symbol.iterator](), _step267; !(_iteratorNormalCompletion267 = (_step267 = _iterator267.next()).done); _iteratorNormalCompletion267 = true) {
                const t = _step267.value;
                this.focusTracker.add(t.element);
              }
            } catch (err) {
              _didIteratorError267 = true;
              _iteratorError267 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion267 && _iterator267.return != null) {
                  _iterator267.return();
                }
              } finally {
                if (_didIteratorError267) {
                  throw _iteratorError267;
                }
              }
            }

            this.items.on("add", (t, e) => {
              this.focusTracker.add(e.element);
            });
            this.items.on("remove", (t, e) => {
              this.focusTracker.remove(e.element);
            });
            this.keystrokes.listenTo(this.element);

            this._behavior.render(this);
          }

          destroy() {
            this._behavior.destroy();

            return super.destroy();
          }

          focus() {
            this._focusCycler.focusFirst();
          }

          focusLast() {
            this._focusCycler.focusLast();
          }

          fillFromConfig(t, e) {
            t.map(t => {
              if (t == "|") {
                this.items.add(new Db());
              } else if (e.has(t)) {
                this.items.add(e.create(t));
              } else {
                console.warn(Object(rr["a"])("toolbarview-item-unavailable: The requested toolbar item is unavailable."), {
                  name: t
                });
              }
            });
          }

        }

        class vw extends pb {
          constructor(t) {
            super(t);
            this.children = this.createCollection();
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-toolbar__items"]
              },
              children: this.children
            });
          }

        }

        class yw {
          constructor(t) {
            const e = t.bindTemplate;
            t.set("isVertical", false);
            t.itemsView.children.bindTo(t.items).using(t => t);
            t.focusables.bindTo(t.items).using(t => t);
            t.extendTemplate({
              attributes: {
                class: [e.if("isVertical", "ck-toolbar_vertical")]
              }
            });
          }

          render() {}

          destroy() {}

        }

        class xw {
          constructor(t) {
            this.viewChildren = t.children;
            this.viewFocusables = t.focusables;
            this.viewItemsView = t.itemsView;
            this.viewFocusTracker = t.focusTracker;
            this.viewLocale = t.locale;
            this.ungroupedItems = t.createCollection();
            this.groupedItems = t.createCollection();
            this.groupedItemsDropdown = this._createGroupedItemsDropdown();
            this.resizeObserver = null;
            this.cachedPadding = null;
            t.itemsView.children.bindTo(this.ungroupedItems).using(t => t);
            this.ungroupedItems.on("add", this._updateFocusCycleableItems.bind(this));
            this.ungroupedItems.on("remove", this._updateFocusCycleableItems.bind(this));
            t.children.on("add", this._updateFocusCycleableItems.bind(this));
            t.children.on("remove", this._updateFocusCycleableItems.bind(this));
            t.items.on("add", (t, e, n) => {
              if (n > this.ungroupedItems.length) {
                this.groupedItems.add(e, n - this.ungroupedItems.length);
              } else {
                this.ungroupedItems.add(e, n);
              }

              this._updateGrouping();
            });
            t.items.on("remove", (t, e, n) => {
              if (n > this.ungroupedItems.length) {
                this.groupedItems.remove(e);
              } else {
                this.ungroupedItems.remove(e);
              }

              this._updateGrouping();
            });
            t.extendTemplate({
              attributes: {
                class: ["ck-toolbar_grouping"]
              }
            });
          }

          render(t) {
            this.viewElement = t.element;

            this._enableGroupingOnResize();
          }

          destroy() {
            this.groupedItemsDropdown.destroy();
            this.resizeObserver.destroy();
          }

          _updateGrouping() {
            if (!this.viewElement.ownerDocument.body.contains(this.viewElement)) {
              return;
            }

            let t;

            while (this._areItemsOverflowing) {
              this._groupLastItem();

              t = true;
            }

            if (!t && this.groupedItems.length) {
              while (this.groupedItems.length && !this._areItemsOverflowing) {
                this._ungroupFirstItem();
              }

              if (this._areItemsOverflowing) {
                this._groupLastItem();
              }
            }
          }

          get _areItemsOverflowing() {
            if (!this.ungroupedItems.length) {
              return false;
            }

            const t = this.viewElement;
            const e = this.viewLocale.uiLanguageDirection;
            const n = new yh(t.lastChild);
            const i = new yh(t);

            if (!this.cachedPadding) {
              const n = Od.window.getComputedStyle(t);
              const i = e === "ltr" ? "paddingRight" : "paddingLeft";
              this.cachedPadding = Number.parseInt(n[i]);
            }

            if (e === "ltr") {
              return n.right > i.right - this.cachedPadding;
            } else {
              return n.left < i.left + this.cachedPadding;
            }
          }

          _enableGroupingOnResize() {
            let t;
            this.resizeObserver = new zb(this.viewElement, e => {
              if (!t || t !== e.contentRect.width) {
                this._updateGrouping();

                t = e.contentRect.width;
              }
            });

            this._updateGrouping();
          }

          _groupLastItem() {
            if (!this.groupedItems.length) {
              this.viewChildren.add(new Db());
              this.viewChildren.add(this.groupedItemsDropdown);
              this.viewFocusTracker.add(this.groupedItemsDropdown.element);
            }

            this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last), 0);
          }

          _ungroupFirstItem() {
            this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first));

            if (!this.groupedItems.length) {
              this.viewChildren.remove(this.groupedItemsDropdown);
              this.viewChildren.remove(this.viewChildren.last);
              this.viewFocusTracker.remove(this.groupedItemsDropdown.element);
            }
          }

          _createGroupedItemsDropdown() {
            const t = this.viewLocale;
            const e = t.t;
            const n = uw(t);
            n.class = "ck-toolbar__grouped-dropdown";
            n.panelPosition = t.uiLanguageDirection === "ltr" ? "sw" : "se";
            hw(n, []);
            n.buttonView.set({
              label: e("bo"),
              tooltip: true,
              icon: ww
            });
            n.toolbarView.items.bindTo(this.groupedItems).using(t => t);
            return n;
          }

          _updateFocusCycleableItems() {
            this.viewFocusables.clear();
            this.ungroupedItems.map(t => {
              this.viewFocusables.add(t);
            });

            if (this.groupedItems.length) {
              this.viewFocusables.add(this.groupedItemsDropdown);
            }
          }

        }

        var Aw = n(41);

        class Tw extends Cb {
          constructor(t, e, n = {}) {
            super(t);
            this.stickyPanel = new Nb(t);
            this.toolbar = new kw(t, {
              shouldGroupWhenFull: n.shouldToolbarGroupWhenFull
            });
            this.editable = new Sb(t, e);
          }

          render() {
            super.render();
            this.stickyPanel.content.add(this.toolbar);
            this.top.add(this.stickyPanel);
            this.main.add(this.editable);
          }

        }

        function Cw(t) {
          if (t instanceof HTMLTextAreaElement) {
            return t.value;
          }

          return t.innerHTML;
        }

        class Pw extends fp {
          constructor(t, e) {
            super(e);

            if (Gs(t)) {
              this.sourceElement = t;
            }

            this.data.processor = new vp();
            this.model.document.createRoot();
            const n = !this.config.get("toolbar.shouldNotGroupWhenFull");
            const i = new Tw(this.locale, this.editing.view, {
              shouldToolbarGroupWhenFull: n
            });
            this.ui = new Vp(this, i);

            _p(this);
          }

          destroy() {
            if (this.sourceElement) {
              this.updateSourceElement();
            }

            this.ui.destroy();
            return super.destroy();
          }

          static create(t, e = {}) {
            return new Promise(n => {
              const i = new this(t, e);
              n(i.initPlugins().then(() => i.ui.init(Gs(t) ? t : null)).then(() => {
                if (!Gs(t) && e.initialData) {
                  throw new rr["b"]("editor-create-initial-data: " + "The config.initialData option cannot be used together with initial data passed in Editor.create().", null);
                }

                const n = e.initialData || Sw(t);
                return i.data.init(n);
              }).then(() => i.fire("ready")).then(() => i));
            });
          }

        }

        vr(Pw, gp);
        vr(Pw, wp);

        function Sw(t) {
          return Gs(t) ? Cw(t) : t;
        }

        class Mw {
          static get pluginName() {
            return "BlockAutoformatEditing";
          }

          constructor(t, e, n) {
            let i;
            let o = null;

            if (typeof n == "function") {
              i = n;
            } else {
              o = t.commands.get(n);

              i = () => {
                t.execute(n);
              };
            }

            t.model.document.on("change", (n, s) => {
              if (o && !o.isEnabled) {
                return;
              }

              if (s.type == "transparent") {
                return;
              }

              const r = Array.from(t.model.document.differ.getChanges());
              const a = r[0];

              if (r.length != 1 || a.type !== "insert" || a.name != "$text" || a.length != 1) {
                return;
              }

              const c = a.position.parent;

              if (!c.is("paragraph") || c.childCount !== 1) {
                return;
              }

              const l = e.exec(c.getChild(0).data);

              if (!l) {
                return;
              }

              t.model.enqueueChange(t => {
                const e = t.createPositionAt(c, 0);
                const n = t.createPositionAt(c, l[0].length);
                const o = new rf(e, n);
                const s = i({
                  match: l
                });

                if (s !== false) {
                  t.remove(o);
                }

                o.detach();
              });
            });
          }

        }

        function Ew(t, e) {
          let n = t.start;
          const i = Array.from(t.getItems()).reduce((t, i) => {
            if (!(i.is("text") || i.is("textProxy"))) {
              n = e.createPositionAfter(i);
              return "";
            }

            return t + i.data;
          }, "");
          return {
            text: i,
            range: e.createRange(n, t.end)
          };
        }

        class Iw {
          static get pluginName() {
            return "InlineAutoformatEditing";
          }

          constructor(t, e, n) {
            let i;
            let o;
            let s;
            let r;

            if (e instanceof RegExp) {
              i = e;
            } else {
              s = e;
            }

            if (typeof n == "string") {
              o = n;
            } else {
              r = n;
            }

            s = s || (t => {
              let e;
              const n = [];
              const o = [];

              while ((e = i.exec(t)) !== null) {
                if (e && e.length < 4) {
                  break;
                }

                let _e5 = e,
                    t = _e5.index,
                    i = _e5[1],
                    s = _e5[2],
                    r = _e5[3];
                const a = i + s + r;
                t += e[0].length - a.length;
                const c = [t, t + i.length];
                const l = [t + i.length + s.length, t + i.length + s.length + r.length];
                n.push(c);
                n.push(l);
                o.push([t + i.length, t + i.length + s.length]);
              }

              return {
                remove: n,
                format: o
              };
            });

            r = r || ((e, n) => {
              const i = t.model.schema.getValidRanges(n, o);
              var _iteratorNormalCompletion268 = true;
              var _didIteratorError268 = false;
              var _iteratorError268 = undefined;

              try {
                for (var _iterator268 = i[Symbol.iterator](), _step268; !(_iteratorNormalCompletion268 = (_step268 = _iterator268.next()).done); _iteratorNormalCompletion268 = true) {
                  const t = _step268.value;
                  e.setAttribute(o, true, t);
                }
              } catch (err) {
                _didIteratorError268 = true;
                _iteratorError268 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion268 && _iterator268.return != null) {
                    _iterator268.return();
                  }
                } finally {
                  if (_didIteratorError268) {
                    throw _iteratorError268;
                  }
                }
              }

              e.removeSelectionAttribute(o);
            });

            t.model.document.on("change", (e, n) => {
              if (n.type == "transparent") {
                return;
              }

              const i = t.model;
              const o = i.document.selection;

              if (!o.isCollapsed) {
                return;
              }

              const a = Array.from(i.document.differ.getChanges());
              const c = a[0];

              if (a.length != 1 || c.type !== "insert" || c.name != "$text" || c.length != 1) {
                return;
              }

              const l = o.focus;
              const d = l.parent;

              const _Ew = Ew(i.createRange(i.createPositionAt(d, 0), l), i),
                    u = _Ew.text,
                    h = _Ew.range;

              const f = s(u);
              const m = Nw(h.start, f.format, i);
              const g = Nw(h.start, f.remove, i);

              if (!(m.length && g.length)) {
                return;
              }

              i.enqueueChange(t => {
                const e = r(t, m);

                if (e === false) {
                  return;
                }

                var _iteratorNormalCompletion269 = true;
                var _didIteratorError269 = false;
                var _iteratorError269 = undefined;

                try {
                  for (var _iterator269 = g.reverse()[Symbol.iterator](), _step269; !(_iteratorNormalCompletion269 = (_step269 = _iterator269.next()).done); _iteratorNormalCompletion269 = true) {
                    const e = _step269.value;
                    t.remove(e);
                  }
                } catch (err) {
                  _didIteratorError269 = true;
                  _iteratorError269 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion269 && _iterator269.return != null) {
                      _iterator269.return();
                    }
                  } finally {
                    if (_didIteratorError269) {
                      throw _iteratorError269;
                    }
                  }
                }
              });
            });
          }

        }

        function Nw(t, e, n) {
          return e.filter(t => t[0] !== undefined && t[1] !== undefined).map(e => n.createRange(t.getShiftedBy(e[0]), t.getShiftedBy(e[1])));
        }

        class Ow {
          constructor(t) {
            this.editor = t;
            this.set("isEnabled", true);
            this._disableStack = new Set();
          }

          forceDisabled(t) {
            this._disableStack.add(t);

            if (this._disableStack.size == 1) {
              this.on("set:isEnabled", Rw, {
                priority: "highest"
              });
              this.isEnabled = false;
            }
          }

          clearForceDisabled(t) {
            this._disableStack.delete(t);

            if (this._disableStack.size == 0) {
              this.off("set:isEnabled", Rw);
              this.isEnabled = true;
            }
          }

          destroy() {
            this.stopListening();
          }

          static get isContextPlugin() {
            return false;
          }

        }

        vr(Ow, Qc);

        function Rw(t) {
          t.return = false;
          t.stop();
        }

        class Dw extends Ow {
          static get pluginName() {
            return "Autoformat";
          }

          afterInit() {
            this._addListAutoformats();

            this._addBasicStylesAutoformats();

            this._addHeadingAutoformats();

            this._addBlockQuoteAutoformats();

            this._addCodeBlockAutoformats();
          }

          _addListAutoformats() {
            const t = this.editor.commands;

            if (t.get("bulletedList")) {
              new Mw(this.editor, /^[*-]\s$/, "bulletedList");
            }

            if (t.get("numberedList")) {
              new Mw(this.editor, /^1[.|)]\s$/, "numberedList");
            }
          }

          _addBasicStylesAutoformats() {
            const t = this.editor.commands;

            if (t.get("bold")) {
              const t = Lw(this.editor, "bold");
              new Iw(this.editor, /(\*\*)([^*]+)(\*\*)$/g, t);
              new Iw(this.editor, /(__)([^_]+)(__)$/g, t);
            }

            if (t.get("italic")) {
              const t = Lw(this.editor, "italic");
              new Iw(this.editor, /(?:^|[^*])(\*)([^*_]+)(\*)$/g, t);
              new Iw(this.editor, /(?:^|[^_])(_)([^_]+)(_)$/g, t);
            }

            if (t.get("code")) {
              const t = Lw(this.editor, "code");
              new Iw(this.editor, /(`)([^`]+)(`)$/g, t);
            }
          }

          _addHeadingAutoformats() {
            const t = this.editor.commands.get("heading");

            if (t) {
              t.modelElements.filter(t => t.match(/^heading[1-6]$/)).forEach(e => {
                const n = e[7];
                const i = new RegExp("^(#{".concat(n, "})\\s$"));
                new Mw(this.editor, i, () => {
                  if (!t.isEnabled) {
                    return false;
                  }

                  this.editor.execute("heading", {
                    value: e
                  });
                });
              });
            }
          }

          _addBlockQuoteAutoformats() {
            if (this.editor.commands.get("blockQuote")) {
              new Mw(this.editor, /^>\s$/, "blockQuote");
            }
          }

          _addCodeBlockAutoformats() {
            if (this.editor.commands.get("codeBlock")) {
              new Mw(this.editor, /^```$/, "codeBlock");
            }
          }

        }

        function Lw(t, e) {
          return (n, i) => {
            const o = t.commands.get(e);

            if (!o.isEnabled) {
              return false;
            }

            const s = t.model.schema.getValidRanges(i, e);
            var _iteratorNormalCompletion270 = true;
            var _didIteratorError270 = false;
            var _iteratorError270 = undefined;

            try {
              for (var _iterator270 = s[Symbol.iterator](), _step270; !(_iteratorNormalCompletion270 = (_step270 = _iterator270.next()).done); _iteratorNormalCompletion270 = true) {
                const t = _step270.value;
                n.setAttribute(e, true, t);
              }
            } catch (err) {
              _didIteratorError270 = true;
              _iteratorError270 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion270 && _iterator270.return != null) {
                  _iterator270.return();
                }
              } finally {
                if (_didIteratorError270) {
                  throw _iteratorError270;
                }
              }
            }

            n.removeSelectionAttribute(e);
          };
        }

        class zw {
          constructor(t) {
            this.editor = t;
            this.set("value", undefined);
            this.set("isEnabled", false);
            this._disableStack = new Set();
            this.decorate("execute");
            this.listenTo(this.editor.model.document, "change", () => {
              this.refresh();
            });
            this.on("execute", t => {
              if (!this.isEnabled) {
                t.stop();
              }
            }, {
              priority: "high"
            });
            this.listenTo(t, "change:isReadOnly", (t, e, n) => {
              if (n) {
                this.forceDisabled("readOnlyMode");
              } else {
                this.clearForceDisabled("readOnlyMode");
              }
            });
          }

          refresh() {
            this.isEnabled = true;
          }

          forceDisabled(t) {
            this._disableStack.add(t);

            if (this._disableStack.size == 1) {
              this.on("set:isEnabled", jw, {
                priority: "highest"
              });
              this.isEnabled = false;
            }
          }

          clearForceDisabled(t) {
            this._disableStack.delete(t);

            if (this._disableStack.size == 0) {
              this.off("set:isEnabled", jw);
              this.refresh();
            }
          }

          execute() {}

          destroy() {
            this.stopListening();
          }

        }

        vr(zw, Qc);

        function jw(t) {
          t.return = false;
          t.stop();
        }

        function Vw(t) {
          const e = t.next();

          if (e.done) {
            return null;
          }

          return e.value;
        }

        class Bw extends zw {
          refresh() {
            this.value = this._getValue();
            this.isEnabled = this._checkEnabled();
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.schema;
            const i = e.document.selection;
            const o = Array.from(i.getSelectedBlocks());
            const s = t.forceValue === undefined ? !this.value : t.forceValue;
            e.change(t => {
              if (!s) {
                this._removeQuote(t, o.filter(Fw));
              } else {
                const e = o.filter(t => Fw(t) || Uw(n, t));

                this._applyQuote(t, e);
              }
            });
          }

          _getValue() {
            const t = this.editor.model.document.selection;
            const e = Vw(t.getSelectedBlocks());
            return !!(e && Fw(e));
          }

          _checkEnabled() {
            if (this.value) {
              return true;
            }

            const t = this.editor.model.document.selection;
            const e = this.editor.model.schema;
            const n = Vw(t.getSelectedBlocks());

            if (!n) {
              return false;
            }

            return Uw(e, n);
          }

          _removeQuote(t, e) {
            Hw(t, e).reverse().forEach(e => {
              if (e.start.isAtStart && e.end.isAtEnd) {
                t.unwrap(e.start.parent);
                return;
              }

              if (e.start.isAtStart) {
                const n = t.createPositionBefore(e.start.parent);
                t.move(e, n);
                return;
              }

              if (!e.end.isAtEnd) {
                t.split(e.end);
              }

              const n = t.createPositionAfter(e.end.parent);
              t.move(e, n);
            });
          }

          _applyQuote(t, e) {
            const n = [];
            Hw(t, e).reverse().forEach(e => {
              let i = Fw(e.start);

              if (!i) {
                i = t.createElement("blockQuote");
                t.wrap(e, i);
              }

              n.push(i);
            });
            n.reverse().reduce((e, n) => {
              if (e.nextSibling == n) {
                t.merge(t.createPositionAfter(e));
                return e;
              }

              return n;
            });
          }

        }

        function Fw(t) {
          return t.parent.name == "blockQuote" ? t.parent : null;
        }

        function Hw(t, e) {
          let n;
          let i = 0;
          const o = [];

          while (i < e.length) {
            const s = e[i];
            const r = e[i + 1];

            if (!n) {
              n = t.createPositionBefore(s);
            }

            if (!r || s.nextSibling != r) {
              o.push(t.createRange(n, t.createPositionAfter(s)));
              n = null;
            }

            i++;
          }

          return o;
        }

        function Uw(t, e) {
          const n = t.checkChild(e.parent, "blockQuote");
          const i = t.checkChild(["$root", "blockQuote"], e);
          return n && i;
        }

        class Ww extends Ow {
          static get pluginName() {
            return "BlockQuoteEditing";
          }

          init() {
            const t = this.editor;
            const e = t.model.schema;
            t.commands.add("blockQuote", new Bw(t));
            e.register("blockQuote", {
              allowWhere: "$block",
              allowContentOf: "$root"
            });
            e.addChildCheck((t, e) => {
              if (t.endsWith("blockQuote") && e.name == "blockQuote") {
                return false;
              }
            });
            t.conversion.elementToElement({
              model: "blockQuote",
              view: "blockquote"
            });
            t.model.document.registerPostFixer(n => {
              const i = t.model.document.differ.getChanges();
              var _iteratorNormalCompletion271 = true;
              var _didIteratorError271 = false;
              var _iteratorError271 = undefined;

              try {
                for (var _iterator271 = i[Symbol.iterator](), _step271; !(_iteratorNormalCompletion271 = (_step271 = _iterator271.next()).done); _iteratorNormalCompletion271 = true) {
                  const t = _step271.value;

                  if (t.type == "insert") {
                    const i = t.position.nodeAfter;

                    if (!i) {
                      continue;
                    }

                    if (i.is("blockQuote") && i.isEmpty) {
                      n.remove(i);
                      return true;
                    } else if (i.is("blockQuote") && !e.checkChild(t.position, i)) {
                      n.unwrap(i);
                      return true;
                    } else if (i.is("element")) {
                      const t = n.createRangeIn(i);
                      var _iteratorNormalCompletion272 = true;
                      var _didIteratorError272 = false;
                      var _iteratorError272 = undefined;

                      try {
                        for (var _iterator272 = t.getItems()[Symbol.iterator](), _step272; !(_iteratorNormalCompletion272 = (_step272 = _iterator272.next()).done); _iteratorNormalCompletion272 = true) {
                          const i = _step272.value;

                          if (i.is("blockQuote") && !e.checkChild(n.createPositionBefore(i), i)) {
                            n.unwrap(i);
                            return true;
                          }
                        }
                      } catch (err) {
                        _didIteratorError272 = true;
                        _iteratorError272 = err;
                      } finally {
                        try {
                          if (!_iteratorNormalCompletion272 && _iterator272.return != null) {
                            _iterator272.return();
                          }
                        } finally {
                          if (_didIteratorError272) {
                            throw _iteratorError272;
                          }
                        }
                      }
                    }
                  } else if (t.type == "remove") {
                    const e = t.position.parent;

                    if (e.is("blockQuote") && e.isEmpty) {
                      n.remove(e);
                      return true;
                    }
                  }
                }
              } catch (err) {
                _didIteratorError271 = true;
                _iteratorError271 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion271 && _iterator271.return != null) {
                    _iterator271.return();
                  }
                } finally {
                  if (_didIteratorError271) {
                    throw _iteratorError271;
                  }
                }
              }

              return false;
            });
          }

          afterInit() {
            const t = this.editor;
            const e = t.commands.get("blockQuote");
            this.listenTo(this.editor.editing.view.document, "enter", (t, n) => {
              const i = this.editor.model.document;
              const o = i.selection.getLastPosition().parent;

              if (i.selection.isCollapsed && o.isEmpty && e.value) {
                this.editor.execute("blockQuote");
                this.editor.editing.view.scrollToTheSelection();
                n.preventDefault();
                t.stop();
              }
            });
          }

        }

        var qw = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 016.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 016.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';
        var $w = n(43);

        class Yw extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;
            t.ui.componentFactory.add("blockQuote", n => {
              const i = t.commands.get("blockQuote");
              const o = new Xb(n);
              o.set({
                label: e("d"),
                icon: qw,
                tooltip: true,
                isToggleable: true
              });
              o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
              this.listenTo(o, "execute", () => {
                t.execute("blockQuote");
                t.editing.view.focus();
              });
              return o;
            });
          }

        }

        class Gw extends Ow {
          static get requires() {
            return [Ww, Yw];
          }

          static get pluginName() {
            return "BlockQuote";
          }

        }

        class Qw extends zw {
          constructor(t, e) {
            super(t);
            this.attributeKey = e;
          }

          refresh() {
            const t = this.editor.model;
            const e = t.document;
            this.value = this._getValueFromFirstAllowedNode();
            this.isEnabled = t.schema.checkAttributeInSelection(e.selection, this.attributeKey);
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.document;
            const i = n.selection;
            const o = t.forceValue === undefined ? !this.value : t.forceValue;
            e.change(t => {
              if (i.isCollapsed) {
                if (o) {
                  t.setSelectionAttribute(this.attributeKey, true);
                } else {
                  t.removeSelectionAttribute(this.attributeKey);
                }
              } else {
                const n = e.schema.getValidRanges(i.getRanges(), this.attributeKey);
                var _iteratorNormalCompletion273 = true;
                var _didIteratorError273 = false;
                var _iteratorError273 = undefined;

                try {
                  for (var _iterator273 = n[Symbol.iterator](), _step273; !(_iteratorNormalCompletion273 = (_step273 = _iterator273.next()).done); _iteratorNormalCompletion273 = true) {
                    const e = _step273.value;

                    if (o) {
                      t.setAttribute(this.attributeKey, o, e);
                    } else {
                      t.removeAttribute(this.attributeKey, e);
                    }
                  }
                } catch (err) {
                  _didIteratorError273 = true;
                  _iteratorError273 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion273 && _iterator273.return != null) {
                      _iterator273.return();
                    }
                  } finally {
                    if (_didIteratorError273) {
                      throw _iteratorError273;
                    }
                  }
                }
              }
            });
          }

          _getValueFromFirstAllowedNode() {
            const t = this.editor.model;
            const e = t.schema;
            const n = t.document.selection;

            if (n.isCollapsed) {
              return n.hasAttribute(this.attributeKey);
            }

            var _iteratorNormalCompletion274 = true;
            var _didIteratorError274 = false;
            var _iteratorError274 = undefined;

            try {
              for (var _iterator274 = n.getRanges()[Symbol.iterator](), _step274; !(_iteratorNormalCompletion274 = (_step274 = _iterator274.next()).done); _iteratorNormalCompletion274 = true) {
                const t = _step274.value;
                var _iteratorNormalCompletion275 = true;
                var _didIteratorError275 = false;
                var _iteratorError275 = undefined;

                try {
                  for (var _iterator275 = t.getItems()[Symbol.iterator](), _step275; !(_iteratorNormalCompletion275 = (_step275 = _iterator275.next()).done); _iteratorNormalCompletion275 = true) {
                    const n = _step275.value;

                    if (e.checkAttribute(n, this.attributeKey)) {
                      return n.hasAttribute(this.attributeKey);
                    }
                  }
                } catch (err) {
                  _didIteratorError275 = true;
                  _iteratorError275 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion275 && _iterator275.return != null) {
                      _iterator275.return();
                    }
                  } finally {
                    if (_didIteratorError275) {
                      throw _iteratorError275;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError274 = true;
              _iteratorError274 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion274 && _iterator274.return != null) {
                  _iterator274.return();
                }
              } finally {
                if (_didIteratorError274) {
                  throw _iteratorError274;
                }
              }
            }

            return false;
          }

        }

        const Kw = "bold";

        class Jw extends Ow {
          static get pluginName() {
            return "BoldEditing";
          }

          init() {
            const t = this.editor;
            t.model.schema.extend("$text", {
              allowAttributes: Kw
            });
            t.model.schema.setAttributeProperties(Kw, {
              isFormatting: true,
              copyOnEnter: true
            });
            t.conversion.attributeToElement({
              model: Kw,
              view: "strong",
              upcastAlso: ["b", t => {
                const e = t.getStyle("font-weight");

                if (!e) {
                  return null;
                }

                if (e == "bold" || Number(e) >= 600) {
                  return {
                    name: true,
                    styles: ["font-weight"]
                  };
                }
              }]
            });
            t.commands.add(Kw, new Qw(t, Kw));
            t.keystrokes.set("CTRL+B", Kw);
          }

        }

        var Zw = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 01.808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 01-2.296 3.504 6.1 6.1 0 01-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 00.91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>';
        const Xw = "bold";

        class t_ extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;
            t.ui.componentFactory.add(Xw, n => {
              const i = t.commands.get(Xw);
              const o = new Xb(n);
              o.set({
                label: e("an"),
                icon: Zw,
                keystroke: "CTRL+B",
                tooltip: true,
                isToggleable: true
              });
              o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
              this.listenTo(o, "execute", () => {
                t.execute(Xw);
                t.editing.view.focus();
              });
              return o;
            });
          }

        }

        class e_ extends Ow {
          static get requires() {
            return [Jw, t_];
          }

          static get pluginName() {
            return "Bold";
          }

        }

        class n_ extends zw {
          refresh() {
            const t = this.editor.model;
            const e = t.document;
            const n = Vw(e.selection.getSelectedBlocks());
            this.value = !!n && n.is("paragraph");
            this.isEnabled = !!n && i_(n, t.schema);
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.document;
            e.change(i => {
              const o = (t.selection || n.selection).getSelectedBlocks();
              var _iteratorNormalCompletion276 = true;
              var _didIteratorError276 = false;
              var _iteratorError276 = undefined;

              try {
                for (var _iterator276 = o[Symbol.iterator](), _step276; !(_iteratorNormalCompletion276 = (_step276 = _iterator276.next()).done); _iteratorNormalCompletion276 = true) {
                  const t = _step276.value;

                  if (!t.is("paragraph") && i_(t, e.schema)) {
                    i.rename(t, "paragraph");
                  }
                }
              } catch (err) {
                _didIteratorError276 = true;
                _iteratorError276 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion276 && _iterator276.return != null) {
                    _iterator276.return();
                  }
                } finally {
                  if (_didIteratorError276) {
                    throw _iteratorError276;
                  }
                }
              }
            });
          }

        }

        function i_(t, e) {
          return e.checkChild(t.parent, "paragraph") && !e.isObject(t);
        }

        class o_ extends Ow {
          static get pluginName() {
            return "Paragraph";
          }

          init() {
            const t = this.editor;
            const e = t.model;
            const n = t.data;
            t.commands.add("paragraph", new n_(t));
            e.schema.register("paragraph", {
              inheritAllFrom: "$block"
            });
            t.conversion.elementToElement({
              model: "paragraph",
              view: "p"
            });
            t.conversion.for("upcast").elementToElement({
              model: (t, e) => {
                if (!o_.paragraphLikeElements.has(t.name)) {
                  return null;
                }

                if (t.isEmpty) {
                  return null;
                }

                return e.createElement("paragraph");
              },
              converterPriority: "low"
            });
            n.upcastDispatcher.on("element", (t, e, n) => {
              if (!n.consumable.test(e.viewItem, {
                name: e.viewItem.name
              })) {
                return;
              }

              if (r_(e.viewItem, e.modelCursor, n.schema)) {
                Object.assign(e, s_(e.viewItem, e.modelCursor, n));
              }
            }, {
              priority: "low"
            });
            n.upcastDispatcher.on("text", (t, e, n) => {
              if (e.modelRange) {
                return;
              }

              if (r_(e.viewItem, e.modelCursor, n.schema)) {
                Object.assign(e, s_(e.viewItem, e.modelCursor, n));
              }
            }, {
              priority: "lowest"
            });
            e.document.registerPostFixer(t => this._autoparagraphEmptyRoots(t));
            t.data.on("ready", () => {
              e.enqueueChange("transparent", t => this._autoparagraphEmptyRoots(t));
            }, {
              priority: "lowest"
            });
          }

          _autoparagraphEmptyRoots(t) {
            const e = this.editor.model;
            var _iteratorNormalCompletion277 = true;
            var _didIteratorError277 = false;
            var _iteratorError277 = undefined;

            try {
              for (var _iterator277 = e.document.getRootNames()[Symbol.iterator](), _step277; !(_iteratorNormalCompletion277 = (_step277 = _iterator277.next()).done); _iteratorNormalCompletion277 = true) {
                const n = _step277.value;
                const i = e.document.getRoot(n);

                if (i.isEmpty && i.rootName != "$graveyard") {
                  if (e.schema.checkChild(i, "paragraph")) {
                    t.insertElement("paragraph", i);
                    return true;
                  }
                }
              }
            } catch (err) {
              _didIteratorError277 = true;
              _iteratorError277 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion277 && _iterator277.return != null) {
                  _iterator277.return();
                }
              } finally {
                if (_didIteratorError277) {
                  throw _iteratorError277;
                }
              }
            }
          }

        }

        o_.paragraphLikeElements = new Set(["blockquote", "dd", "div", "dt", "h1", "h2", "h3", "h4", "h5", "h6", "li", "p", "td"]);

        function s_(t, e, n) {
          const i = n.writer.createElement("paragraph");
          n.writer.insert(i, e);
          return n.convertItem(t, n.writer.createPositionAt(i, 0));
        }

        function r_(t, e, n) {
          const i = n.createContext(e);

          if (!n.checkChild(i, "paragraph")) {
            return false;
          }

          if (!n.checkChild(i.push("paragraph"), t)) {
            return false;
          }

          return true;
        }

        class a_ extends zw {
          constructor(t, e) {
            super(t);
            this.modelElements = e;
          }

          refresh() {
            const t = Vw(this.editor.model.document.selection.getSelectedBlocks());
            this.value = !!t && this.modelElements.includes(t.name) && t.name;
            this.isEnabled = !!t && this.modelElements.some(e => c_(t, e, this.editor.model.schema));
          }

          execute(t) {
            const e = this.editor.model;
            const n = e.document;
            const i = t.value;
            e.change(t => {
              const o = Array.from(n.selection.getSelectedBlocks()).filter(t => c_(t, i, e.schema));
              var _iteratorNormalCompletion278 = true;
              var _didIteratorError278 = false;
              var _iteratorError278 = undefined;

              try {
                for (var _iterator278 = o[Symbol.iterator](), _step278; !(_iteratorNormalCompletion278 = (_step278 = _iterator278.next()).done); _iteratorNormalCompletion278 = true) {
                  const e = _step278.value;

                  if (!e.is(i)) {
                    t.rename(e, i);
                  }
                }
              } catch (err) {
                _didIteratorError278 = true;
                _iteratorError278 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion278 && _iterator278.return != null) {
                    _iterator278.return();
                  }
                } finally {
                  if (_didIteratorError278) {
                    throw _iteratorError278;
                  }
                }
              }
            });
          }

        }

        function c_(t, e, n) {
          return n.checkChild(t.parent, e) && !n.isObject(t);
        }

        const l_ = "paragraph";

        class d_ extends Ow {
          static get pluginName() {
            return "HeadingEditing";
          }

          constructor(t) {
            super(t);
            t.config.define("heading", {
              options: [{
                model: "paragraph",
                title: "Paragraph",
                class: "ck-heading_paragraph"
              }, {
                model: "heading1",
                view: "h2",
                title: "Heading 1",
                class: "ck-heading_heading1"
              }, {
                model: "heading2",
                view: "h3",
                title: "Heading 2",
                class: "ck-heading_heading2"
              }, {
                model: "heading3",
                view: "h4",
                title: "Heading 3",
                class: "ck-heading_heading3"
              }]
            });
          }

          static get requires() {
            return [o_];
          }

          init() {
            const t = this.editor;
            const e = t.config.get("heading.options");
            const n = [];
            var _iteratorNormalCompletion279 = true;
            var _didIteratorError279 = false;
            var _iteratorError279 = undefined;

            try {
              for (var _iterator279 = e[Symbol.iterator](), _step279; !(_iteratorNormalCompletion279 = (_step279 = _iterator279.next()).done); _iteratorNormalCompletion279 = true) {
                const i = _step279.value;

                if (i.model !== l_) {
                  t.model.schema.register(i.model, {
                    inheritAllFrom: "$block"
                  });
                  t.conversion.elementToElement(i);
                  n.push(i.model);
                }
              }
            } catch (err) {
              _didIteratorError279 = true;
              _iteratorError279 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion279 && _iterator279.return != null) {
                  _iterator279.return();
                }
              } finally {
                if (_didIteratorError279) {
                  throw _iteratorError279;
                }
              }
            }

            this._addDefaultH1Conversion(t);

            t.commands.add("heading", new a_(t, n));
          }

          afterInit() {
            const t = this.editor;
            const e = t.commands.get("enter");
            const n = t.config.get("heading.options");

            if (e) {
              this.listenTo(e, "afterExecute", (e, i) => {
                const o = t.model.document.selection.getFirstPosition().parent;
                const s = n.some(t => o.is(t.model));

                if (s && !o.is(l_) && o.childCount === 0) {
                  i.writer.rename(o, l_);
                }
              });
            }
          }

          _addDefaultH1Conversion(t) {
            t.conversion.for("upcast").elementToElement({
              model: "heading1",
              view: "h1",
              converterPriority: or.get("low") + 1
            });
          }

        }

        class u_ {
          constructor(t, e) {
            if (e) {
              Wc(this, e);
            }

            if (t) {
              this.set(t);
            }
          }

        }

        vr(u_, Qc);

        function h_(t) {
          const e = t.t;
          const n = {
            Paragraph: e("cz"),
            "Heading 1": e("da"),
            "Heading 2": e("db"),
            "Heading 3": e("dc"),
            "Heading 4": e("dd"),
            "Heading 5": e("de"),
            "Heading 6": e("df")
          };
          return t.config.get("heading.options").map(t => {
            const e = n[t.title];

            if (e && e != t.title) {
              t.title = e;
            }

            return t;
          });
        }

        var f_ = n(11);

        class m_ extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;
            const n = h_(t);
            const i = e("e");
            const o = e("f");
            t.ui.componentFactory.add("heading", e => {
              const s = {};
              const r = new yr();
              const a = t.commands.get("heading");
              const c = t.commands.get("paragraph");
              const l = [a];
              var _iteratorNormalCompletion280 = true;
              var _didIteratorError280 = false;
              var _iteratorError280 = undefined;

              try {
                for (var _iterator280 = n[Symbol.iterator](), _step280; !(_iteratorNormalCompletion280 = (_step280 = _iterator280.next()).done); _iteratorNormalCompletion280 = true) {
                  const t = _step280.value;
                  const e = {
                    type: "button",
                    model: new u_({
                      label: t.title,
                      class: t.class,
                      withText: true
                    })
                  };

                  if (t.model === "paragraph") {
                    e.model.bind("isOn").to(c, "value");
                    e.model.set("commandName", "paragraph");
                    l.push(c);
                  } else {
                    e.model.bind("isOn").to(a, "value", e => e === t.model);
                    e.model.set({
                      commandName: "heading",
                      commandValue: t.model
                    });
                  }

                  r.add(e);
                  s[t.model] = t.title;
                }
              } catch (err) {
                _didIteratorError280 = true;
                _iteratorError280 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion280 && _iterator280.return != null) {
                    _iterator280.return();
                  }
                } finally {
                  if (_didIteratorError280) {
                    throw _iteratorError280;
                  }
                }
              }

              const d = uw(e);
              fw(d, r);
              d.buttonView.set({
                isOn: false,
                withText: true,
                tooltip: o
              });
              d.extendTemplate({
                attributes: {
                  class: ["ck-heading-dropdown"]
                }
              });
              d.bind("isEnabled").toMany(l, "isEnabled", (...t) => t.some(t => t));
              d.buttonView.bind("label").to(a, "value", c, "value", (t, e) => {
                const n = t || e && "paragraph";
                return s[n] ? s[n] : i;
              });
              this.listenTo(d, "execute", e => {
                t.execute(e.source.commandName, e.source.commandValue ? {
                  value: e.source.commandValue
                } : undefined);
                t.editing.view.focus();
              });
              return d;
            });
          }

        }

        class g_ extends Ow {
          static get requires() {
            return [d_, m_];
          }

          static get pluginName() {
            return "Heading";
          }

        }

        class p_ extends Gd {
          observe(t) {
            this.listenTo(t, "load", (t, e) => {
              const n = e.target;

              if (n.tagName == "IMG") {
                this._fireEvents(e);
              }
            }, {
              useCapture: true
            });
          }

          _fireEvents(t) {
            if (this.isEnabled) {
              this.document.fire("layoutChanged");
              this.document.fire("imageLoaded", t);
            }
          }

        }

        function b_() {
          return e => {
            e.on("element:figure", t);
          };

          function t(t, e, n) {
            if (!n.consumable.test(e.viewItem, {
              name: true,
              classes: "image"
            })) {
              return;
            }

            const i = Array.from(e.viewItem.getChildren()).find(t => t.is("img"));

            if (!i || !i.hasAttribute("src") || !n.consumable.test(i, {
              name: true
            })) {
              return;
            }

            const o = n.convertItem(i, e.modelCursor);
            const s = Vw(o.modelRange.getItems());

            if (!s) {
              return;
            }

            n.convertChildren(e.viewItem, n.writer.createPositionAt(s, 0));
            e.modelRange = o.modelRange;
            e.modelCursor = o.modelCursor;
          }
        }

        function w_() {
          return e => {
            e.on("attribute:srcset:image", t);
          };

          function t(t, e, n) {
            if (!n.consumable.consume(e.item, t.name)) {
              return;
            }

            const i = n.writer;
            const o = n.mapper.toViewElement(e.item);
            const s = o.getChild(0);

            if (e.attributeNewValue === null) {
              const t = e.attributeOldValue;

              if (t.data) {
                i.removeAttribute("srcset", s);
                i.removeAttribute("sizes", s);

                if (t.width) {
                  i.removeAttribute("width", s);
                }
              }
            } else {
              const t = e.attributeNewValue;

              if (t.data) {
                i.setAttribute("srcset", t.data, s);
                i.setAttribute("sizes", "100vw", s);

                if (t.width) {
                  i.setAttribute("width", t.width, s);
                }
              }
            }
          }
        }

        function __(t) {
          return n => {
            n.on("attribute:".concat(t, ":image"), e);
          };

          function e(t, e, n) {
            if (!n.consumable.consume(e.item, t.name)) {
              return;
            }

            const i = n.writer;
            const o = n.mapper.toViewElement(e.item);
            const s = o.getChild(0);

            if (e.attributeNewValue !== null) {
              i.setAttribute(e.attributeKey, e.attributeNewValue, s);
            } else {
              i.removeAttribute(e.attributeKey, s);
            }
          }
        }

        class k_ {
          constructor() {
            this._stack = [];
          }

          add(t, e) {
            const n = this._stack;
            const i = n[0];

            this._insertDescriptor(t);

            const o = n[0];

            if (i !== o && !v_(i, o)) {
              this.fire("change:top", {
                oldDescriptor: i,
                newDescriptor: o,
                writer: e
              });
            }
          }

          remove(t, e) {
            const n = this._stack;
            const i = n[0];

            this._removeDescriptor(t);

            const o = n[0];

            if (i !== o && !v_(i, o)) {
              this.fire("change:top", {
                oldDescriptor: i,
                newDescriptor: o,
                writer: e
              });
            }
          }

          _insertDescriptor(t) {
            const e = this._stack;
            const n = e.findIndex(e => e.id === t.id);

            if (v_(t, e[n])) {
              return;
            }

            if (n > -1) {
              e.splice(n, 1);
            }

            let i = 0;

            while (e[i] && y_(e[i], t)) {
              i++;
            }

            e.splice(i, 0, t);
          }

          _removeDescriptor(t) {
            const e = this._stack;
            const n = e.findIndex(e => e.id === t);

            if (n > -1) {
              e.splice(n, 1);
            }
          }

        }

        vr(k_, dr);

        function v_(t, e) {
          return t && e && t.priority == e.priority && x_(t.classes) == x_(e.classes);
        }

        function y_(t, e) {
          if (t.priority > e.priority) {
            return true;
          } else if (t.priority < e.priority) {
            return false;
          }

          return x_(t.classes) > x_(e.classes);
        }

        function x_(t) {
          return Array.isArray(t) ? t.sort().join(",") : t;
        }

        var A_ = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 01.5 0H4zm8 0h3.5a.5.5 0 01.5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 01-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 01-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';
        const T_ = "ck-widget";
        const C_ = "ck-widget_selected";

        function P_(t) {
          if (!t.is("element")) {
            return false;
          }

          return !!t.getCustomProperty("widget");
        }

        function S_(t, e, n = {}) {
          if (!Cl.isEdge) {
            e.setAttribute("contenteditable", "false", t);
          }

          e.addClass(T_, t);
          e.setCustomProperty("widget", true, t);
          t.getFillerOffset = D_;

          if (n.label) {
            E_(t, n.label, e);
          }

          if (n.hasSelectionHandle) {
            L_(t, e);
          }

          M_(t, e, (t, e, n) => n.addClass(i(e.classes), t), (t, e, n) => n.removeClass(i(e.classes), t));
          return t;

          function i(t) {
            return Array.isArray(t) ? t : [t];
          }
        }

        function M_(t, e, n, i) {
          const o = new k_();
          o.on("change:top", (e, o) => {
            if (o.oldDescriptor) {
              i(t, o.oldDescriptor, o.writer);
            }

            if (o.newDescriptor) {
              n(t, o.newDescriptor, o.writer);
            }
          });
          e.setCustomProperty("addHighlight", (t, e, n) => o.add(e, n), t);
          e.setCustomProperty("removeHighlight", (t, e, n) => o.remove(e, n), t);
        }

        function E_(t, e, n) {
          n.setCustomProperty("widgetLabel", e, t);
        }

        function I_(t) {
          const e = t.getCustomProperty("widgetLabel");

          if (!e) {
            return "";
          }

          return typeof e == "function" ? e() : e;
        }

        function N_(t, e) {
          e.addClass(["ck-editor__editable", "ck-editor__nested-editable"], t);

          if (!Cl.isEdge) {
            e.setAttribute("contenteditable", t.isReadOnly ? "false" : "true", t);
            t.on("change:isReadOnly", (n, i, o) => {
              e.setAttribute("contenteditable", o ? "false" : "true", t);
            });
          }

          t.on("change:isFocused", (n, i, o) => {
            if (o) {
              e.addClass("ck-editor__nested-editable_focused", t);
            } else {
              e.removeClass("ck-editor__nested-editable_focused", t);
            }
          });
          return t;
        }

        function O_(t, e) {
          const n = t.getSelectedElement();

          if (n && e.schema.isBlock(n)) {
            return e.createPositionAfter(n);
          }

          const i = t.getSelectedBlocks().next().value;

          if (i) {
            if (i.isEmpty) {
              return e.createPositionAt(i, 0);
            }

            const n = e.createPositionAfter(i);

            if (t.focus.isTouching(n)) {
              return n;
            }

            return e.createPositionBefore(i);
          }

          return t.focus;
        }

        function R_(t, e) {
          return (n, i) => {
            const o = i.mapper,
                  s = i.viewPosition;
            const r = o.findMappedViewAncestor(s);

            if (!e(r)) {
              return;
            }

            const a = o.toModelElement(r);
            i.modelPosition = t.createPositionAt(a, s.isAtStart ? "before" : "after");
          };
        }

        function D_() {
          return null;
        }

        function L_(t, e) {
          const n = e.createUIElement("div", {
            class: "ck ck-widget__selection-handle"
          }, function (t) {
            const e = this.toDomElement(t);
            const n = new Qb();
            n.set("content", A_);
            n.render();
            e.appendChild(n.element);
            return e;
          });
          e.insert(e.createPositionAt(t, 0), n);
          e.addClass(["ck-widget_with-selection-handle"], t);
        }

        function z_(t, e, n) {
          e.setCustomProperty("image", true, t);
          return S_(t, e, {
            label: i
          });

          function i() {
            const e = t.getChild(0);
            const i = e.getAttribute("alt");
            return i ? "".concat(i, " ").concat(n) : n;
          }
        }

        function j_(t) {
          return !!t.getCustomProperty("image") && P_(t);
        }

        function V_(t) {
          const e = t.getSelectedElement();

          if (e && j_(e)) {
            return e;
          }

          return null;
        }

        function B_(t) {
          return !!t && t.is("image");
        }

        function F_(t, e, n = {}) {
          const i = t.createElement("image", n);
          const o = O_(e.document.selection, e);
          e.insertContent(i, o);

          if (i.parent) {
            t.setSelection(i, "on");
          }
        }

        function H_(t) {
          const e = t.schema;
          const n = t.document.selection;
          return U_(n, e, t) && !W_(n, e) && q_(n);
        }

        function U_(t, e, n) {
          const i = $_(t, n);
          return e.checkChild(i, "image");
        }

        function W_(t, e) {
          const n = t.getSelectedElement();
          return n && e.isObject(n);
        }

        function q_(t) {
          return [...t.focus.getAncestors()].every(t => !t.is("image"));
        }

        function $_(t, e) {
          const n = O_(t, e);
          const i = n.parent;

          if (i.isEmpty && !i.is("$root")) {
            return i.parent;
          }

          return i;
        }

        class Y_ extends zw {
          refresh() {
            this.isEnabled = H_(this.editor.model);
          }

          execute(t) {
            const e = this.editor.model;
            e.change(n => {
              const i = Array.isArray(t.source) ? t.source : [t.source];
              var _iteratorNormalCompletion281 = true;
              var _didIteratorError281 = false;
              var _iteratorError281 = undefined;

              try {
                for (var _iterator281 = i[Symbol.iterator](), _step281; !(_iteratorNormalCompletion281 = (_step281 = _iterator281.next()).done); _iteratorNormalCompletion281 = true) {
                  const t = _step281.value;
                  F_(n, e, {
                    src: t
                  });
                }
              } catch (err) {
                _didIteratorError281 = true;
                _iteratorError281 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion281 && _iterator281.return != null) {
                    _iterator281.return();
                  }
                } finally {
                  if (_didIteratorError281) {
                    throw _iteratorError281;
                  }
                }
              }
            });
          }

        }

        class G_ extends Ow {
          static get pluginName() {
            return "ImageEditing";
          }

          init() {
            const t = this.editor;
            const e = t.model.schema;
            const n = t.t;
            const i = t.conversion;
            t.editing.view.addObserver(p_);
            e.register("image", {
              isObject: true,
              isBlock: true,
              allowWhere: "$block",
              allowAttributes: ["alt", "src", "srcset"]
            });
            i.for("dataDowncast").elementToElement({
              model: "image",
              view: (t, e) => Q_(e)
            });
            i.for("editingDowncast").elementToElement({
              model: "image",
              view: (t, e) => z_(Q_(e), e, n("ar"))
            });
            i.for("downcast").add(__("src")).add(__("alt")).add(w_());
            i.for("upcast").elementToElement({
              view: {
                name: "img",
                attributes: {
                  src: true
                }
              },
              model: (t, e) => e.createElement("image", {
                src: t.getAttribute("src")
              })
            }).attributeToAttribute({
              view: {
                name: "img",
                key: "alt"
              },
              model: "alt"
            }).attributeToAttribute({
              view: {
                name: "img",
                key: "srcset"
              },
              model: {
                key: "srcset",
                value: t => {
                  const e = {
                    data: t.getAttribute("srcset")
                  };

                  if (t.hasAttribute("width")) {
                    e.width = t.getAttribute("width");
                  }

                  return e;
                }
              }
            }).add(b_());
            t.commands.add("imageInsert", new Y_(t));
          }

        }

        function Q_(t) {
          const e = t.createEmptyElement("img");
          const n = t.createContainerElement("figure", {
            class: "image"
          });
          t.insert(t.createPositionAt(n, 0), e);
          return n;
        }

        class K_ extends Ku {
          constructor(t) {
            super(t);
            this.domEventType = "mousedown";
          }

          onDomEvent(t) {
            this.fire(t.type, t);
          }

        }

        var J_ = n(46);
        const Z_ = zl("Ctrl+A");

        class X_ extends Ow {
          static get pluginName() {
            return "Widget";
          }

          init() {
            const t = this.editor.editing.view;
            const e = t.document;
            this._previouslySelected = new Set();
            this.editor.editing.downcastDispatcher.on("selection", (t, e, n) => {
              this._clearPreviouslySelectedWidgets(n.writer);

              const i = n.writer;
              const o = i.document.selection;
              const s = o.getSelectedElement();
              let r = null;
              var _iteratorNormalCompletion282 = true;
              var _didIteratorError282 = false;
              var _iteratorError282 = undefined;

              try {
                for (var _iterator282 = o.getRanges()[Symbol.iterator](), _step282; !(_iteratorNormalCompletion282 = (_step282 = _iterator282.next()).done); _iteratorNormalCompletion282 = true) {
                  const t = _step282.value;
                  var _iteratorNormalCompletion283 = true;
                  var _didIteratorError283 = false;
                  var _iteratorError283 = undefined;

                  try {
                    for (var _iterator283 = t[Symbol.iterator](), _step283; !(_iteratorNormalCompletion283 = (_step283 = _iterator283.next()).done); _iteratorNormalCompletion283 = true) {
                      const e = _step283.value;
                      const t = e.item;

                      if (P_(t) && !ik(t, r)) {
                        i.addClass(C_, t);

                        this._previouslySelected.add(t);

                        r = t;

                        if (t == s) {
                          i.setSelection(o.getRanges(), {
                            fake: true,
                            label: I_(s)
                          });
                        }
                      }
                    }
                  } catch (err) {
                    _didIteratorError283 = true;
                    _iteratorError283 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion283 && _iterator283.return != null) {
                        _iterator283.return();
                      }
                    } finally {
                      if (_didIteratorError283) {
                        throw _iteratorError283;
                      }
                    }
                  }
                }
              } catch (err) {
                _didIteratorError282 = true;
                _iteratorError282 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion282 && _iterator282.return != null) {
                    _iterator282.return();
                  }
                } finally {
                  if (_didIteratorError282) {
                    throw _iteratorError282;
                  }
                }
              }
            }, {
              priority: "low"
            });
            t.addObserver(K_);
            this.listenTo(e, "mousedown", (...t) => this._onMousedown(...t));
            this.listenTo(e, "keydown", (...t) => this._onKeydown(...t), {
              priority: "high"
            });
            this.listenTo(e, "delete", (t, e) => {
              if (this._handleDelete(e.direction == "forward")) {
                e.preventDefault();
                t.stop();
              }
            }, {
              priority: "high"
            });
          }

          _onMousedown(t, e) {
            const n = this.editor;
            const i = n.editing.view;
            const o = i.document;
            let s = e.target;

            if (nk(s)) {
              if (Cl.isSafari && e.domEvent.detail >= 3) {
                const t = n.editing.mapper;
                const i = t.toModelElement(s);
                this.editor.model.change(t => {
                  e.preventDefault();
                  t.setSelection(i, "in");
                });
              }

              return;
            }

            if (!P_(s)) {
              s = s.findAncestor(P_);

              if (!s) {
                return;
              }
            }

            e.preventDefault();

            if (!o.isFocused) {
              i.focus();
            }

            const r = n.editing.mapper.toModelElement(s);

            this._setSelectionOverElement(r);
          }

          _onKeydown(t, e) {
            const n = e.keyCode;
            const i = this.editor.locale.contentLanguageDirection === "ltr";
            const o = n == Dl.arrowdown || n == Dl[i ? "arrowright" : "arrowleft"];
            let s = false;

            if (tk(n)) {
              s = this._handleArrowKeys(o);
            } else if (ek(e)) {
              s = this._selectAllNestedEditableContent() || this._selectAllContent();
            } else if (n === Dl.enter) {
              s = this._handleEnterKey(e.shiftKey);
            }

            if (s) {
              e.preventDefault();
              t.stop();
            }
          }

          _handleDelete(t) {
            if (this.editor.isReadOnly) {
              return;
            }

            const e = this.editor.model.document;
            const n = e.selection;

            if (!n.isCollapsed) {
              return;
            }

            const i = this._getObjectElementNextToSelection(t);

            if (i) {
              this.editor.model.change(t => {
                let e = n.anchor.parent;

                while (e.isEmpty) {
                  const n = e;
                  e = n.parent;
                  t.remove(n);
                }

                this._setSelectionOverElement(i);
              });
              return true;
            }
          }

          _handleArrowKeys(t) {
            const e = this.editor.model;
            const n = e.schema;
            const i = e.document;
            const o = i.selection;
            const s = o.getSelectedElement();

            if (s && n.isObject(s)) {
              const i = t ? o.getLastPosition() : o.getFirstPosition();
              const s = n.getNearestSelectionRange(i, t ? "forward" : "backward");

              if (s) {
                e.change(t => {
                  t.setSelection(s);
                });
              }

              return true;
            }

            if (!o.isCollapsed) {
              return;
            }

            const r = this._getObjectElementNextToSelection(t);

            if (!!r && n.isObject(r)) {
              this._setSelectionOverElement(r);

              return true;
            }
          }

          _handleEnterKey(t) {
            const e = this.editor.model;
            const n = e.document.selection;
            const i = n.getSelectedElement();

            if (ok(i, e.schema)) {
              e.change(n => {
                let o = n.createPositionAt(i, t ? "before" : "after");
                const s = n.createElement("paragraph");

                if (e.schema.isBlock(i.parent)) {
                  const t = e.schema.findAllowedParent(o, s);
                  o = n.split(o, t).position;
                }

                n.insert(s, o);
                n.setSelection(s, "in");
              });
              return true;
            }
          }

          _selectAllNestedEditableContent() {
            const t = this.editor.model;
            const e = t.document.selection;
            const n = t.schema.getLimitElement(e);

            if (e.getFirstRange().root == n) {
              return false;
            }

            t.change(t => {
              t.setSelection(t.createRangeIn(n));
            });
            return true;
          }

          _selectAllContent() {
            const t = this.editor.model;
            const e = this.editor.editing;
            const n = e.view;
            const i = n.document;
            const o = i.selection;
            const s = o.getSelectedElement();

            if (s && P_(s)) {
              const n = e.mapper.toModelElement(s.parent);
              t.change(t => {
                t.setSelection(t.createRangeIn(n));
              });
              return true;
            }

            return false;
          }

          _setSelectionOverElement(t) {
            this.editor.model.change(e => {
              e.setSelection(e.createRangeOn(t));
            });
          }

          _getObjectElementNextToSelection(t) {
            const e = this.editor.model;
            const n = e.schema;
            const i = e.document.selection;
            const o = e.createSelection(i);
            e.modifySelection(o, {
              direction: t ? "forward" : "backward"
            });
            const s = t ? o.focus.nodeBefore : o.focus.nodeAfter;

            if (!!s && n.isObject(s)) {
              return s;
            }

            return null;
          }

          _clearPreviouslySelectedWidgets(t) {
            var _iteratorNormalCompletion284 = true;
            var _didIteratorError284 = false;
            var _iteratorError284 = undefined;

            try {
              for (var _iterator284 = this._previouslySelected[Symbol.iterator](), _step284; !(_iteratorNormalCompletion284 = (_step284 = _iterator284.next()).done); _iteratorNormalCompletion284 = true) {
                const e = _step284.value;
                t.removeClass(C_, e);
              }
            } catch (err) {
              _didIteratorError284 = true;
              _iteratorError284 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion284 && _iterator284.return != null) {
                  _iterator284.return();
                }
              } finally {
                if (_didIteratorError284) {
                  throw _iteratorError284;
                }
              }
            }

            this._previouslySelected.clear();
          }

        }

        function tk(t) {
          return t == Dl.arrowright || t == Dl.arrowleft || t == Dl.arrowup || t == Dl.arrowdown;
        }

        function ek(t) {
          return Ll(t) == Z_;
        }

        function nk(t) {
          while (t) {
            if (t.is("editableElement") && !t.is("rootElement")) {
              return true;
            }

            if (P_(t)) {
              return false;
            }

            t = t.parent;
          }

          return false;
        }

        function ik(t, e) {
          if (!e) {
            return false;
          }

          return Array.from(t.getAncestors()).includes(e);
        }

        function ok(t, e) {
          return t && e.isObject(t) && !e.isInline(t);
        }

        class sk extends zw {
          refresh() {
            const t = this.editor.model.document.selection.getSelectedElement();
            this.isEnabled = B_(t);

            if (B_(t) && t.hasAttribute("alt")) {
              this.value = t.getAttribute("alt");
            } else {
              this.value = false;
            }
          }

          execute(t) {
            const e = this.editor.model;
            const n = e.document.selection.getSelectedElement();
            e.change(e => {
              e.setAttribute("alt", t.newValue, n);
            });
          }

        }

        class rk extends Ow {
          static get pluginName() {
            return "ImageTextAlternativeEditing";
          }

          init() {
            this.editor.commands.add("imageTextAlternative", new sk(this.editor));
          }

        }

        var ak = n(48);

        class ck extends pb {
          constructor(t, e) {
            super(t);
            const n = "ck-input-".concat(nr());
            const i = "ck-status-".concat(nr());
            this.set("label");
            this.set("value");
            this.set("isReadOnly", false);
            this.set("errorText", null);
            this.set("infoText", null);
            this.labelView = this._createLabelView(n);
            this.inputView = this._createInputView(e, n, i);
            this.statusView = this._createStatusView(i);
            this.bind("_statusText").to(this, "errorText", this, "infoText", (t, e) => t || e);
            const o = this.bindTemplate;
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-labeled-input", o.if("isReadOnly", "ck-disabled")]
              },
              children: [this.labelView, this.inputView, this.statusView]
            });
          }

          _createLabelView(t) {
            const e = new Tb(this.locale);
            e.for = t;
            e.bind("text").to(this, "label");
            return e;
          }

          _createInputView(t, e, n) {
            const i = new t(this.locale, n);
            i.id = e;
            i.ariaDescribedById = n;
            i.bind("value").to(this);
            i.bind("isReadOnly").to(this);
            i.bind("hasError").to(this, "errorText", t => !!t);
            i.on("input", () => {
              this.errorText = null;
            });
            return i;
          }

          _createStatusView(t) {
            const e = new pb(this.locale);
            const n = this.bindTemplate;
            e.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-labeled-input__status", n.if("errorText", "ck-labeled-input__status_error"), n.if("_statusText", "ck-hidden", t => !t)],
                id: t,
                role: n.if("errorText", "alert")
              },
              children: [{
                text: n.to("_statusText")
              }]
            });
            return e;
          }

          select() {
            this.inputView.select();
          }

          focus() {
            this.inputView.focus();
          }

        }

        var lk = n(50);

        class dk extends pb {
          constructor(t) {
            super(t);
            this.set("value");
            this.set("id");
            this.set("placeholder");
            this.set("isReadOnly", false);
            this.set("hasError", false);
            this.set("ariaDescribedById");
            const e = this.bindTemplate;
            this.setTemplate({
              tag: "input",
              attributes: {
                type: "text",
                class: ["ck", "ck-input", "ck-input-text", e.if("hasError", "ck-error")],
                id: e.to("id"),
                placeholder: e.to("placeholder"),
                readonly: e.to("isReadOnly"),
                "aria-invalid": e.if("hasError", true),
                "aria-describedby": e.to("ariaDescribedById")
              },
              on: {
                input: e.to("input")
              }
            });
          }

          render() {
            super.render();

            const t = t => {
              this.element.value = !t && t !== 0 ? "" : t;
            };

            t(this.value);
            this.on("change:value", (e, n, i) => {
              t(i);
            });
          }

          select() {
            this.element.select();
          }

          focus() {
            this.element.focus();
          }

        }

        function uk({
          view: t
        }) {
          t.listenTo(t.element, "submit", (e, n) => {
            n.preventDefault();
            t.fire("submit");
          }, {
            useCapture: true
          });
        }

        var hk = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 01-.744-.292l-4.596-4.596a1 1 0 111.414-1.414l3.926 3.926 9.937-9.937a1 1 0 011.414 1.415L7.717 16.323a.997.997 0 01-.745.292z"/></svg>';
        var fk = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 01-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 01-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 015.934 4.52l4.243 4.243 4.242-4.243a1 1 0 111.415 1.414l-4.243 4.243z"/></svg>';
        var mk = n(52);

        class gk extends pb {
          constructor(t) {
            super(t);
            const e = this.locale.t;
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this.labeledInput = this._createLabeledInputView();
            this.saveButtonView = this._createButton(e("bx"), hk, "ck-button-save");
            this.saveButtonView.type = "submit";
            this.cancelButtonView = this._createButton(e("by"), fk, "ck-button-cancel", "cancel");
            this._focusables = new Bp();
            this._focusCycler = new Ob({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {
                focusPrevious: "shift + tab",
                focusNext: "tab"
              }
            });
            this.setTemplate({
              tag: "form",
              attributes: {
                class: ["ck", "ck-text-alternative-form"],
                tabindex: "-1"
              },
              children: [this.labeledInput, this.saveButtonView, this.cancelButtonView]
            });
          }

          render() {
            super.render();
            this.keystrokes.listenTo(this.element);
            uk({
              view: this
            });
            [this.labeledInput, this.saveButtonView, this.cancelButtonView].forEach(t => {
              this._focusables.add(t);

              this.focusTracker.add(t.element);
            });
          }

          _createButton(t, e, n, i) {
            const o = new Xb(this.locale);
            o.set({
              label: t,
              icon: e,
              tooltip: true
            });
            o.extendTemplate({
              attributes: {
                class: n
              }
            });

            if (i) {
              o.delegate("execute").to(this, i);
            }

            return o;
          }

          _createLabeledInputView() {
            const t = this.locale.t;
            const e = new ck(this.locale, dk);
            e.label = t("bz");
            e.inputView.placeholder = t("bz");
            return e;
          }

        }

        var pk = n(54);
        const bk = Mb("px");
        const wk = Od.document.body;

        class _k extends pb {
          constructor(t) {
            super(t);
            const e = this.bindTemplate;
            this.set("top", 0);
            this.set("left", 0);
            this.set("position", "arrow_nw");
            this.set("isVisible", false);
            this.set("withArrow", true);
            this.set("class");
            this.content = this.createCollection();
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-balloon-panel", e.to("position", t => "ck-balloon-panel_".concat(t)), e.if("isVisible", "ck-balloon-panel_visible"), e.if("withArrow", "ck-balloon-panel_with-arrow"), e.to("class")],
                style: {
                  top: e.to("top", bk),
                  left: e.to("left", bk)
                }
              },
              children: this.content
            });
          }

          show() {
            this.isVisible = true;
          }

          hide() {
            this.isVisible = false;
          }

          attachTo(t) {
            this.show();
            const e = _k.defaultPositions;
            const n = Object.assign({}, {
              element: this.element,
              positions: [e.southArrowNorth, e.southArrowNorthWest, e.southArrowNorthEast, e.northArrowSouth, e.northArrowSouthWest, e.northArrowSouthEast],
              limiter: wk,
              fitInViewport: true
            }, t);

            const i = _k._getOptimalPosition(n);

            const o = parseInt(i.left);
            const s = parseInt(i.top);
            const r = i.name;
            Object.assign(this, {
              top: s,
              left: o,
              position: r
            });
          }

          pin(t) {
            this.unpin();

            this._pinWhenIsVisibleCallback = () => {
              if (this.isVisible) {
                this._startPinning(t);
              } else {
                this._stopPinning();
              }
            };

            this._startPinning(t);

            this.listenTo(this, "change:isVisible", this._pinWhenIsVisibleCallback);
          }

          unpin() {
            if (this._pinWhenIsVisibleCallback) {
              this._stopPinning();

              this.stopListening(this, "change:isVisible", this._pinWhenIsVisibleCallback);
              this._pinWhenIsVisibleCallback = null;
              this.hide();
            }
          }

          _startPinning(t) {
            this.attachTo(t);
            const e = kk(t.target);
            const n = t.limiter ? kk(t.limiter) : wk;
            this.listenTo(Od.document, "scroll", (i, o) => {
              const s = o.target;
              const r = e && s.contains(e);
              const a = n && s.contains(n);

              if (r || a || !e || !n) {
                this.attachTo(t);
              }
            }, {
              useCapture: true
            });
            this.listenTo(Od.window, "resize", () => {
              this.attachTo(t);
            });
          }

          _stopPinning() {
            this.stopListening(Od.document, "scroll");
            this.stopListening(Od.window, "resize");
          }

        }

        function kk(t) {
          if (Gs(t)) {
            return t;
          }

          if (_h(t)) {
            return t.commonAncestorContainer;
          }

          if (typeof t == "function") {
            return kk(t());
          }

          return null;
        }

        _k.arrowHorizontalOffset = 25;
        _k.arrowVerticalOffset = 10;
        _k._getOptimalPosition = Ub;
        _k.defaultPositions = {
          northArrowSouth: (t, e) => ({
            top: vk(t, e),
            left: t.left + t.width / 2 - e.width / 2,
            name: "arrow_s"
          }),
          northArrowSouthEast: (t, e) => ({
            top: vk(t, e),
            left: t.left + t.width / 2 - e.width + _k.arrowHorizontalOffset,
            name: "arrow_se"
          }),
          northArrowSouthWest: (t, e) => ({
            top: vk(t, e),
            left: t.left + t.width / 2 - _k.arrowHorizontalOffset,
            name: "arrow_sw"
          }),
          northWestArrowSouth: (t, e) => ({
            top: vk(t, e),
            left: t.left - e.width / 2,
            name: "arrow_s"
          }),
          northWestArrowSouthWest: (t, e) => ({
            top: vk(t, e),
            left: t.left - _k.arrowHorizontalOffset,
            name: "arrow_sw"
          }),
          northWestArrowSouthEast: (t, e) => ({
            top: vk(t, e),
            left: t.left - e.width + _k.arrowHorizontalOffset,
            name: "arrow_se"
          }),
          northEastArrowSouth: (t, e) => ({
            top: vk(t, e),
            left: t.right - e.width / 2,
            name: "arrow_s"
          }),
          northEastArrowSouthEast: (t, e) => ({
            top: vk(t, e),
            left: t.right - e.width + _k.arrowHorizontalOffset,
            name: "arrow_se"
          }),
          northEastArrowSouthWest: (t, e) => ({
            top: vk(t, e),
            left: t.right - _k.arrowHorizontalOffset,
            name: "arrow_sw"
          }),
          southArrowNorth: (t, e) => ({
            top: yk(t, e),
            left: t.left + t.width / 2 - e.width / 2,
            name: "arrow_n"
          }),
          southArrowNorthEast: (t, e) => ({
            top: yk(t, e),
            left: t.left + t.width / 2 - e.width + _k.arrowHorizontalOffset,
            name: "arrow_ne"
          }),
          southArrowNorthWest: (t, e) => ({
            top: yk(t, e),
            left: t.left + t.width / 2 - _k.arrowHorizontalOffset,
            name: "arrow_nw"
          }),
          southWestArrowNorth: (t, e) => ({
            top: yk(t, e),
            left: t.left - e.width / 2,
            name: "arrow_n"
          }),
          southWestArrowNorthWest: (t, e) => ({
            top: yk(t, e),
            left: t.left - _k.arrowHorizontalOffset,
            name: "arrow_nw"
          }),
          southWestArrowNorthEast: (t, e) => ({
            top: yk(t, e),
            left: t.left - e.width + _k.arrowHorizontalOffset,
            name: "arrow_ne"
          }),
          southEastArrowNorth: (t, e) => ({
            top: yk(t, e),
            left: t.right - e.width / 2,
            name: "arrow_n"
          }),
          southEastArrowNorthEast: (t, e) => ({
            top: yk(t, e),
            left: t.right - e.width + _k.arrowHorizontalOffset,
            name: "arrow_ne"
          }),
          southEastArrowNorthWest: (t, e) => ({
            top: yk(t, e),
            left: t.right - _k.arrowHorizontalOffset,
            name: "arrow_nw"
          })
        };

        function vk(t, e) {
          return t.top - e.height - _k.arrowVerticalOffset;
        }

        function yk(t) {
          return t.bottom + _k.arrowVerticalOffset;
        }

        var xk = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 111.254 1.255L9.16 10l3.557 3.557a.888.888 0 11-1.254 1.255L7.26 10.61a.888.888 0 01.16-1.382l4.043-4.042z"/></svg>';
        var Ak = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 11-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 111.254-1.255L12.74 9.39a.888.888 0 01-.16 1.382l-4.043 4.042z"/></svg>';
        var Tk = n(56);
        var Ck = n(58);
        const Pk = Mb("px");

        class Sk extends Ow {
          static get pluginName() {
            return "ContextualBalloon";
          }

          constructor(t) {
            super(t);

            this.positionLimiter = () => {
              const t = this.editor.editing.view;
              const e = t.document;
              const n = e.selection.editableElement;

              if (n) {
                return t.domConverter.mapViewToDom(n.root);
              }

              return null;
            };

            this.set("visibleView", null);
            this.view = new _k(t.locale);
            t.ui.view.body.add(this.view);
            t.ui.focusTracker.add(this.view.element);
            this._viewToStack = new Map();
            this._idToStack = new Map();
            this.set("_numberOfStacks", 0);
            this.set("_singleViewMode", false);
            this._rotatorView = this._createRotatorView();
            this._fakePanelsView = this._createFakePanelsView();
          }

          hasView(t) {
            return Array.from(this._viewToStack.keys()).includes(t);
          }

          add(t) {
            if (this.hasView(t.view)) {
              throw new rr["b"]("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.", [this, t]);
            }

            const e = t.stackId || "main";

            if (!this._idToStack.has(e)) {
              this._idToStack.set(e, new Map([[t.view, t]]));

              this._viewToStack.set(t.view, this._idToStack.get(e));

              this._numberOfStacks = this._idToStack.size;

              if (!this._visibleStack || t.singleViewMode) {
                this.showStack(e);
              }

              return;
            }

            const n = this._idToStack.get(e);

            if (t.singleViewMode) {
              this.showStack(e);
            }

            n.set(t.view, t);

            this._viewToStack.set(t.view, n);

            if (n === this._visibleStack) {
              this._showView(t);
            }
          }

          remove(t) {
            if (!this.hasView(t)) {
              throw new rr["b"]("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.", [this, t]);
            }

            const e = this._viewToStack.get(t);

            if (this._singleViewMode && this.visibleView === t) {
              this._singleViewMode = false;
            }

            if (this.visibleView === t) {
              if (e.size === 1) {
                if (this._idToStack.size > 1) {
                  this._showNextStack();
                } else {
                  this.view.hide();
                  this.visibleView = null;

                  this._rotatorView.hideView();
                }
              } else {
                this._showView(Array.from(e.values())[e.size - 2]);
              }
            }

            if (e.size === 1) {
              this._idToStack.delete(this._getStackId(e));

              this._numberOfStacks = this._idToStack.size;
            } else {
              e.delete(t);
            }

            this._viewToStack.delete(t);
          }

          updatePosition(t) {
            if (t) {
              this._visibleStack.get(this.visibleView).position = t;
            }

            this.view.pin(this._getBalloonPosition());

            this._fakePanelsView.updatePosition();
          }

          showStack(t) {
            this.visibleStack = t;

            const e = this._idToStack.get(t);

            if (!e) {
              throw new rr["b"]("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.", this);
            }

            if (this._visibleStack === e) {
              return;
            }

            this._showView(Array.from(e.values()).pop());
          }

          get _visibleStack() {
            return this._viewToStack.get(this.visibleView);
          }

          _getStackId(t) {
            const e = Array.from(this._idToStack.entries()).find(e => e[1] === t);
            return e[0];
          }

          _showNextStack() {
            const t = Array.from(this._idToStack.values());
            let e = t.indexOf(this._visibleStack) + 1;

            if (!t[e]) {
              e = 0;
            }

            this.showStack(this._getStackId(t[e]));
          }

          _showPrevStack() {
            const t = Array.from(this._idToStack.values());
            let e = t.indexOf(this._visibleStack) - 1;

            if (!t[e]) {
              e = t.length - 1;
            }

            this.showStack(this._getStackId(t[e]));
          }

          _createRotatorView() {
            const t = new Mk(this.editor.locale);
            const e = this.editor.locale.t;
            this.view.content.add(t);
            t.bind("isNavigationVisible").to(this, "_numberOfStacks", this, "_singleViewMode", (t, e) => !e && t > 1);
            t.on("change:isNavigationVisible", () => this.updatePosition(), {
              priority: "low"
            });
            t.bind("counter").to(this, "visibleView", this, "_numberOfStacks", (t, n) => {
              if (n < 2) {
                return "";
              }

              const i = Array.from(this._idToStack.values()).indexOf(this._visibleStack) + 1;
              return e("bu", [i, n]);
            });
            t.buttonNextView.on("execute", () => {
              if (t.focusTracker.isFocused) {
                this.editor.editing.view.focus();
              }

              this._showNextStack();
            });
            t.buttonPrevView.on("execute", () => {
              if (t.focusTracker.isFocused) {
                this.editor.editing.view.focus();
              }

              this._showPrevStack();
            });
            return t;
          }

          _createFakePanelsView() {
            const t = new Ek(this.editor.locale, this.view);
            t.bind("numberOfPanels").to(this, "_numberOfStacks", this, "_singleViewMode", (t, e) => {
              const n = !e && t >= 2;
              return n ? Math.min(t - 1, 2) : 0;
            });
            t.listenTo(this.view, "change:top", () => t.updatePosition());
            t.listenTo(this.view, "change:left", () => t.updatePosition());
            this.editor.ui.view.body.add(t);
            return t;
          }

          _showView({
            view: t,
            balloonClassName: e = "",
            withArrow: n = true,
            singleViewMode: i = false
          }) {
            this.view.class = e;
            this.view.withArrow = n;

            this._rotatorView.showView(t);

            this.visibleView = t;
            this.view.pin(this._getBalloonPosition());

            this._fakePanelsView.updatePosition();

            if (i) {
              this._singleViewMode = true;
            }
          }

          _getBalloonPosition() {
            let t = Array.from(this._visibleStack.values()).pop().position;

            if (t && !t.limiter) {
              t = Object.assign({}, t, {
                limiter: this.positionLimiter
              });
            }

            return t;
          }

        }

        class Mk extends pb {
          constructor(t) {
            super(t);
            const e = t.t;
            const n = this.bindTemplate;
            this.set("isNavigationVisible", true);
            this.focusTracker = new Ap();
            this.buttonPrevView = this._createButtonView(e("bv"), xk);
            this.buttonNextView = this._createButtonView(e("bw"), Ak);
            this.content = this.createCollection();
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-balloon-rotator"],
                "z-index": "-1"
              },
              children: [{
                tag: "div",
                attributes: {
                  class: ["ck-balloon-rotator__navigation", n.to("isNavigationVisible", t => t ? "" : "ck-hidden")]
                },
                children: [this.buttonPrevView, {
                  tag: "span",
                  attributes: {
                    class: ["ck-balloon-rotator__counter"]
                  },
                  children: [{
                    text: n.to("counter")
                  }]
                }, this.buttonNextView]
              }, {
                tag: "div",
                attributes: {
                  class: "ck-balloon-rotator__content"
                },
                children: this.content
              }]
            });
          }

          render() {
            super.render();
            this.focusTracker.add(this.element);
          }

          showView(t) {
            this.hideView();
            this.content.add(t);
          }

          hideView() {
            this.content.clear();
          }

          _createButtonView(t, e) {
            const n = new Xb(this.locale);
            n.set({
              label: t,
              icon: e,
              tooltip: true
            });
            return n;
          }

        }

        class Ek extends pb {
          constructor(t, e) {
            super(t);
            const n = this.bindTemplate;
            this.set("top", 0);
            this.set("left", 0);
            this.set("height", 0);
            this.set("width", 0);
            this.set("numberOfPanels", 0);
            this.content = this.createCollection();
            this._balloonPanelView = e;
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck-fake-panel", n.to("numberOfPanels", t => t ? "" : "ck-hidden")],
                style: {
                  top: n.to("top", Pk),
                  left: n.to("left", Pk),
                  width: n.to("width", Pk),
                  height: n.to("height", Pk)
                }
              },
              children: this.content
            });
            this.on("change:numberOfPanels", (t, e, n, i) => {
              if (n > i) {
                this._addPanels(n - i);
              } else {
                this._removePanels(i - n);
              }

              this.updatePosition();
            });
          }

          _addPanels(t) {
            while (t--) {
              const t = new pb();
              t.setTemplate({
                tag: "div"
              });
              this.content.add(t);
              this.registerChild(t);
            }
          }

          _removePanels(t) {
            while (t--) {
              const t = this.content.last;
              this.content.remove(t);
              this.deregisterChild(t);
              t.destroy();
            }
          }

          updatePosition() {
            if (this.numberOfPanels) {
              const _this$_balloonPanelVi = this._balloonPanelView,
                    t = _this$_balloonPanelVi.top,
                    e = _this$_balloonPanelVi.left;

              const _ref6 = new yh(this._balloonPanelView.element),
                    n = _ref6.width,
                    i = _ref6.height;

              Object.assign(this, {
                top: t,
                left: e,
                width: n,
                height: i
              });
            }
          }

        }

        var Ik = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 111.06-1.06l2.592 2.59A11.094 11.094 0 0110 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 01-.09 1.138.488.488 0 01-.15.084.75.75 0 01-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 00-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 01-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 00-.124.2c-.043.077-.08.158-.108.241a.534.534 0 00-.028.133.29.29 0 00.008.072.927.927 0 00.082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 011.108 5.992l.345.344.046-.018a9.313 9.313 0 002-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 00.036-.12.29.29 0 00.008-.072.492.492 0 00-.028-.133.999.999 0 00-.036-.096 2.165 2.165 0 00-.071-.145 2.917 2.917 0 00-.125-.2 3.592 3.592 0 00-.263-.335 5.444 5.444 0 00-.53-.523 7.955 7.955 0 00-1.054-.768 9.766 9.766 0 00-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 00-.254.097.496.496 0 00-.104.679.498.498 0 00.326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 012.017 1.513c.024.061.043.125.069.185a.494.494 0 00.45.287h.008a.496.496 0 00.35-.158.482.482 0 00.13-.335.638.638 0 00-.048-.219 3.379 3.379 0 00-.36-.723 3.438 3.438 0 00-2.791-1.543l-.028-.001h-.013z"/></svg>';

        function Nk(t) {
          const e = t.plugins.get("ContextualBalloon");

          if (V_(t.editing.view.document.selection)) {
            const n = Ok(t);
            e.updatePosition(n);
          }
        }

        function Ok(t) {
          const e = t.editing.view;
          const n = _k.defaultPositions;
          return {
            target: e.domConverter.viewToDom(e.document.selection.getSelectedElement()),
            positions: [n.northArrowSouth, n.northArrowSouthWest, n.northArrowSouthEast, n.southArrowNorth, n.southArrowNorthWest, n.southArrowNorthEast]
          };
        }

        class Rk extends Ow {
          static get requires() {
            return [Sk];
          }

          static get pluginName() {
            return "ImageTextAlternativeUI";
          }

          init() {
            this._createButton();

            this._createForm();
          }

          destroy() {
            super.destroy();

            this._form.destroy();
          }

          _createButton() {
            const t = this.editor;
            const e = t.t;
            t.ui.componentFactory.add("imageTextAlternative", n => {
              const i = t.commands.get("imageTextAlternative");
              const o = new Xb(n);
              o.set({
                label: e("bk"),
                icon: Ik,
                tooltip: true
              });
              o.bind("isEnabled").to(i, "isEnabled");
              this.listenTo(o, "execute", () => {
                this._showForm();
              });
              return o;
            });
          }

          _createForm() {
            const t = this.editor;
            const e = t.editing.view;
            const n = e.document;
            this._balloon = this.editor.plugins.get("ContextualBalloon");
            this._form = new gk(t.locale);

            this._form.render();

            this.listenTo(this._form, "submit", () => {
              t.execute("imageTextAlternative", {
                newValue: this._form.labeledInput.inputView.element.value
              });

              this._hideForm(true);
            });
            this.listenTo(this._form, "cancel", () => {
              this._hideForm(true);
            });

            this._form.keystrokes.set("Esc", (t, e) => {
              this._hideForm(true);

              e();
            });

            this.listenTo(t.ui, "update", () => {
              if (!V_(n.selection)) {
                this._hideForm(true);
              } else if (this._isVisible) {
                Nk(t);
              }
            });
            cw({
              emitter: this._form,
              activator: () => this._isVisible,
              contextElements: [this._balloon.view.element],
              callback: () => this._hideForm()
            });
          }

          _showForm() {
            if (this._isVisible) {
              return;
            }

            const t = this.editor;
            const e = t.commands.get("imageTextAlternative");
            const n = this._form.labeledInput;

            if (!this._isInBalloon) {
              this._balloon.add({
                view: this._form,
                position: Ok(t)
              });
            }

            n.value = n.inputView.element.value = e.value || "";

            this._form.labeledInput.select();
          }

          _hideForm(t) {
            if (!this._isInBalloon) {
              return;
            }

            if (this._form.focusTracker.isFocused) {
              this._form.saveButtonView.focus();
            }

            this._balloon.remove(this._form);

            if (t) {
              this.editor.editing.view.focus();
            }
          }

          get _isVisible() {
            return this._balloon.visibleView === this._form;
          }

          get _isInBalloon() {
            return this._balloon.hasView(this._form);
          }

        }

        class Dk extends Ow {
          static get requires() {
            return [rk, Rk];
          }

          static get pluginName() {
            return "ImageTextAlternative";
          }

        }

        var Lk = n(60);

        class zk extends Ow {
          static get requires() {
            return [G_, X_, Dk];
          }

          static get pluginName() {
            return "Image";
          }

        }

        function jk(t, e) {
          return n => {
            const i = n.createEditableElement("figcaption");
            n.setCustomProperty("imageCaption", true, i);
            Ep({
              view: t,
              element: i,
              text: e
            });
            return N_(i, n);
          };
        }

        function Vk(t) {
          return !!t.getCustomProperty("imageCaption");
        }

        function Bk(t) {
          var _iteratorNormalCompletion285 = true;
          var _didIteratorError285 = false;
          var _iteratorError285 = undefined;

          try {
            for (var _iterator285 = t.getChildren()[Symbol.iterator](), _step285; !(_iteratorNormalCompletion285 = (_step285 = _iterator285.next()).done); _iteratorNormalCompletion285 = true) {
              const e = _step285.value;

              if (!!e && e.is("caption")) {
                return e;
              }
            }
          } catch (err) {
            _didIteratorError285 = true;
            _iteratorError285 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion285 && _iterator285.return != null) {
                _iterator285.return();
              }
            } finally {
              if (_didIteratorError285) {
                throw _iteratorError285;
              }
            }
          }

          return null;
        }

        function Fk(t) {
          const e = t.parent;

          if (t.name == "figcaption" && e && e.name == "figure" && e.hasClass("image")) {
            return {
              name: true
            };
          }

          return null;
        }

        class Hk extends Ow {
          static get pluginName() {
            return "ImageCaptionEditing";
          }

          init() {
            const t = this.editor;
            const e = t.editing.view;
            const n = t.model.schema;
            const i = t.data;
            const o = t.editing;
            const s = t.t;
            n.register("caption", {
              allowIn: "image",
              allowContentOf: "$block",
              isLimit: true
            });
            t.model.document.registerPostFixer(t => this._insertMissingModelCaptionElement(t));
            t.conversion.for("upcast").elementToElement({
              view: Fk,
              model: "caption"
            });

            const r = t => t.createContainerElement("figcaption");

            i.downcastDispatcher.on("insert:caption", Uk(r, false));
            const a = jk(e, s("as"));
            o.downcastDispatcher.on("insert:caption", Uk(a));
            o.downcastDispatcher.on("insert", this._fixCaptionVisibility(t => t.item), {
              priority: "high"
            });
            o.downcastDispatcher.on("remove", this._fixCaptionVisibility(t => t.position.parent), {
              priority: "high"
            });
            e.document.registerPostFixer(t => this._updateCaptionVisibility(t));
          }

          _updateCaptionVisibility(t) {
            const e = this.editor.editing.mapper;
            const n = this._lastSelectedCaption;
            let i;
            const o = this.editor.model.document.selection;
            const s = o.getSelectedElement();

            if (s && s.is("image")) {
              const t = Bk(s);
              i = e.toViewElement(t);
            }

            const r = o.getFirstPosition();
            const a = qk(r.parent);

            if (a) {
              i = e.toViewElement(a);
            }

            if (i) {
              if (n) {
                if (n === i) {
                  return Yk(i, t);
                } else {
                  $k(n, t);
                  this._lastSelectedCaption = i;
                  return Yk(i, t);
                }
              } else {
                this._lastSelectedCaption = i;
                return Yk(i, t);
              }
            } else {
              if (n) {
                const e = $k(n, t);
                this._lastSelectedCaption = null;
                return e;
              } else {
                return false;
              }
            }
          }

          _fixCaptionVisibility(t) {
            return (e, n, i) => {
              const o = t(n);
              const s = qk(o);
              const r = this.editor.editing.mapper;
              const a = i.writer;

              if (s) {
                const t = r.toViewElement(s);

                if (t) {
                  if (s.childCount) {
                    a.removeClass("ck-hidden", t);
                  } else {
                    a.addClass("ck-hidden", t);
                  }
                }
              }
            };
          }

          _insertMissingModelCaptionElement(t) {
            const e = this.editor.model;
            const n = e.document.differ.getChanges();
            const i = [];
            var _iteratorNormalCompletion286 = true;
            var _didIteratorError286 = false;
            var _iteratorError286 = undefined;

            try {
              for (var _iterator286 = n[Symbol.iterator](), _step286; !(_iteratorNormalCompletion286 = (_step286 = _iterator286.next()).done); _iteratorNormalCompletion286 = true) {
                const t = _step286.value;

                if (t.type == "insert" && t.name != "$text") {
                  const n = t.position.nodeAfter;

                  if (n.is("image") && !Bk(n)) {
                    i.push(n);
                  }

                  if (!n.is("image") && n.childCount) {
                    var _iteratorNormalCompletion287 = true;
                    var _didIteratorError287 = false;
                    var _iteratorError287 = undefined;

                    try {
                      for (var _iterator287 = e.createRangeIn(n).getItems()[Symbol.iterator](), _step287; !(_iteratorNormalCompletion287 = (_step287 = _iterator287.next()).done); _iteratorNormalCompletion287 = true) {
                        const t = _step287.value;

                        if (t.is("image") && !Bk(t)) {
                          i.push(t);
                        }
                      }
                    } catch (err) {
                      _didIteratorError287 = true;
                      _iteratorError287 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion287 && _iterator287.return != null) {
                          _iterator287.return();
                        }
                      } finally {
                        if (_didIteratorError287) {
                          throw _iteratorError287;
                        }
                      }
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError286 = true;
              _iteratorError286 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion286 && _iterator286.return != null) {
                  _iterator286.return();
                }
              } finally {
                if (_didIteratorError286) {
                  throw _iteratorError286;
                }
              }
            }

            for (var _i36 = 0, _i35 = i; _i36 < _i35.length; _i36++) {
              const e = _i35[_i36];
              t.appendElement("caption", e);
            }

            return !!i.length;
          }

        }

        function Uk(t, e = true) {
          return (n, i, o) => {
            const s = i.item;

            if (!s.childCount && !e) {
              return;
            }

            if (B_(s.parent)) {
              if (!o.consumable.consume(i.item, "insert")) {
                return;
              }

              const e = o.mapper.toViewElement(i.range.start.parent);
              const n = t(o.writer);
              const r = o.writer;

              if (!s.childCount) {
                r.addClass("ck-hidden", n);
              }

              Wk(n, i.item, e, o);
            }
          };
        }

        function Wk(t, e, n, i) {
          const o = i.writer.createPositionAt(n, "end");
          i.writer.insert(o, t);
          i.mapper.bindElements(e, t);
        }

        function qk(t) {
          const e = t.getAncestors({
            includeSelf: true
          });
          const n = e.find(t => t.name == "caption");

          if (n && n.parent && n.parent.name == "image") {
            return n;
          }

          return null;
        }

        function $k(t, e) {
          if (!t.childCount && !t.hasClass("ck-hidden")) {
            e.addClass("ck-hidden", t);
            return true;
          }

          return false;
        }

        function Yk(t, e) {
          if (t.hasClass("ck-hidden")) {
            e.removeClass("ck-hidden", t);
            return true;
          }

          return false;
        }

        var Gk = n(62);

        class Qk extends Ow {
          static get requires() {
            return [Hk];
          }

          static get pluginName() {
            return "ImageCaption";
          }

        }

        class Kk extends zw {
          constructor(t, e) {
            super(t);
            this.defaultStyle = false;
            this.styles = e.reduce((t, e) => {
              t[e.name] = e;

              if (e.isDefault) {
                this.defaultStyle = e.name;
              }

              return t;
            }, {});
          }

          refresh() {
            const t = this.editor.model.document.selection.getSelectedElement();
            this.isEnabled = B_(t);

            if (!t) {
              this.value = false;
            } else if (t.hasAttribute("imageStyle")) {
              const e = t.getAttribute("imageStyle");
              this.value = this.styles[e] ? e : false;
            } else {
              this.value = this.defaultStyle;
            }
          }

          execute(t) {
            const e = t.value;
            const n = this.editor.model;
            const i = n.document.selection.getSelectedElement();
            n.change(t => {
              if (this.styles[e].isDefault) {
                t.removeAttribute("imageStyle", i);
              } else {
                t.setAttribute("imageStyle", e, i);
              }
            });
          }

        }

        function Jk(t) {
          return (e, n, i) => {
            if (!i.consumable.consume(n.item, e.name)) {
              return;
            }

            const o = Xk(n.attributeNewValue, t);
            const s = Xk(n.attributeOldValue, t);
            const r = i.mapper.toViewElement(n.item);
            const a = i.writer;

            if (s) {
              a.removeClass(s.className, r);
            }

            if (o) {
              a.addClass(o.className, r);
            }
          };
        }

        function Zk(t) {
          const e = t.filter(t => !t.isDefault);
          return (t, n, i) => {
            if (!n.modelRange) {
              return;
            }

            const o = n.viewItem;
            const s = Vw(n.modelRange.getItems());

            if (!i.schema.checkAttribute(s, "imageStyle")) {
              return;
            }

            var _iteratorNormalCompletion288 = true;
            var _didIteratorError288 = false;
            var _iteratorError288 = undefined;

            try {
              for (var _iterator288 = e[Symbol.iterator](), _step288; !(_iteratorNormalCompletion288 = (_step288 = _iterator288.next()).done); _iteratorNormalCompletion288 = true) {
                const t = _step288.value;

                if (i.consumable.consume(o, {
                  classes: t.className
                })) {
                  i.writer.setAttribute("imageStyle", t.name, s);
                }
              }
            } catch (err) {
              _didIteratorError288 = true;
              _iteratorError288 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion288 && _iterator288.return != null) {
                  _iterator288.return();
                }
              } finally {
                if (_didIteratorError288) {
                  throw _iteratorError288;
                }
              }
            }
          };
        }

        function Xk(t, e) {
          var _iteratorNormalCompletion289 = true;
          var _didIteratorError289 = false;
          var _iteratorError289 = undefined;

          try {
            for (var _iterator289 = e[Symbol.iterator](), _step289; !(_iteratorNormalCompletion289 = (_step289 = _iterator289.next()).done); _iteratorNormalCompletion289 = true) {
              const n = _step289.value;

              if (n.name === t) {
                return n;
              }
            }
          } catch (err) {
            _didIteratorError289 = true;
            _iteratorError289 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion289 && _iterator289.return != null) {
                _iterator289.return();
              }
            } finally {
              if (_didIteratorError289) {
                throw _iteratorError289;
              }
            }
          }
        }

        var tv = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>';
        var ev = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>';
        var nv = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>';
        var iv = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';
        const ov = {
          full: {
            name: "full",
            title: "Full size image",
            icon: tv,
            isDefault: true
          },
          side: {
            name: "side",
            title: "Side image",
            icon: iv,
            className: "image-style-side"
          },
          alignLeft: {
            name: "alignLeft",
            title: "Left aligned image",
            icon: ev,
            className: "image-style-align-left"
          },
          alignCenter: {
            name: "alignCenter",
            title: "Centered image",
            icon: nv,
            className: "image-style-align-center"
          },
          alignRight: {
            name: "alignRight",
            title: "Right aligned image",
            icon: iv,
            className: "image-style-align-right"
          }
        };
        const sv = {
          full: tv,
          left: ev,
          right: iv,
          center: nv
        };

        function rv(t = []) {
          return t.map(av);
        }

        function av(t) {
          if (typeof t == "string") {
            const e = t;

            if (ov[e]) {
              t = Object.assign({}, ov[e]);
            } else {
              console.warn(Object(rr["a"])("image-style-not-found: There is no such image style of given name."), {
                name: e
              });
              t = {
                name: e
              };
            }
          } else if (ov[t.name]) {
            const e = ov[t.name];
            const n = Object.assign({}, t);

            for (const i in e) {
              if (!t.hasOwnProperty(i)) {
                n[i] = e[i];
              }
            }

            t = n;
          }

          if (typeof t.icon == "string" && sv[t.icon]) {
            t.icon = sv[t.icon];
          }

          return t;
        }

        class cv extends Ow {
          static get pluginName() {
            return "ImageStyleEditing";
          }

          init() {
            const t = this.editor;
            const e = t.model.schema;
            const n = t.data;
            const i = t.editing;
            t.config.define("image.styles", ["full", "side"]);
            const o = rv(t.config.get("image.styles"));
            e.extend("image", {
              allowAttributes: "imageStyle"
            });
            const s = Jk(o);
            i.downcastDispatcher.on("attribute:imageStyle:image", s);
            n.downcastDispatcher.on("attribute:imageStyle:image", s);
            n.upcastDispatcher.on("element:figure", Zk(o), {
              priority: "low"
            });
            t.commands.add("imageStyle", new Kk(t, o));
          }

        }

        var lv = n(64);

        class dv extends Ow {
          static get pluginName() {
            return "ImageStyleUI";
          }

          get localizedDefaultStylesTitles() {
            const t = this.editor.t;
            return {
              "Full size image": t("at"),
              "Side image": t("au"),
              "Left aligned image": t("av"),
              "Centered image": t("aw"),
              "Right aligned image": t("ax")
            };
          }

          init() {
            const t = this.editor;
            const e = t.config.get("image.styles");
            const n = uv(rv(e), this.localizedDefaultStylesTitles);
            var _iteratorNormalCompletion290 = true;
            var _didIteratorError290 = false;
            var _iteratorError290 = undefined;

            try {
              for (var _iterator290 = n[Symbol.iterator](), _step290; !(_iteratorNormalCompletion290 = (_step290 = _iterator290.next()).done); _iteratorNormalCompletion290 = true) {
                const t = _step290.value;

                this._createButton(t);
              }
            } catch (err) {
              _didIteratorError290 = true;
              _iteratorError290 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion290 && _iterator290.return != null) {
                  _iterator290.return();
                }
              } finally {
                if (_didIteratorError290) {
                  throw _iteratorError290;
                }
              }
            }
          }

          _createButton(t) {
            const e = this.editor;
            const n = "imageStyle:".concat(t.name);
            e.ui.componentFactory.add(n, n => {
              const i = e.commands.get("imageStyle");
              const o = new Xb(n);
              o.set({
                label: t.title,
                icon: t.icon,
                tooltip: true,
                isToggleable: true
              });
              o.bind("isEnabled").to(i, "isEnabled");
              o.bind("isOn").to(i, "value", e => e === t.name);
              this.listenTo(o, "execute", () => {
                e.execute("imageStyle", {
                  value: t.name
                });
                e.editing.view.focus();
              });
              return o;
            });
          }

        }

        function uv(t, e) {
          var _iteratorNormalCompletion291 = true;
          var _didIteratorError291 = false;
          var _iteratorError291 = undefined;

          try {
            for (var _iterator291 = t[Symbol.iterator](), _step291; !(_iteratorNormalCompletion291 = (_step291 = _iterator291.next()).done); _iteratorNormalCompletion291 = true) {
              const n = _step291.value;

              if (e[n.title]) {
                n.title = e[n.title];
              }
            }
          } catch (err) {
            _didIteratorError291 = true;
            _iteratorError291 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion291 && _iterator291.return != null) {
                _iterator291.return();
              }
            } finally {
              if (_didIteratorError291) {
                throw _iteratorError291;
              }
            }
          }

          return t;
        }

        class hv extends Ow {
          static get requires() {
            return [cv, dv];
          }

          static get pluginName() {
            return "ImageStyle";
          }

        }

        class fv extends Ow {
          static get requires() {
            return [Sk];
          }

          static get pluginName() {
            return "WidgetToolbarRepository";
          }

          init() {
            const t = this.editor;

            if (t.plugins.has("BalloonToolbar")) {
              const e = t.plugins.get("BalloonToolbar");
              this.listenTo(e, "show", e => {
                if (pv(t.editing.view.document.selection)) {
                  e.stop();
                }
              }, {
                priority: "high"
              });
            }

            this._toolbarDefinitions = new Map();
            this._balloon = this.editor.plugins.get("ContextualBalloon");
            this.on("change:isEnabled", () => {
              this._updateToolbarsVisibility();
            });
            this.listenTo(t.ui, "update", () => {
              this._updateToolbarsVisibility();
            });
            this.listenTo(t.ui.focusTracker, "change:isFocused", () => {
              this._updateToolbarsVisibility();
            }, {
              priority: "low"
            });
          }

          destroy() {
            super.destroy();
            var _iteratorNormalCompletion292 = true;
            var _didIteratorError292 = false;
            var _iteratorError292 = undefined;

            try {
              for (var _iterator292 = this._toolbarDefinitions.values()[Symbol.iterator](), _step292; !(_iteratorNormalCompletion292 = (_step292 = _iterator292.next()).done); _iteratorNormalCompletion292 = true) {
                const t = _step292.value;
                t.view.destroy();
              }
            } catch (err) {
              _didIteratorError292 = true;
              _iteratorError292 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion292 && _iterator292.return != null) {
                  _iterator292.return();
                }
              } finally {
                if (_didIteratorError292) {
                  throw _iteratorError292;
                }
              }
            }
          }

          register(t, {
            ariaLabel: e,
            items: n,
            getRelatedElement: i,
            balloonClassName: o = "ck-toolbar-container"
          }) {
            const s = this.editor;
            const r = s.t;
            const a = new kw(s.locale);
            a.ariaLabel = e || r("bi");

            if (this._toolbarDefinitions.has(t)) {
              throw new rr["b"]("widget-toolbar-duplicated: Toolbar with the given id was already added.", this, {
                toolbarId: t
              });
            }

            a.fillFromConfig(n, s.ui.componentFactory);

            this._toolbarDefinitions.set(t, {
              view: a,
              getRelatedElement: i,
              balloonClassName: o
            });
          }

          _updateToolbarsVisibility() {
            let t = 0;
            let e = null;
            let n = null;
            var _iteratorNormalCompletion293 = true;
            var _didIteratorError293 = false;
            var _iteratorError293 = undefined;

            try {
              for (var _iterator293 = this._toolbarDefinitions.values()[Symbol.iterator](), _step293; !(_iteratorNormalCompletion293 = (_step293 = _iterator293.next()).done); _iteratorNormalCompletion293 = true) {
                const i = _step293.value;
                const o = i.getRelatedElement(this.editor.editing.view.document.selection);

                if (!this.isEnabled || !o) {
                  if (this._isToolbarInBalloon(i)) {
                    this._hideToolbar(i);
                  }
                } else if (!this.editor.ui.focusTracker.isFocused) {
                  if (this._isToolbarVisible(i)) {
                    this._hideToolbar(i);
                  }
                } else {
                  const s = o.getAncestors().length;

                  if (s > t) {
                    t = s;
                    e = o;
                    n = i;
                  }
                }
              }
            } catch (err) {
              _didIteratorError293 = true;
              _iteratorError293 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion293 && _iterator293.return != null) {
                  _iterator293.return();
                }
              } finally {
                if (_didIteratorError293) {
                  throw _iteratorError293;
                }
              }
            }

            if (n) {
              this._showToolbar(n, e);
            }
          }

          _hideToolbar(t) {
            this._balloon.remove(t.view);

            this.stopListening(this._balloon, "change:visibleView");
          }

          _showToolbar(t, e) {
            if (this._isToolbarVisible(t)) {
              mv(this.editor, e);
            } else if (!this._isToolbarInBalloon(t)) {
              this._balloon.add({
                view: t.view,
                position: gv(this.editor, e),
                balloonClassName: t.balloonClassName
              });

              this.listenTo(this._balloon, "change:visibleView", () => {
                var _iteratorNormalCompletion294 = true;
                var _didIteratorError294 = false;
                var _iteratorError294 = undefined;

                try {
                  for (var _iterator294 = this._toolbarDefinitions.values()[Symbol.iterator](), _step294; !(_iteratorNormalCompletion294 = (_step294 = _iterator294.next()).done); _iteratorNormalCompletion294 = true) {
                    const t = _step294.value;

                    if (this._isToolbarVisible(t)) {
                      const e = t.getRelatedElement(this.editor.editing.view.document.selection);
                      mv(this.editor, e);
                    }
                  }
                } catch (err) {
                  _didIteratorError294 = true;
                  _iteratorError294 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion294 && _iterator294.return != null) {
                      _iterator294.return();
                    }
                  } finally {
                    if (_didIteratorError294) {
                      throw _iteratorError294;
                    }
                  }
                }
              });
            }
          }

          _isToolbarVisible(t) {
            return this._balloon.visibleView === t.view;
          }

          _isToolbarInBalloon(t) {
            return this._balloon.hasView(t.view);
          }

        }

        function mv(t, e) {
          const n = t.plugins.get("ContextualBalloon");
          const i = gv(t, e);
          n.updatePosition(i);
        }

        function gv(t, e) {
          const n = t.editing.view;
          const i = _k.defaultPositions;
          return {
            target: n.domConverter.mapViewToDom(e),
            positions: [i.northArrowSouth, i.northArrowSouthWest, i.northArrowSouthEast, i.southArrowNorth, i.southArrowNorthWest, i.southArrowNorthEast]
          };
        }

        function pv(t) {
          const e = t.getSelectedElement();
          return !!(e && P_(e));
        }

        class bv extends Ow {
          static get requires() {
            return [fv];
          }

          static get pluginName() {
            return "ImageToolbar";
          }

          afterInit() {
            const t = this.editor;
            const e = t.t;
            const n = t.plugins.get(fv);
            n.register("image", {
              ariaLabel: e("a"),
              items: t.config.get("image.toolbar") || [],
              getRelatedElement: V_
            });
          }

        }

        class wv extends pb {
          constructor(t) {
            super(t);
            this.buttonView = new Xb(t);
            this._fileInputView = new _v(t);

            this._fileInputView.bind("acceptedType").to(this);

            this._fileInputView.bind("allowMultipleFiles").to(this);

            this._fileInputView.delegate("done").to(this);

            this.setTemplate({
              tag: "span",
              attributes: {
                class: "ck-file-dialog-button"
              },
              children: [this.buttonView, this._fileInputView]
            });
            this.buttonView.on("execute", () => {
              this._fileInputView.open();
            });
          }

          focus() {
            this.buttonView.focus();
          }

        }

        class _v extends pb {
          constructor(t) {
            super(t);
            this.set("acceptedType");
            this.set("allowMultipleFiles", false);
            const e = this.bindTemplate;
            this.setTemplate({
              tag: "input",
              attributes: {
                class: ["ck-hidden"],
                type: "file",
                tabindex: "-1",
                accept: e.to("acceptedType"),
                multiple: e.to("allowMultipleFiles")
              },
              on: {
                change: e.to(() => {
                  if (this.element && this.element.files && this.element.files.length) {
                    this.fire("done", this.element.files);
                  }

                  this.element.value = "";
                })
              }
            });
          }

          open() {
            this.element.click();
          }

        }

        var kv = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 01.87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 113.4-1.96 1.96 1.96 0 01-3.4 1.96z"/></svg>';

        function vv(t) {
          const e = t.map(t => t.replace("+", "\\+"));
          return new RegExp("^image\\/(".concat(e.join("|"), ")$"));
        }

        function yv(t) {
          return new Promise((e, n) => {
            const i = t.getAttribute("src");
            fetch(i).then(t => t.blob()).then(t => {
              const o = Av(t, i);
              const s = o.replace("image/", "");
              const r = "image.".concat(s);
              const a = Tv(t, r, o);
              a ? e(a) : n();
            }).catch(n);
          });
        }

        function xv(t) {
          if (!t.is("element", "img") || !t.getAttribute("src")) {
            return false;
          }

          return t.getAttribute("src").match(/^data:image\/\w+;base64,/g) || t.getAttribute("src").match(/^blob:/g);
        }

        function Av(t, e) {
          if (t.type) {
            return t.type;
          } else if (e.match(/data:(image\/\w+);base64/)) {
            return e.match(/data:(image\/\w+);base64/)[1].toLowerCase();
          } else {
            return "image/jpeg";
          }
        }

        function Tv(t, e, n) {
          try {
            return new File([t], e, {
              type: n
            });
          } catch (t) {
            return null;
          }
        }

        class Cv extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;
            t.ui.componentFactory.add("imageUpload", n => {
              const i = new wv(n);
              const o = t.commands.get("imageUpload");
              const s = t.config.get("image.upload.types");
              const r = vv(s);
              i.set({
                acceptedType: s.map(t => "image/".concat(t)).join(","),
                allowMultipleFiles: true
              });
              i.buttonView.set({
                label: e("ay"),
                icon: kv,
                tooltip: true
              });
              i.buttonView.bind("isEnabled").to(o);
              i.on("done", (e, n) => {
                const i = Array.from(n).filter(t => r.test(t.type));

                if (i.length) {
                  t.execute("imageUpload", {
                    file: i
                  });
                }
              });
              return i;
            });
          }

        }

        class Pv {
          constructor(t) {
            this.context = t;
          }

          destroy() {
            this.stopListening();
          }

          static get isContextPlugin() {
            return true;
          }

        }

        vr(Pv, Qc);

        class Sv extends Pv {
          static get pluginName() {
            return "PendingActions";
          }

          init() {
            this.set("hasAny", false);
            this._actions = new yr({
              idProperty: "_id"
            });

            this._actions.delegate("add", "remove").to(this);
          }

          add(t) {
            if (typeof t !== "string") {
              throw new rr["b"]("pendingactions-add-invalid-message: The message must be a string.", this);
            }

            const e = Object.create(Qc);
            e.set("message", t);

            this._actions.add(e);

            this.hasAny = true;
            return e;
          }

          remove(t) {
            this._actions.remove(t);

            this.hasAny = !!this._actions.length;
          }

          get first() {
            return this._actions.get(0);
          }

          [Symbol.iterator]() {
            return this._actions[Symbol.iterator]();
          }

        }

        class Mv {
          constructor() {
            const t = new window.FileReader();
            this._reader = t;
            this._data = undefined;
            this.set("loaded", 0);

            t.onprogress = t => {
              this.loaded = t.loaded;
            };
          }

          get error() {
            return this._reader.error;
          }

          get data() {
            return this._data;
          }

          read(t) {
            const e = this._reader;
            this.total = t.size;
            return new Promise((n, i) => {
              e.onload = () => {
                const t = e.result;
                this._data = t;
                n(t);
              };

              e.onerror = () => {
                i("error");
              };

              e.onabort = () => {
                i("aborted");
              };

              this._reader.readAsDataURL(t);
            });
          }

          abort() {
            this._reader.abort();
          }

        }

        vr(Mv, Qc);

        class Ev extends Ow {
          static get pluginName() {
            return "FileRepository";
          }

          static get requires() {
            return [Sv];
          }

          init() {
            this.loaders = new yr();
            this.loaders.on("add", () => this._updatePendingAction());
            this.loaders.on("remove", () => this._updatePendingAction());
            this._loadersMap = new Map();
            this._pendingAction = null;
            this.set("uploaded", 0);
            this.set("uploadTotal", null);
            this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", (t, e) => e ? t / e * 100 : 0);
          }

          getLoader(t) {
            return this._loadersMap.get(t) || null;
          }

          createLoader(t) {
            if (!this.createUploadAdapter) {
              console.warn(Object(rr["a"])("filerepository-no-upload-adapter: Upload adapter is not defined."));
              return null;
            }

            const e = new Iv(Promise.resolve(t), this.createUploadAdapter);
            this.loaders.add(e);

            this._loadersMap.set(t, e);

            if (t instanceof Promise) {
              e.file.then(t => {
                this._loadersMap.set(t, e);
              }).catch(() => {});
            }

            e.on("change:uploaded", () => {
              let t = 0;
              var _iteratorNormalCompletion295 = true;
              var _didIteratorError295 = false;
              var _iteratorError295 = undefined;

              try {
                for (var _iterator295 = this.loaders[Symbol.iterator](), _step295; !(_iteratorNormalCompletion295 = (_step295 = _iterator295.next()).done); _iteratorNormalCompletion295 = true) {
                  const e = _step295.value;
                  t += e.uploaded;
                }
              } catch (err) {
                _didIteratorError295 = true;
                _iteratorError295 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion295 && _iterator295.return != null) {
                    _iterator295.return();
                  }
                } finally {
                  if (_didIteratorError295) {
                    throw _iteratorError295;
                  }
                }
              }

              this.uploaded = t;
            });
            e.on("change:uploadTotal", () => {
              let t = 0;
              var _iteratorNormalCompletion296 = true;
              var _didIteratorError296 = false;
              var _iteratorError296 = undefined;

              try {
                for (var _iterator296 = this.loaders[Symbol.iterator](), _step296; !(_iteratorNormalCompletion296 = (_step296 = _iterator296.next()).done); _iteratorNormalCompletion296 = true) {
                  const e = _step296.value;

                  if (e.uploadTotal) {
                    t += e.uploadTotal;
                  }
                }
              } catch (err) {
                _didIteratorError296 = true;
                _iteratorError296 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion296 && _iterator296.return != null) {
                    _iterator296.return();
                  }
                } finally {
                  if (_didIteratorError296) {
                    throw _iteratorError296;
                  }
                }
              }

              this.uploadTotal = t;
            });
            return e;
          }

          destroyLoader(t) {
            const e = t instanceof Iv ? t : this.getLoader(t);

            e._destroy();

            this.loaders.remove(e);

            this._loadersMap.forEach((t, n) => {
              if (t === e) {
                this._loadersMap.delete(n);
              }
            });
          }

          _updatePendingAction() {
            const t = this.editor.plugins.get(Sv);

            if (this.loaders.length) {
              if (!this._pendingAction) {
                const e = this.editor.t;

                const n = t => "".concat(e("bj"), " ").concat(parseInt(t), "%.");

                this._pendingAction = t.add(n(this.uploadedPercent));

                this._pendingAction.bind("message").to(this, "uploadedPercent", n);
              }
            } else {
              t.remove(this._pendingAction);
              this._pendingAction = null;
            }
          }

        }

        vr(Ev, Qc);

        class Iv {
          constructor(t, e) {
            this.id = nr();
            this._filePromiseWrapper = this._createFilePromiseWrapper(t);
            this._adapter = e(this);
            this._reader = new Mv();
            this.set("status", "idle");
            this.set("uploaded", 0);
            this.set("uploadTotal", null);
            this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", (t, e) => e ? t / e * 100 : 0);
            this.set("uploadResponse", null);
          }

          get file() {
            if (!this._filePromiseWrapper) {
              return Promise.resolve(null);
            } else {
              return this._filePromiseWrapper.promise.then(t => this._filePromiseWrapper ? t : null);
            }
          }

          get data() {
            return this._reader.data;
          }

          read() {
            if (this.status != "idle") {
              throw new rr["b"]("filerepository-read-wrong-status: You cannot call read if the status is different than idle.", this);
            }

            this.status = "reading";
            return this.file.then(t => this._reader.read(t)).then(t => {
              this.status = "idle";
              return t;
            }).catch(t => {
              if (t === "aborted") {
                this.status = "aborted";
                throw "aborted";
              }

              this.status = "error";
              throw this._reader.error ? this._reader.error : t;
            });
          }

          upload() {
            if (this.status != "idle") {
              throw new rr["b"]("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.", this);
            }

            this.status = "uploading";
            return this.file.then(() => this._adapter.upload()).then(t => {
              this.uploadResponse = t;
              this.status = "idle";
              return t;
            }).catch(t => {
              if (this.status === "aborted") {
                throw "aborted";
              }

              this.status = "error";
              throw t;
            });
          }

          abort() {
            const t = this.status;
            this.status = "aborted";

            if (!this._filePromiseWrapper.isFulfilled) {
              this._filePromiseWrapper.promise.catch(() => {});

              this._filePromiseWrapper.rejecter("aborted");
            } else if (t == "reading") {
              this._reader.abort();
            } else if (t == "uploading" && this._adapter.abort) {
              this._adapter.abort();
            }

            this._destroy();
          }

          _destroy() {
            this._filePromiseWrapper = undefined;
            this._reader = undefined;
            this._adapter = undefined;
            this.uploadResponse = undefined;
          }

          _createFilePromiseWrapper(t) {
            const e = {};
            e.promise = new Promise((n, i) => {
              e.rejecter = i;
              e.isFulfilled = false;
              t.then(t => {
                e.isFulfilled = true;
                n(t);
              }).catch(t => {
                e.isFulfilled = true;
                i(t);
              });
            });
            return e;
          }

        }

        vr(Iv, Qc);
        var Nv = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>';
        var Ov = n(66);
        var Rv = n(68);
        var Dv = n(70);

        class Lv extends Ow {
          constructor(t) {
            super(t);
            this.placeholder = "data:image/svg+xml;utf8," + encodeURIComponent(Nv);
          }

          init() {
            const t = this.editor;
            t.editing.downcastDispatcher.on("attribute:uploadStatus:image", (...t) => this.uploadStatusChange(...t));
          }

          uploadStatusChange(t, e, n) {
            const i = this.editor;
            const o = e.item;
            const s = o.getAttribute("uploadId");

            if (!n.consumable.consume(e.item, t.name)) {
              return;
            }

            const r = i.plugins.get(Ev);
            const a = s ? e.attributeNewValue : null;
            const c = this.placeholder;
            const l = i.editing.mapper.toViewElement(o);
            const d = n.writer;

            if (a == "reading") {
              zv(l, d);
              Vv(c, l, d);
              return;
            }

            if (a == "uploading") {
              const t = r.loaders.get(s);
              zv(l, d);

              if (!t) {
                Vv(c, l, d);
              } else {
                Bv(l, d);
                Fv(l, d, t, i.editing.view);
                Gv(l, d, t);
              }

              return;
            }

            if (a == "complete" && r.loaders.get(s) && !Cl.isEdge) {
              Uv(l, d, i.editing.view);
            }

            Hv(l, d);
            Bv(l, d);
            jv(l, d);
          }

        }

        function zv(t, e) {
          if (!t.hasClass("ck-appear")) {
            e.addClass("ck-appear", t);
          }
        }

        function jv(t, e) {
          e.removeClass("ck-appear", t);
        }

        function Vv(t, e, n) {
          if (!e.hasClass("ck-image-upload-placeholder")) {
            n.addClass("ck-image-upload-placeholder", e);
          }

          const i = e.getChild(0);

          if (i.getAttribute("src") !== t) {
            n.setAttribute("src", t, i);
          }

          if (!$v(e, "placeholder")) {
            n.insert(n.createPositionAfter(i), qv(n));
          }
        }

        function Bv(t, e) {
          if (t.hasClass("ck-image-upload-placeholder")) {
            e.removeClass("ck-image-upload-placeholder", t);
          }

          Yv(t, e, "placeholder");
        }

        function Fv(t, e, n, i) {
          const o = Wv(e);
          e.insert(e.createPositionAt(t, "end"), o);
          n.on("change:uploadedPercent", (t, e, n) => {
            i.change(t => {
              t.setStyle("width", n + "%", o);
            });
          });
        }

        function Hv(t, e) {
          Yv(t, e, "progressBar");
        }

        function Uv(t, e, n) {
          const i = e.createUIElement("div", {
            class: "ck-image-upload-complete-icon"
          });
          e.insert(e.createPositionAt(t, "end"), i);
          setTimeout(() => {
            n.change(t => t.remove(t.createRangeOn(i)));
          }, 3e3);
        }

        function Wv(t) {
          const e = t.createUIElement("div", {
            class: "ck-progress-bar"
          });
          t.setCustomProperty("progressBar", true, e);
          return e;
        }

        function qv(t) {
          const e = t.createUIElement("div", {
            class: "ck-upload-placeholder-loader"
          });
          t.setCustomProperty("placeholder", true, e);
          return e;
        }

        function $v(t, e) {
          var _iteratorNormalCompletion297 = true;
          var _didIteratorError297 = false;
          var _iteratorError297 = undefined;

          try {
            for (var _iterator297 = t.getChildren()[Symbol.iterator](), _step297; !(_iteratorNormalCompletion297 = (_step297 = _iterator297.next()).done); _iteratorNormalCompletion297 = true) {
              const n = _step297.value;

              if (n.getCustomProperty(e)) {
                return n;
              }
            }
          } catch (err) {
            _didIteratorError297 = true;
            _iteratorError297 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion297 && _iterator297.return != null) {
                _iterator297.return();
              }
            } finally {
              if (_didIteratorError297) {
                throw _iteratorError297;
              }
            }
          }
        }

        function Yv(t, e, n) {
          const i = $v(t, n);

          if (i) {
            e.remove(e.createRangeOn(i));
          }
        }

        function Gv(t, e, n) {
          if (n.data) {
            const i = t.getChild(0);
            e.setAttribute("src", n.data, i);
          }
        }

        class Qv extends Pv {
          static get pluginName() {
            return "Notification";
          }

          init() {
            this.on("show:warning", (t, e) => {
              window.alert(e.message);
            }, {
              priority: "lowest"
            });
          }

          showSuccess(t, e = {}) {
            this._showNotification({
              message: t,
              type: "success",
              namespace: e.namespace,
              title: e.title
            });
          }

          showInfo(t, e = {}) {
            this._showNotification({
              message: t,
              type: "info",
              namespace: e.namespace,
              title: e.title
            });
          }

          showWarning(t, e = {}) {
            this._showNotification({
              message: t,
              type: "warning",
              namespace: e.namespace,
              title: e.title
            });
          }

          _showNotification(t) {
            const e = "show:".concat(t.type) + (t.namespace ? ":".concat(t.namespace) : "");
            this.fire(e, {
              message: t.message,
              type: t.type,
              title: t.title || ""
            });
          }

        }

        class Kv {
          constructor(t) {
            this.files = Jv(t);
            this._native = t;
          }

          get types() {
            return this._native.types;
          }

          getData(t) {
            return this._native.getData(t);
          }

          setData(t, e) {
            this._native.setData(t, e);
          }

        }

        function Jv(t) {
          const e = t.files ? Array.from(t.files) : [];
          const n = t.items ? Array.from(t.items) : [];

          if (e.length) {
            return e;
          }

          return n.filter(t => t.kind === "file").map(t => t.getAsFile());
        }

        class Zv extends Ku {
          constructor(t) {
            super(t);
            const e = this.document;
            this.domEventType = ["paste", "copy", "cut", "drop", "dragover"];
            this.listenTo(e, "paste", n, {
              priority: "low"
            });
            this.listenTo(e, "drop", n, {
              priority: "low"
            });

            function n(t, n) {
              n.preventDefault();
              const i = n.dropRange ? [n.dropRange] : Array.from(e.selection.getRanges());
              const o = new tr(e, "clipboardInput");
              e.fire(o, {
                dataTransfer: n.dataTransfer,
                targetRanges: i
              });

              if (o.stop.called) {
                n.stopPropagation();
              }
            }
          }

          onDomEvent(t) {
            const e = {
              dataTransfer: new Kv(t.clipboardData ? t.clipboardData : t.dataTransfer)
            };

            if (t.type == "drop") {
              e.dropRange = Xv(this.view, t);
            }

            this.fire(t.type, t, e);
          }

        }

        function Xv(t, e) {
          const n = e.target.ownerDocument;
          const i = e.clientX;
          const o = e.clientY;
          let s;

          if (n.caretRangeFromPoint && n.caretRangeFromPoint(i, o)) {
            s = n.caretRangeFromPoint(i, o);
          } else if (e.rangeParent) {
            s = n.createRange();
            s.setStart(e.rangeParent, e.rangeOffset);
            s.collapse(true);
          }

          if (s) {
            return t.domConverter.domRangeToView(s);
          } else {
            return t.document.selection.getFirstRange();
          }
        }

        function ty(t) {
          t = t.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n/g, "</p><p>").replace(/^\s/, "&nbsp;").replace(/\s$/, "&nbsp;").replace(/\s\s/g, " &nbsp;");

          if (t.indexOf("</p><p>") > -1) {
            t = "<p>".concat(t, "</p>");
          }

          return t;
        }

        function ey(t) {
          return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, (t, e) => {
            if (e.length == 1) {
              return " ";
            }

            return e;
          });
        }

        const ny = ["figcaption", "li"];

        function iy(t) {
          let e = "";

          if (t.is("text") || t.is("textProxy")) {
            e = t.data;
          } else if (t.is("img") && t.hasAttribute("alt")) {
            e = t.getAttribute("alt");
          } else {
            let n = null;
            var _iteratorNormalCompletion298 = true;
            var _didIteratorError298 = false;
            var _iteratorError298 = undefined;

            try {
              for (var _iterator298 = t.getChildren()[Symbol.iterator](), _step298; !(_iteratorNormalCompletion298 = (_step298 = _iterator298.next()).done); _iteratorNormalCompletion298 = true) {
                const i = _step298.value;
                const t = iy(i);

                if (n && (n.is("containerElement") || i.is("containerElement"))) {
                  if (ny.includes(n.name) || ny.includes(i.name)) {
                    e += "\n";
                  } else {
                    e += "\n\n";
                  }
                }

                e += t;
                n = i;
              }
            } catch (err) {
              _didIteratorError298 = true;
              _iteratorError298 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion298 && _iterator298.return != null) {
                  _iterator298.return();
                }
              } finally {
                if (_didIteratorError298) {
                  throw _iteratorError298;
                }
              }
            }
          }

          return e;
        }

        class oy extends Ow {
          static get pluginName() {
            return "Clipboard";
          }

          init() {
            const t = this.editor;
            const e = t.model.document;
            const n = t.editing.view;
            const i = n.document;
            this._htmlDataProcessor = new vp();
            n.addObserver(Zv);
            this.listenTo(i, "clipboardInput", e => {
              if (t.isReadOnly) {
                e.stop();
              }
            }, {
              priority: "highest"
            });
            this.listenTo(i, "clipboardInput", (t, e) => {
              const i = e.dataTransfer;
              let o = "";

              if (i.getData("text/html")) {
                o = ey(i.getData("text/html"));
              } else if (i.getData("text/plain")) {
                o = ty(i.getData("text/plain"));
              }

              o = this._htmlDataProcessor.toView(o);
              this.fire("inputTransformation", {
                content: o,
                dataTransfer: i
              });
              n.scrollToTheSelection();
            }, {
              priority: "low"
            });
            this.listenTo(this, "inputTransformation", (t, e) => {
              if (!e.content.isEmpty) {
                const t = this.editor.data;
                const n = this.editor.model;
                const i = t.toModel(e.content, "$clipboardHolder");

                if (i.childCount == 0) {
                  return;
                }

                n.insertContent(i);
              }
            }, {
              priority: "low"
            });

            function o(n, o) {
              const s = o.dataTransfer;
              o.preventDefault();
              const r = t.data.toView(t.model.getSelectedContent(e.selection));
              i.fire("clipboardOutput", {
                dataTransfer: s,
                content: r,
                method: n.name
              });
            }

            this.listenTo(i, "copy", o, {
              priority: "low"
            });
            this.listenTo(i, "cut", (e, n) => {
              if (t.isReadOnly) {
                n.preventDefault();
              } else {
                o(e, n);
              }
            }, {
              priority: "low"
            });
            this.listenTo(i, "clipboardOutput", (n, i) => {
              if (!i.content.isEmpty) {
                i.dataTransfer.setData("text/html", this._htmlDataProcessor.toData(i.content));
                i.dataTransfer.setData("text/plain", iy(i.content));
              }

              if (i.method == "cut") {
                t.model.deleteContent(e.selection);
              }
            }, {
              priority: "low"
            });
          }

        }

        class sy {
          createDocumentFragment(t) {
            return new ql(t);
          }

          createElement(t, e, n) {
            return new zc(t, e, n);
          }

          createText(t) {
            return new jr(t);
          }

          clone(t, e = false) {
            return t._clone(e);
          }

          appendChild(t, e) {
            return e._appendChild(t);
          }

          insertChild(t, e, n) {
            return n._insertChild(t, e);
          }

          removeChildren(t, e, n) {
            return n._removeChildren(t, e);
          }

          remove(t) {
            const e = t.parent;

            if (e) {
              return this.removeChildren(e.getChildIndex(t), 1, e);
            }

            return [];
          }

          replace(t, e) {
            const n = t.parent;

            if (n) {
              const i = n.getChildIndex(t);
              this.removeChildren(i, 1, n);
              this.insertChild(i, e, n);
              return true;
            }

            return false;
          }

          unwrapElement(t) {
            const e = t.parent;

            if (e) {
              const n = e.getChildIndex(t);
              this.remove(t);
              this.insertChild(n, t.getChildren(), e);
            }
          }

          rename(t, e) {
            const n = new zc(t, e.getAttributes(), e.getChildren());
            return this.replace(e, n) ? n : null;
          }

          setAttribute(t, e, n) {
            n._setAttribute(t, e);
          }

          removeAttribute(t, e) {
            e._removeAttribute(t);
          }

          addClass(t, e) {
            e._addClass(t);
          }

          removeClass(t, e) {
            e._removeClass(t);
          }

          setStyle(t, e, n) {
            if (R(t) && n === undefined) {
              n = e;
            }

            n._setStyle(t, e);
          }

          removeStyle(t, e) {
            e._removeStyle(t);
          }

          setCustomProperty(t, e, n) {
            n._setCustomProperty(t, e);
          }

          removeCustomProperty(t, e) {
            return e._removeCustomProperty(t);
          }

          createPositionAt(t, e) {
            return ul._createAt(t, e);
          }

          createPositionAfter(t) {
            return ul._createAfter(t);
          }

          createPositionBefore(t) {
            return ul._createBefore(t);
          }

          createRange(t, e) {
            return new hl(t, e);
          }

          createRangeOn(t) {
            return hl._createOn(t);
          }

          createRangeIn(t) {
            return hl._createIn(t);
          }

          createSelection(t, e, n) {
            return new gl(t, e, n);
          }

        }

        class ry extends zw {
          refresh() {
            this.isEnabled = H_(this.editor.model);
          }

          execute(t) {
            const e = this.editor;
            const n = e.model;
            const i = e.plugins.get(Ev);
            n.change(e => {
              const o = Array.isArray(t.file) ? t.file : [t.file];
              var _iteratorNormalCompletion299 = true;
              var _didIteratorError299 = false;
              var _iteratorError299 = undefined;

              try {
                for (var _iterator299 = o[Symbol.iterator](), _step299; !(_iteratorNormalCompletion299 = (_step299 = _iterator299.next()).done); _iteratorNormalCompletion299 = true) {
                  const t = _step299.value;
                  ay(e, n, i, t);
                }
              } catch (err) {
                _didIteratorError299 = true;
                _iteratorError299 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion299 && _iterator299.return != null) {
                    _iterator299.return();
                  }
                } finally {
                  if (_didIteratorError299) {
                    throw _iteratorError299;
                  }
                }
              }
            });
          }

        }

        function ay(t, e, n, i) {
          const o = n.createLoader(i);

          if (!o) {
            return;
          }

          F_(t, e, {
            uploadId: o.id
          });
        }

        class cy extends Ow {
          static get requires() {
            return [Ev, Qv, oy];
          }

          static get pluginName() {
            return "ImageUploadEditing";
          }

          constructor(t) {
            super(t);
            t.config.define("image", {
              upload: {
                types: ["jpeg", "png", "gif", "bmp", "webp", "tiff"]
              }
            });
          }

          init() {
            const t = this.editor;
            const e = t.model.document;
            const n = t.model.schema;
            const i = t.conversion;
            const o = t.plugins.get(Ev);
            const s = vv(t.config.get("image.upload.types"));
            n.extend("image", {
              allowAttributes: ["uploadId", "uploadStatus"]
            });
            t.commands.add("imageUpload", new ry(t));
            i.for("upcast").attributeToAttribute({
              view: {
                name: "img",
                key: "uploadId"
              },
              model: "uploadId"
            });
            this.listenTo(t.editing.view.document, "clipboardInput", (e, n) => {
              if (ly(n.dataTransfer)) {
                return;
              }

              const i = Array.from(n.dataTransfer.files).filter(t => {
                if (!t) {
                  return false;
                }

                return s.test(t.type);
              });
              const o = n.targetRanges.map(e => t.editing.mapper.toModelRange(e));
              t.model.change(n => {
                n.setSelection(o);

                if (i.length) {
                  e.stop();
                  t.model.enqueueChange("default", () => {
                    t.execute("imageUpload", {
                      file: i
                    });
                  });
                }
              });
            });
            this.listenTo(t.plugins.get(oy), "inputTransformation", (e, n) => {
              const i = Array.from(t.editing.view.createRangeIn(n.content)).filter(t => xv(t.item) && !t.item.getAttribute("uploadProcessed")).map(t => ({
                promise: yv(t.item),
                imageElement: t.item
              }));

              if (!i.length) {
                return;
              }

              const s = new sy();
              var _iteratorNormalCompletion300 = true;
              var _didIteratorError300 = false;
              var _iteratorError300 = undefined;

              try {
                for (var _iterator300 = i[Symbol.iterator](), _step300; !(_iteratorNormalCompletion300 = (_step300 = _iterator300.next()).done); _iteratorNormalCompletion300 = true) {
                  const t = _step300.value;
                  s.setAttribute("uploadProcessed", true, t.imageElement);
                  const e = o.createLoader(t.promise);

                  if (e) {
                    s.setAttribute("src", "", t.imageElement);
                    s.setAttribute("uploadId", e.id, t.imageElement);
                  }
                }
              } catch (err) {
                _didIteratorError300 = true;
                _iteratorError300 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion300 && _iterator300.return != null) {
                    _iterator300.return();
                  }
                } finally {
                  if (_didIteratorError300) {
                    throw _iteratorError300;
                  }
                }
              }
            });
            t.editing.view.document.on("dragover", (t, e) => {
              e.preventDefault();
            });
            e.on("change", () => {
              const n = e.differ.getChanges({
                includeChangesInGraveyard: true
              });
              var _iteratorNormalCompletion301 = true;
              var _didIteratorError301 = false;
              var _iteratorError301 = undefined;

              try {
                for (var _iterator301 = n[Symbol.iterator](), _step301; !(_iteratorNormalCompletion301 = (_step301 = _iterator301.next()).done); _iteratorNormalCompletion301 = true) {
                  const e = _step301.value;

                  if (e.type == "insert" && e.name != "$text") {
                    const n = e.position.nodeAfter;
                    const i = e.position.root.rootName == "$graveyard";
                    var _iteratorNormalCompletion302 = true;
                    var _didIteratorError302 = false;
                    var _iteratorError302 = undefined;

                    try {
                      for (var _iterator302 = dy(t, n)[Symbol.iterator](), _step302; !(_iteratorNormalCompletion302 = (_step302 = _iterator302.next()).done); _iteratorNormalCompletion302 = true) {
                        const e = _step302.value;
                        const t = e.getAttribute("uploadId");

                        if (!t) {
                          continue;
                        }

                        const n = o.loaders.get(t);

                        if (!n) {
                          continue;
                        }

                        if (i) {
                          n.abort();
                        } else if (n.status == "idle") {
                          this._readAndUpload(n, e);
                        }
                      }
                    } catch (err) {
                      _didIteratorError302 = true;
                      _iteratorError302 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion302 && _iterator302.return != null) {
                          _iterator302.return();
                        }
                      } finally {
                        if (_didIteratorError302) {
                          throw _iteratorError302;
                        }
                      }
                    }
                  }
                }
              } catch (err) {
                _didIteratorError301 = true;
                _iteratorError301 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion301 && _iterator301.return != null) {
                    _iterator301.return();
                  }
                } finally {
                  if (_didIteratorError301) {
                    throw _iteratorError301;
                  }
                }
              }
            });
          }

          _readAndUpload(t, e) {
            const n = this.editor;
            const i = n.model;
            const o = n.locale.t;
            const s = n.plugins.get(Ev);
            const r = n.plugins.get(Qv);
            i.enqueueChange("transparent", t => {
              t.setAttribute("uploadStatus", "reading", e);
            });
            return t.read().then(() => {
              const o = t.upload();

              if (Cl.isSafari) {
                const t = n.editing.mapper.toViewElement(e);
                const i = t.getChild(0);
                n.editing.view.once("render", () => {
                  if (!i.parent) {
                    return;
                  }

                  const t = n.editing.view.domConverter.mapViewToDom(i.parent);

                  if (!t) {
                    return;
                  }

                  const e = t.style.display;
                  t.style.display = "none";
                  t._ckHack = t.offsetHeight;
                  t.style.display = e;
                });
              }

              i.enqueueChange("transparent", t => {
                t.setAttribute("uploadStatus", "uploading", e);
              });
              return o;
            }).then(t => {
              i.enqueueChange("transparent", n => {
                n.setAttributes({
                  uploadStatus: "complete",
                  src: t.default
                }, e);

                this._parseAndSetSrcsetAttributeOnImage(t, e, n);
              });
              a();
            }).catch(n => {
              if (t.status !== "error" && t.status !== "aborted") {
                throw n;
              }

              if (t.status == "error" && n) {
                r.showWarning(n, {
                  title: o("az"),
                  namespace: "upload"
                });
              }

              a();
              i.enqueueChange("transparent", t => {
                t.remove(e);
              });
            });

            function a() {
              i.enqueueChange("transparent", t => {
                t.removeAttribute("uploadId", e);
                t.removeAttribute("uploadStatus", e);
              });
              s.destroyLoader(t);
            }
          }

          _parseAndSetSrcsetAttributeOnImage(t, e, n) {
            let i = 0;
            const o = Object.keys(t).filter(t => {
              const e = parseInt(t, 10);

              if (!isNaN(e)) {
                i = Math.max(i, e);
                return true;
              }
            }).map(e => "".concat(t[e], " ").concat(e, "w")).join(", ");

            if (o != "") {
              n.setAttribute("srcset", {
                data: o,
                width: i
              }, e);
            }
          }

        }

        function ly(t) {
          return Array.from(t.types).includes("text/html") && t.getData("text/html") !== "";
        }

        function dy(t, e) {
          return Array.from(t.model.createRangeOn(e)).filter(t => t.item.is("image")).map(t => t.item);
        }

        class uy extends Ow {
          static get pluginName() {
            return "ImageUpload";
          }

          static get requires() {
            return [cy, Cv, Lv];
          }

        }

        class hy extends zw {
          constructor(t) {
            super(t);
            this._childCommands = [];
          }

          refresh() {}

          execute(...t) {
            const e = this._getFirstEnabledCommand();

            e.execute(t);
          }

          registerChildCommand(t) {
            this._childCommands.push(t);

            t.on("change:isEnabled", () => this._checkEnabled());

            this._checkEnabled();
          }

          _checkEnabled() {
            this.isEnabled = !!this._getFirstEnabledCommand();
          }

          _getFirstEnabledCommand() {
            return this._childCommands.find(t => t.isEnabled);
          }

        }

        class fy extends Ow {
          static get pluginName() {
            return "IndentEditing";
          }

          init() {
            const t = this.editor;
            t.commands.add("indent", new hy(t));
            t.commands.add("outdent", new hy(t));
          }

        }

        var my = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zM2.75 16.5h14.5a.75.75 0 100-1.5H2.75a.75.75 0 100 1.5zM1.632 6.95L5.02 9.358a.4.4 0 01-.013.661l-3.39 2.207A.4.4 0 011 11.892V7.275a.4.4 0 01.632-.326z"/></svg>';
        var gy = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zM2.75 16.5h14.5a.75.75 0 100-1.5H2.75a.75.75 0 100 1.5zM4.368 6.95L.98 9.358a.4.4 0 00.013.661l3.39 2.207A.4.4 0 005 11.892V7.275a.4.4 0 00-.632-.326z"/></svg>';

        class py extends Ow {
          static get pluginName() {
            return "IndentUI";
          }

          init() {
            const t = this.editor;
            const e = t.locale;
            const n = t.t;
            const i = e.uiLanguageDirection == "ltr" ? my : gy;
            const o = e.uiLanguageDirection == "ltr" ? gy : my;

            this._defineButton("indent", n("g"), i);

            this._defineButton("outdent", n("h"), o);
          }

          _defineButton(t, e, n) {
            const i = this.editor;
            i.ui.componentFactory.add(t, o => {
              const s = i.commands.get(t);
              const r = new Xb(o);
              r.set({
                label: e,
                icon: n,
                tooltip: true
              });
              r.bind("isOn", "isEnabled").to(s, "value", "isEnabled");
              this.listenTo(r, "execute", () => {
                i.execute(t);
                i.editing.view.focus();
              });
              return r;
            });
          }

        }

        class by extends Ow {
          static get pluginName() {
            return "Indent";
          }

          static get requires() {
            return [fy, py];
          }

        }

        const wy = "italic";

        class _y extends Ow {
          static get pluginName() {
            return "ItalicEditing";
          }

          init() {
            const t = this.editor;
            t.model.schema.extend("$text", {
              allowAttributes: wy
            });
            t.model.schema.setAttributeProperties(wy, {
              isFormatting: true,
              copyOnEnter: true
            });
            t.conversion.attributeToElement({
              model: wy,
              view: "i",
              upcastAlso: ["em", {
                styles: {
                  "font-style": "italic"
                }
              }]
            });
            t.commands.add(wy, new Qw(t, wy));
            t.keystrokes.set("CTRL+I", wy);
          }

        }

        var ky = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 110 1.2H5.304a.6.6 0 010-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 00-.281-.823 1.12 1.12 0 00-.442-.296H8.15a.6.6 0 010-1.2h6.443a.6.6 0 110 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';
        const vy = "italic";

        class yy extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;
            t.ui.componentFactory.add(vy, n => {
              const i = t.commands.get(vy);
              const o = new Xb(n);
              o.set({
                label: e("ao"),
                icon: ky,
                keystroke: "CTRL+I",
                tooltip: true,
                isToggleable: true
              });
              o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
              this.listenTo(o, "execute", () => {
                t.execute(vy);
                t.editing.view.focus();
              });
              return o;
            });
          }

        }

        class xy extends Ow {
          static get requires() {
            return [_y, yy];
          }

          static get pluginName() {
            return "Italic";
          }

        }

        function Ay(t, e, n) {
          return n.createRange(Ty(t, e, true, n), Ty(t, e, false, n));
        }

        function Ty(t, e, n, i) {
          let o = t.textNode || (n ? t.nodeBefore : t.nodeAfter);
          let s = null;

          while (o && o.getAttribute("linkHref") == e) {
            s = o;
            o = n ? o.previousSibling : o.nextSibling;
          }

          return s ? i.createPositionAt(s, n ? "before" : "after") : t;
        }

        class Cy extends zw {
          constructor(t) {
            super(t);
            this.manualDecorators = new yr();
          }

          restoreManualDecoratorStates() {
            var _iteratorNormalCompletion303 = true;
            var _didIteratorError303 = false;
            var _iteratorError303 = undefined;

            try {
              for (var _iterator303 = this.manualDecorators[Symbol.iterator](), _step303; !(_iteratorNormalCompletion303 = (_step303 = _iterator303.next()).done); _iteratorNormalCompletion303 = true) {
                const t = _step303.value;
                t.value = this._getDecoratorStateFromModel(t.id);
              }
            } catch (err) {
              _didIteratorError303 = true;
              _iteratorError303 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion303 && _iterator303.return != null) {
                  _iterator303.return();
                }
              } finally {
                if (_didIteratorError303) {
                  throw _iteratorError303;
                }
              }
            }
          }

          refresh() {
            const t = this.editor.model;
            const e = t.document;
            this.value = e.selection.getAttribute("linkHref");
            var _iteratorNormalCompletion304 = true;
            var _didIteratorError304 = false;
            var _iteratorError304 = undefined;

            try {
              for (var _iterator304 = this.manualDecorators[Symbol.iterator](), _step304; !(_iteratorNormalCompletion304 = (_step304 = _iterator304.next()).done); _iteratorNormalCompletion304 = true) {
                const t = _step304.value;
                t.value = this._getDecoratorStateFromModel(t.id);
              }
            } catch (err) {
              _didIteratorError304 = true;
              _iteratorError304 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion304 && _iterator304.return != null) {
                  _iterator304.return();
                }
              } finally {
                if (_didIteratorError304) {
                  throw _iteratorError304;
                }
              }
            }

            this.isEnabled = t.schema.checkAttributeInSelection(e.selection, "linkHref");
          }

          execute(t, e = {}) {
            const n = this.editor.model;
            const i = n.document.selection;
            const o = [];
            const s = [];

            for (const t in e) {
              if (e[t]) {
                o.push(t);
              } else {
                s.push(t);
              }
            }

            n.change(e => {
              if (i.isCollapsed) {
                const r = i.getFirstPosition();

                if (i.hasAttribute("linkHref")) {
                  const a = Ay(r, i.getAttribute("linkHref"), n);
                  e.setAttribute("linkHref", t, a);
                  o.forEach(t => {
                    e.setAttribute(t, true, a);
                  });
                  s.forEach(t => {
                    e.removeAttribute(t, a);
                  });
                  e.setSelection(a);
                } else if (t !== "") {
                  const s = Hr(i.getAttributes());
                  s.set("linkHref", t);
                  o.forEach(t => {
                    s.set(t, true);
                  });
                  const a = e.createText(t, s);
                  n.insertContent(a, r);
                  e.setSelection(e.createRangeOn(a));
                }
              } else {
                const r = n.schema.getValidRanges(i.getRanges(), "linkHref");
                var _iteratorNormalCompletion305 = true;
                var _didIteratorError305 = false;
                var _iteratorError305 = undefined;

                try {
                  for (var _iterator305 = r[Symbol.iterator](), _step305; !(_iteratorNormalCompletion305 = (_step305 = _iterator305.next()).done); _iteratorNormalCompletion305 = true) {
                    const n = _step305.value;
                    e.setAttribute("linkHref", t, n);
                    o.forEach(t => {
                      e.setAttribute(t, true, n);
                    });
                    s.forEach(t => {
                      e.removeAttribute(t, n);
                    });
                  }
                } catch (err) {
                  _didIteratorError305 = true;
                  _iteratorError305 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion305 && _iterator305.return != null) {
                      _iterator305.return();
                    }
                  } finally {
                    if (_didIteratorError305) {
                      throw _iteratorError305;
                    }
                  }
                }
              }
            });
          }

          _getDecoratorStateFromModel(t) {
            const e = this.editor.model.document;
            return e.selection.getAttribute(t) || false;
          }

        }

        class Py extends zw {
          refresh() {
            this.isEnabled = this.editor.model.document.selection.hasAttribute("linkHref");
          }

          execute() {
            const t = this.editor;
            const e = this.editor.model;
            const n = e.document.selection;
            const i = t.commands.get("link");
            e.change(t => {
              const o = n.isCollapsed ? [Ay(n.getFirstPosition(), n.getAttribute("linkHref"), e)] : n.getRanges();
              var _iteratorNormalCompletion306 = true;
              var _didIteratorError306 = false;
              var _iteratorError306 = undefined;

              try {
                for (var _iterator306 = o[Symbol.iterator](), _step306; !(_iteratorNormalCompletion306 = (_step306 = _iterator306.next()).done); _iteratorNormalCompletion306 = true) {
                  const e = _step306.value;
                  t.removeAttribute("linkHref", e);

                  if (i) {
                    var _iteratorNormalCompletion307 = true;
                    var _didIteratorError307 = false;
                    var _iteratorError307 = undefined;

                    try {
                      for (var _iterator307 = i.manualDecorators[Symbol.iterator](), _step307; !(_iteratorNormalCompletion307 = (_step307 = _iterator307.next()).done); _iteratorNormalCompletion307 = true) {
                        const n = _step307.value;
                        t.removeAttribute(n.id, e);
                      }
                    } catch (err) {
                      _didIteratorError307 = true;
                      _iteratorError307 = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion307 && _iterator307.return != null) {
                          _iterator307.return();
                        }
                      } finally {
                        if (_didIteratorError307) {
                          throw _iteratorError307;
                        }
                      }
                    }
                  }
                }
              } catch (err) {
                _didIteratorError306 = true;
                _iteratorError306 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion306 && _iterator306.return != null) {
                    _iterator306.return();
                  }
                } finally {
                  if (_didIteratorError306) {
                    throw _iteratorError306;
                  }
                }
              }
            });
          }

        }

        function Sy(t, e, n) {
          var i = t.length;
          n = n === undefined ? i : n;
          return !e && n >= i ? t : Ia(t, e, n);
        }

        var My = Sy;
        var Ey = "\\ud800-\\udfff",
            Iy = "\\u0300-\\u036f",
            Ny = "\\ufe20-\\ufe2f",
            Oy = "\\u20d0-\\u20ff",
            Ry = Iy + Ny + Oy,
            Dy = "\\ufe0e\\ufe0f";
        var Ly = "\\u200d";
        var zy = RegExp("[" + Ly + Ey + Ry + Dy + "]");

        function jy(t) {
          return zy.test(t);
        }

        var Vy = jy;

        function By(t) {
          return t.split("");
        }

        var Fy = By;
        var Hy = "\\ud800-\\udfff",
            Uy = "\\u0300-\\u036f",
            Wy = "\\ufe20-\\ufe2f",
            qy = "\\u20d0-\\u20ff",
            $y = Uy + Wy + qy,
            Yy = "\\ufe0e\\ufe0f";
        var Gy = "[" + Hy + "]",
            Qy = "[" + $y + "]",
            Ky = "\\ud83c[\\udffb-\\udfff]",
            Jy = "(?:" + Qy + "|" + Ky + ")",
            Zy = "[^" + Hy + "]",
            Xy = "(?:\\ud83c[\\udde6-\\uddff]){2}",
            tx = "[\\ud800-\\udbff][\\udc00-\\udfff]",
            ex = "\\u200d";
        var nx = Jy + "?",
            ix = "[" + Yy + "]?",
            ox = "(?:" + ex + "(?:" + [Zy, Xy, tx].join("|") + ")" + ix + nx + ")*",
            sx = ix + nx + ox,
            rx = "(?:" + [Zy + Qy + "?", Qy, Xy, tx, Gy].join("|") + ")";
        var ax = RegExp(Ky + "(?=" + Ky + ")|" + rx + sx, "g");

        function cx(t) {
          return t.match(ax) || [];
        }

        var lx = cx;

        function dx(t) {
          return Vy(t) ? lx(t) : Fy(t);
        }

        var ux = dx;

        function hx(t) {
          return function (e) {
            e = ka(e);
            var n = Vy(e) ? ux(e) : undefined;
            var i = n ? n[0] : e.charAt(0);
            var o = n ? My(n, 1).join("") : e.slice(1);
            return i[t]() + o;
          };
        }

        var fx = hx;
        var mx = fx("toUpperCase");
        var gx = mx;
        const px = /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;
        const bx = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;

        function wx(t) {
          return t.is("attributeElement") && !!t.getCustomProperty("link");
        }

        function _x(t, e) {
          const n = e.createAttributeElement("a", {
            href: t
          }, {
            priority: 5
          });
          e.setCustomProperty("link", true, n);
          return n;
        }

        function kx(t) {
          t = String(t);
          return vx(t) ? t : "#";
        }

        function vx(t) {
          const e = t.replace(px, "");
          return e.match(bx);
        }

        function yx(t, e) {
          const n = {
            "Open in a new tab": t("cs"),
            Downloadable: t("ct")
          };
          e.forEach(t => {
            if (t.label && n[t.label]) {
              t.label = n[t.label];
            }

            return t;
          });
          return e;
        }

        function xx(t) {
          const e = [];

          if (t) {
            for (var _i37 = 0, _Object$entries2 = Object.entries(t); _i37 < _Object$entries2.length; _i37++) {
              const _Object$entries2$_i = _slicedToArray(_Object$entries2[_i37], 2),
                    n = _Object$entries2$_i[0],
                    i = _Object$entries2$_i[1];

              const t = Object.assign({}, i, {
                id: "link".concat(gx(n))
              });
              e.push(t);
            }
          }

          return e;
        }

        class Ax {
          constructor() {
            this._definitions = new Set();
          }

          get length() {
            return this._definitions.size;
          }

          add(t) {
            if (Array.isArray(t)) {
              t.forEach(t => this._definitions.add(t));
            } else {
              this._definitions.add(t);
            }
          }

          getDispatcher() {
            return t => {
              t.on("attribute:linkHref", (t, e, n) => {
                if (!n.consumable.test(e.item, "attribute:linkHref")) {
                  return;
                }

                const i = n.writer;
                const o = i.document.selection;
                var _iteratorNormalCompletion308 = true;
                var _didIteratorError308 = false;
                var _iteratorError308 = undefined;

                try {
                  for (var _iterator308 = this._definitions[Symbol.iterator](), _step308; !(_iteratorNormalCompletion308 = (_step308 = _iterator308.next()).done); _iteratorNormalCompletion308 = true) {
                    const t = _step308.value;
                    const s = i.createAttributeElement("a", t.attributes, {
                      priority: 5
                    });
                    i.setCustomProperty("link", true, s);

                    if (t.callback(e.attributeNewValue)) {
                      if (e.item.is("selection")) {
                        i.wrap(o.getFirstRange(), s);
                      } else {
                        i.wrap(n.mapper.toViewRange(e.range), s);
                      }
                    } else {
                      i.unwrap(n.mapper.toViewRange(e.range), s);
                    }
                  }
                } catch (err) {
                  _didIteratorError308 = true;
                  _iteratorError308 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion308 && _iterator308.return != null) {
                      _iterator308.return();
                    }
                  } finally {
                    if (_didIteratorError308) {
                      throw _iteratorError308;
                    }
                  }
                }
              }, {
                priority: "high"
              });
            };
          }

        }

        class Tx {
          constructor({
            id: t,
            label: e,
            attributes: n
          }) {
            this.id = t;
            this.set("value");
            this.label = e;
            this.attributes = n;
          }

        }

        vr(Tx, Qc);

        function Cx({
          view: t,
          model: e,
          emitter: n,
          attribute: i,
          locale: o
        }) {
          const s = new Px(e, n, i);
          const r = e.document.selection;
          n.listenTo(t.document, "keydown", (t, e) => {
            if (!r.isCollapsed) {
              return;
            }

            if (e.shiftKey || e.altKey || e.ctrlKey) {
              return;
            }

            const n = e.keyCode == Dl.arrowright;
            const i = e.keyCode == Dl.arrowleft;

            if (!n && !i) {
              return;
            }

            const a = r.getFirstPosition();
            const c = o.contentLanguageDirection;
            let l;

            if (c === "ltr" && n || c === "rtl" && i) {
              l = s.handleForwardMovement(a, e);
            } else {
              l = s.handleBackwardMovement(a, e);
            }

            if (l) {
              t.stop();
            }
          }, {
            priority: or.get("high") + 1
          });
        }

        class Px {
          constructor(t, e, n) {
            this.model = t;
            this.attribute = n;
            this._modelSelection = t.document.selection;
            this._overrideUid = null;
            this._isNextGravityRestorationSkipped = false;
            e.listenTo(this._modelSelection, "change:range", (t, e) => {
              if (this._isNextGravityRestorationSkipped) {
                this._isNextGravityRestorationSkipped = false;
                return;
              }

              if (!this._isGravityOverridden) {
                return;
              }

              if (!e.directChange && Sx(this._modelSelection.getFirstPosition(), n)) {
                return;
              }

              this._restoreGravity();
            });
          }

          handleForwardMovement(t, e) {
            const n = this.attribute;

            if (this._isGravityOverridden) {
              return;
            }

            if (t.isAtStart && this._hasSelectionAttribute) {
              return;
            }

            if (Ix(t, n) && this._hasSelectionAttribute) {
              this._preventCaretMovement(e);

              this._removeSelectionAttribute();

              return true;
            }

            if (Mx(t, n)) {
              this._preventCaretMovement(e);

              this._overrideGravity();

              return true;
            }

            if (Ex(t, n) && this._hasSelectionAttribute) {
              this._preventCaretMovement(e);

              this._overrideGravity();

              return true;
            }
          }

          handleBackwardMovement(t, e) {
            const n = this.attribute;

            if (this._isGravityOverridden) {
              if (Ix(t, n) && this._hasSelectionAttribute) {
                this._preventCaretMovement(e);

                this._restoreGravity();

                this._removeSelectionAttribute();

                return true;
              } else {
                this._preventCaretMovement(e);

                this._restoreGravity();

                if (t.isAtStart) {
                  this._removeSelectionAttribute();
                }

                return true;
              }
            } else {
              if (Ix(t, n) && !this._hasSelectionAttribute) {
                this._preventCaretMovement(e);

                this._setSelectionAttributeFromTheNodeBefore(t);

                return true;
              }

              if (t.isAtEnd && Ex(t, n)) {
                if (this._hasSelectionAttribute) {
                  if (Nx(t, n)) {
                    this._skipNextAutomaticGravityRestoration();

                    this._overrideGravity();
                  }

                  return;
                } else {
                  this._preventCaretMovement(e);

                  this._setSelectionAttributeFromTheNodeBefore(t);

                  return true;
                }
              }

              if (t.isAtStart) {
                if (this._hasSelectionAttribute) {
                  this._removeSelectionAttribute();

                  this._preventCaretMovement(e);

                  return true;
                }

                return;
              }

              if (Nx(t, n)) {
                this._skipNextAutomaticGravityRestoration();

                this._overrideGravity();
              }
            }
          }

          get _isGravityOverridden() {
            return !!this._overrideUid;
          }

          get _hasSelectionAttribute() {
            return this._modelSelection.hasAttribute(this.attribute);
          }

          _overrideGravity() {
            this._overrideUid = this.model.change(t => t.overrideSelectionGravity());
          }

          _restoreGravity() {
            this.model.change(t => {
              t.restoreSelectionGravity(this._overrideUid);
              this._overrideUid = null;
            });
          }

          _preventCaretMovement(t) {
            t.preventDefault();
          }

          _removeSelectionAttribute() {
            this.model.change(t => {
              t.removeSelectionAttribute(this.attribute);
            });
          }

          _setSelectionAttributeFromTheNodeBefore(t) {
            const e = this.attribute;
            this.model.change(n => {
              n.setSelectionAttribute(this.attribute, t.nodeBefore.getAttribute(e));
            });
          }

          _skipNextAutomaticGravityRestoration() {
            this._isNextGravityRestorationSkipped = true;
          }

        }

        function Sx(t, e) {
          return Mx(t, e) || Ex(t, e);
        }

        function Mx(t, e) {
          const n = t.nodeBefore,
                i = t.nodeAfter;
          const o = n ? n.hasAttribute(e) : false;
          const s = i ? i.hasAttribute(e) : false;
          return s && (!o || n.getAttribute(e) !== i.getAttribute(e));
        }

        function Ex(t, e) {
          const n = t.nodeBefore,
                i = t.nodeAfter;
          const o = n ? n.hasAttribute(e) : false;
          const s = i ? i.hasAttribute(e) : false;
          return o && (!s || n.getAttribute(e) !== i.getAttribute(e));
        }

        function Ix(t, e) {
          const n = t.nodeBefore,
                i = t.nodeAfter;
          const o = n ? n.hasAttribute(e) : false;
          const s = i ? i.hasAttribute(e) : false;

          if (!s || !o) {
            return;
          }

          return i.getAttribute(e) !== n.getAttribute(e);
        }

        function Nx(t, e) {
          return Sx(t.getShiftedBy(-1), e);
        }

        var Ox = n(72);
        const Rx = "ck-link_selected";
        const Dx = "automatic";
        const Lx = "manual";
        const zx = /^(https?:)?\/\//;

        class jx extends Ow {
          static get pluginName() {
            return "LinkEditing";
          }

          constructor(t) {
            super(t);
            t.config.define("link", {
              addTargetToExternalLinks: false
            });
          }

          init() {
            const t = this.editor;
            const e = t.locale;
            t.model.schema.extend("$text", {
              allowAttributes: "linkHref"
            });
            t.conversion.for("dataDowncast").attributeToElement({
              model: "linkHref",
              view: _x
            });
            t.conversion.for("editingDowncast").attributeToElement({
              model: "linkHref",
              view: (t, e) => _x(kx(t), e)
            });
            t.conversion.for("upcast").elementToAttribute({
              view: {
                name: "a",
                attributes: {
                  href: true
                }
              },
              model: {
                key: "linkHref",
                value: t => t.getAttribute("href")
              }
            });
            t.commands.add("link", new Cy(t));
            t.commands.add("unlink", new Py(t));
            const n = yx(t.t, xx(t.config.get("link.decorators")));

            this._enableAutomaticDecorators(n.filter(t => t.mode === Dx));

            this._enableManualDecorators(n.filter(t => t.mode === Lx));

            Cx({
              view: t.editing.view,
              model: t.model,
              emitter: this,
              attribute: "linkHref",
              locale: e
            });

            this._setupLinkHighlight();
          }

          _enableAutomaticDecorators(t) {
            const e = this.editor;
            const n = new Ax();

            if (e.config.get("link.addTargetToExternalLinks")) {
              n.add({
                id: "linkIsExternal",
                mode: Dx,
                callback: t => zx.test(t),
                attributes: {
                  target: "_blank",
                  rel: "noopener noreferrer"
                }
              });
            }

            n.add(t);

            if (n.length) {
              e.conversion.for("downcast").add(n.getDispatcher());
            }
          }

          _enableManualDecorators(t) {
            if (!t.length) {
              return;
            }

            const e = this.editor;
            const n = e.commands.get("link");
            const i = n.manualDecorators;
            t.forEach(t => {
              e.model.schema.extend("$text", {
                allowAttributes: t.id
              });
              i.add(new Tx(t));
              e.conversion.for("downcast").attributeToElement({
                model: t.id,
                view: (e, n) => {
                  if (e) {
                    const e = i.get(t.id).attributes;
                    const o = n.createAttributeElement("a", e, {
                      priority: 5
                    });
                    n.setCustomProperty("link", true, o);
                    return o;
                  }
                }
              });
              e.conversion.for("upcast").elementToAttribute({
                view: {
                  name: "a",
                  attributes: i.get(t.id).attributes
                },
                model: {
                  key: t.id
                }
              });
            });
          }

          _setupLinkHighlight() {
            const t = this.editor;
            const e = t.editing.view;
            const n = new Set();
            e.document.registerPostFixer(e => {
              const i = t.model.document.selection;
              let o = false;

              if (i.hasAttribute("linkHref")) {
                const s = Ay(i.getFirstPosition(), i.getAttribute("linkHref"), t.model);
                const r = t.editing.mapper.toViewRange(s);
                var _iteratorNormalCompletion309 = true;
                var _didIteratorError309 = false;
                var _iteratorError309 = undefined;

                try {
                  for (var _iterator309 = r.getItems()[Symbol.iterator](), _step309; !(_iteratorNormalCompletion309 = (_step309 = _iterator309.next()).done); _iteratorNormalCompletion309 = true) {
                    const t = _step309.value;

                    if (t.is("a") && !t.hasClass(Rx)) {
                      e.addClass(Rx, t);
                      n.add(t);
                      o = true;
                    }
                  }
                } catch (err) {
                  _didIteratorError309 = true;
                  _iteratorError309 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion309 && _iterator309.return != null) {
                      _iterator309.return();
                    }
                  } finally {
                    if (_didIteratorError309) {
                      throw _iteratorError309;
                    }
                  }
                }
              }

              return o;
            });
            t.conversion.for("editingDowncast").add(t => {
              t.on("insert", i, {
                priority: "highest"
              });
              t.on("remove", i, {
                priority: "highest"
              });
              t.on("attribute", i, {
                priority: "highest"
              });
              t.on("selection", i, {
                priority: "highest"
              });

              function i() {
                e.change(t => {
                  var _iteratorNormalCompletion310 = true;
                  var _didIteratorError310 = false;
                  var _iteratorError310 = undefined;

                  try {
                    for (var _iterator310 = n.values()[Symbol.iterator](), _step310; !(_iteratorNormalCompletion310 = (_step310 = _iterator310.next()).done); _iteratorNormalCompletion310 = true) {
                      const e = _step310.value;
                      t.removeClass(Rx, e);
                      n.delete(e);
                    }
                  } catch (err) {
                    _didIteratorError310 = true;
                    _iteratorError310 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion310 && _iterator310.return != null) {
                        _iterator310.return();
                      }
                    } finally {
                      if (_didIteratorError310) {
                        throw _iteratorError310;
                      }
                    }
                  }
                });
              }
            });
          }

        }

        class Vx extends Ku {
          constructor(t) {
            super(t);
            this.domEventType = "click";
          }

          onDomEvent(t) {
            this.fire(t.type, t);
          }

        }

        var Bx = n(74);

        class Fx extends pb {
          constructor(t, e = []) {
            super(t);
            const n = t.t;
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this.urlInputView = this._createUrlInput();
            this.saveButtonView = this._createButton(n("bx"), hk, "ck-button-save");
            this.saveButtonView.type = "submit";
            this.cancelButtonView = this._createButton(n("by"), fk, "ck-button-cancel", "cancel");
            this._manualDecoratorSwitches = this._createManualDecoratorSwitches(e);
            this.children = this._createFormChildren(e);
            this._focusables = new Bp();
            this._focusCycler = new Ob({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {
                focusPrevious: "shift + tab",
                focusNext: "tab"
              }
            });
            const i = ["ck", "ck-link-form"];

            if (e.length) {
              i.push("ck-link-form_layout-vertical");
            }

            this.setTemplate({
              tag: "form",
              attributes: {
                class: i,
                tabindex: "-1"
              },
              children: this.children
            });
          }

          getDecoratorSwitchesState() {
            return Array.from(this._manualDecoratorSwitches).reduce((t, e) => {
              t[e.name] = e.isOn;
              return t;
            }, {});
          }

          render() {
            super.render();
            uk({
              view: this
            });
            const t = [this.urlInputView, ...this._manualDecoratorSwitches, this.saveButtonView, this.cancelButtonView];
            t.forEach(t => {
              this._focusables.add(t);

              this.focusTracker.add(t.element);
            });
            this.keystrokes.listenTo(this.element);
          }

          focus() {
            this._focusCycler.focusFirst();
          }

          _createUrlInput() {
            const t = this.locale.t;
            const e = new ck(this.locale, dk);
            e.label = t("cy");
            e.inputView.placeholder = "https://example.com";
            return e;
          }

          _createButton(t, e, n, i) {
            const o = new Xb(this.locale);
            o.set({
              label: t,
              icon: e,
              tooltip: true
            });
            o.extendTemplate({
              attributes: {
                class: n
              }
            });

            if (i) {
              o.delegate("execute").to(this, i);
            }

            return o;
          }

          _createManualDecoratorSwitches(t) {
            const e = this.createCollection();
            var _iteratorNormalCompletion311 = true;
            var _didIteratorError311 = false;
            var _iteratorError311 = undefined;

            try {
              for (var _iterator311 = t[Symbol.iterator](), _step311; !(_iteratorNormalCompletion311 = (_step311 = _iterator311.next()).done); _iteratorNormalCompletion311 = true) {
                const n = _step311.value;
                const t = new aw(this.locale);
                t.set({
                  name: n.id,
                  label: n.label,
                  withText: true
                });
                t.bind("isOn").to(n, "value");
                t.on("execute", () => {
                  n.set("value", !t.isOn);
                });
                e.add(t);
              }
            } catch (err) {
              _didIteratorError311 = true;
              _iteratorError311 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion311 && _iterator311.return != null) {
                  _iterator311.return();
                }
              } finally {
                if (_didIteratorError311) {
                  throw _iteratorError311;
                }
              }
            }

            return e;
          }

          _createFormChildren(t) {
            const e = this.createCollection();
            e.add(this.urlInputView);

            if (t.length) {
              const t = new pb();
              t.setTemplate({
                tag: "ul",
                children: this._manualDecoratorSwitches.map(t => ({
                  tag: "li",
                  children: [t],
                  attributes: {
                    class: ["ck", "ck-list__item"]
                  }
                })),
                attributes: {
                  class: ["ck", "ck-reset", "ck-list"]
                }
              });
              e.add(t);
            }

            e.add(this.saveButtonView);
            e.add(this.cancelButtonView);
            return e;
          }

        }

        var Hx = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 111.229.86l-1.148 1.64a.748.748 0 01-.217.206 5.251 5.251 0 01-8.503-5.955.741.741 0 01.12-.274l1.147-1.639a.75.75 0 111.228.86L4.933 10.7l.006.003a3.75 3.75 0 006.132 4.294l.006.004zm5.494-5.335a.748.748 0 01-.12.274l-1.147 1.639a.75.75 0 11-1.228-.86l.86-1.23a3.75 3.75 0 00-6.144-4.301l-.86 1.229a.75.75 0 01-1.229-.86l1.148-1.64a.748.748 0 01.217-.206 5.251 5.251 0 018.503 5.955zm-4.563-2.532a.75.75 0 01.184 1.045l-3.155 4.505a.75.75 0 11-1.229-.86l3.155-4.506a.75.75 0 011.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 11-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 011.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 011.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 01-1.06 1.06l-1.415-1.414z"/></svg>';
        var Ux = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 01-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 01.187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>';
        var Wx = n(76);

        class qx extends pb {
          constructor(t) {
            super(t);
            const e = t.t;
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this.previewButtonView = this._createPreviewButton();
            this.unlinkButtonView = this._createButton(e("cu"), Hx, "unlink");
            this.editButtonView = this._createButton(e("cv"), Ux, "edit");
            this.set("href");
            this._focusables = new Bp();
            this._focusCycler = new Ob({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {
                focusPrevious: "shift + tab",
                focusNext: "tab"
              }
            });
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-link-actions"],
                tabindex: "-1"
              },
              children: [this.previewButtonView, this.editButtonView, this.unlinkButtonView]
            });
          }

          render() {
            super.render();
            const t = [this.previewButtonView, this.editButtonView, this.unlinkButtonView];
            t.forEach(t => {
              this._focusables.add(t);

              this.focusTracker.add(t.element);
            });
            this.keystrokes.listenTo(this.element);
          }

          focus() {
            this._focusCycler.focusFirst();
          }

          _createButton(t, e, n) {
            const i = new Xb(this.locale);
            i.set({
              label: t,
              icon: e,
              tooltip: true
            });
            i.delegate("execute").to(this, n);
            return i;
          }

          _createPreviewButton() {
            const t = new Xb(this.locale);
            const e = this.bindTemplate;
            const n = this.t;
            t.set({
              withText: true,
              tooltip: n("cw")
            });
            t.extendTemplate({
              attributes: {
                class: ["ck", "ck-link-actions__preview"],
                href: e.to("href", t => t && kx(t)),
                target: "_blank",
                rel: "noopener noreferrer"
              }
            });
            t.bind("label").to(this, "href", t => t || n("cx"));
            t.bind("isEnabled").to(this, "href", t => !!t);
            t.template.tag = "a";
            t.template.eventListeners = {};
            return t;
          }

        }

        var $x = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 111.229.86l-1.148 1.64a.748.748 0 01-.217.206 5.251 5.251 0 01-8.503-5.955.741.741 0 01.12-.274l1.147-1.639a.75.75 0 111.228.86L4.933 10.7l.006.003a3.75 3.75 0 006.132 4.294l.006.004zm5.494-5.335a.748.748 0 01-.12.274l-1.147 1.639a.75.75 0 11-1.228-.86l.86-1.23a3.75 3.75 0 00-6.144-4.301l-.86 1.229a.75.75 0 01-1.229-.86l1.148-1.64a.748.748 0 01.217-.206 5.251 5.251 0 018.503 5.955zm-4.563-2.532a.75.75 0 01.184 1.045l-3.155 4.505a.75.75 0 11-1.229-.86l3.155-4.506a.75.75 0 011.045-.184z"/></svg>';
        const Yx = "Ctrl+K";

        class Gx extends Ow {
          static get requires() {
            return [Sk];
          }

          static get pluginName() {
            return "LinkUI";
          }

          init() {
            const t = this.editor;
            t.editing.view.addObserver(Vx);
            this.actionsView = this._createActionsView();
            this.formView = this._createFormView();
            this._balloon = t.plugins.get(Sk);

            this._createToolbarLinkButton();

            this._enableUserBalloonInteractions();
          }

          destroy() {
            super.destroy();
            this.formView.destroy();
          }

          _createActionsView() {
            const t = this.editor;
            const e = new qx(t.locale);
            const n = t.commands.get("link");
            const i = t.commands.get("unlink");
            e.bind("href").to(n, "value");
            e.editButtonView.bind("isEnabled").to(n);
            e.unlinkButtonView.bind("isEnabled").to(i);
            this.listenTo(e, "edit", () => {
              this._addFormView();
            });
            this.listenTo(e, "unlink", () => {
              t.execute("unlink");

              this._hideUI();
            });
            e.keystrokes.set("Esc", (t, e) => {
              this._hideUI();

              e();
            });
            e.keystrokes.set(Yx, (t, e) => {
              this._addFormView();

              e();
            });
            return e;
          }

          _createFormView() {
            const t = this.editor;
            const e = t.commands.get("link");
            const n = new Fx(t.locale, e.manualDecorators);
            n.urlInputView.bind("value").to(e, "value");
            n.urlInputView.bind("isReadOnly").to(e, "isEnabled", t => !t);
            n.saveButtonView.bind("isEnabled").to(e);
            this.listenTo(n, "submit", () => {
              t.execute("link", n.urlInputView.inputView.element.value, n.getDecoratorSwitchesState());

              this._closeFormView();
            });
            this.listenTo(n, "cancel", () => {
              this._closeFormView();
            });
            n.keystrokes.set("Esc", (t, e) => {
              this._closeFormView();

              e();
            });
            return n;
          }

          _createToolbarLinkButton() {
            const t = this.editor;
            const e = t.commands.get("link");
            const n = t.t;
            t.keystrokes.set(Yx, (t, e) => {
              e();

              this._showUI(true);
            });
            t.ui.componentFactory.add("link", t => {
              const i = new Xb(t);
              i.isEnabled = true;
              i.label = n("i");
              i.icon = $x;
              i.keystroke = Yx;
              i.tooltip = true;
              i.isToggleable = true;
              i.bind("isEnabled").to(e, "isEnabled");
              i.bind("isOn").to(e, "value", t => !!t);
              this.listenTo(i, "execute", () => this._showUI(true));
              return i;
            });
          }

          _enableUserBalloonInteractions() {
            const t = this.editor.editing.view.document;
            this.listenTo(t, "click", () => {
              const t = this._getSelectedLinkElement();

              if (t) {
                this._showUI();
              }
            });
            this.editor.keystrokes.set("Tab", (t, e) => {
              if (this._areActionsVisible && !this.actionsView.focusTracker.isFocused) {
                this.actionsView.focus();
                e();
              }
            }, {
              priority: "high"
            });
            this.editor.keystrokes.set("Esc", (t, e) => {
              if (this._isUIVisible) {
                this._hideUI();

                e();
              }
            });
            cw({
              emitter: this.formView,
              activator: () => this._isUIInPanel,
              contextElements: [this._balloon.view.element],
              callback: () => this._hideUI()
            });
          }

          _addActionsView() {
            if (this._areActionsInPanel) {
              return;
            }

            this._balloon.add({
              view: this.actionsView,
              position: this._getBalloonPositionData()
            });
          }

          _addFormView() {
            if (this._isFormInPanel) {
              return;
            }

            const t = this.editor;
            const e = t.commands.get("link");

            this._balloon.add({
              view: this.formView,
              position: this._getBalloonPositionData()
            });

            if (this._balloon.visibleView === this.formView) {
              this.formView.urlInputView.select();
            }

            this.formView.urlInputView.inputView.element.value = e.value || "";
          }

          _closeFormView() {
            const t = this.editor.commands.get("link");
            t.restoreManualDecoratorStates();

            if (t.value !== undefined) {
              this._removeFormView();
            } else {
              this._hideUI();
            }
          }

          _removeFormView() {
            if (this._isFormInPanel) {
              this.formView.saveButtonView.focus();

              this._balloon.remove(this.formView);

              this.editor.editing.view.focus();
            }
          }

          _showUI(t = false) {
            if (!this._getSelectedLinkElement()) {
              this._addActionsView();

              if (t) {
                this._balloon.showStack("main");
              }

              this._addFormView();
            } else {
              if (this._areActionsVisible) {
                this._addFormView();
              } else {
                this._addActionsView();
              }

              if (t) {
                this._balloon.showStack("main");
              }
            }

            this._startUpdatingUI();
          }

          _hideUI() {
            if (!this._isUIInPanel) {
              return;
            }

            const t = this.editor;
            this.stopListening(t.ui, "update");
            this.stopListening(this._balloon, "change:visibleView");
            t.editing.view.focus();

            this._removeFormView();

            this._balloon.remove(this.actionsView);
          }

          _startUpdatingUI() {
            const t = this.editor;
            const e = t.editing.view.document;

            let n = this._getSelectedLinkElement();

            let i = s();

            const o = () => {
              const t = this._getSelectedLinkElement();

              const e = s();

              if (n && !t || !n && e !== i) {
                this._hideUI();
              } else if (this._isUIVisible) {
                this._balloon.updatePosition(this._getBalloonPositionData());
              }

              n = t;
              i = e;
            };

            function s() {
              return e.selection.focus.getAncestors().reverse().find(t => t.is("element"));
            }

            this.listenTo(t.ui, "update", o);
            this.listenTo(this._balloon, "change:visibleView", o);
          }

          get _isFormInPanel() {
            return this._balloon.hasView(this.formView);
          }

          get _areActionsInPanel() {
            return this._balloon.hasView(this.actionsView);
          }

          get _areActionsVisible() {
            return this._balloon.visibleView === this.actionsView;
          }

          get _isUIInPanel() {
            return this._isFormInPanel || this._areActionsInPanel;
          }

          get _isUIVisible() {
            const t = this._balloon.visibleView;
            return t == this.formView || this._areActionsVisible;
          }

          _getBalloonPositionData() {
            const t = this.editor.editing.view;
            const e = t.document;

            const n = this._getSelectedLinkElement();

            const i = n ? t.domConverter.mapViewToDom(n) : t.domConverter.viewRangeToDom(e.selection.getFirstRange());
            return {
              target: i
            };
          }

          _getSelectedLinkElement() {
            const t = this.editor.editing.view;
            const e = t.document.selection;

            if (e.isCollapsed) {
              return Qx(e.getFirstPosition());
            } else {
              const n = e.getFirstRange().getTrimmed();
              const i = Qx(n.start);
              const o = Qx(n.end);

              if (!i || i != o) {
                return null;
              }

              if (t.createRangeIn(i).getTrimmed().isEqual(n)) {
                return i;
              } else {
                return null;
              }
            }
          }

        }

        function Qx(t) {
          return t.getAncestors().find(t => wx(t));
        }

        class Kx extends Ow {
          static get requires() {
            return [jx, Gx];
          }

          static get pluginName() {
            return "Link";
          }

        }

        class Jx extends zw {
          constructor(t, e) {
            super(t);
            this.type = e;
          }

          refresh() {
            this.value = this._getValue();
            this.isEnabled = this._checkEnabled();
          }

          execute() {
            const t = this.editor.model;
            const e = t.document;
            const n = Array.from(e.selection.getSelectedBlocks()).filter(e => Xx(e, t.schema));
            const i = this.value === true;
            t.change(t => {
              if (i) {
                let e = n[n.length - 1].nextSibling;
                let i = Number.POSITIVE_INFINITY;
                let o = [];

                while (e && e.name == "listItem" && e.getAttribute("listIndent") !== 0) {
                  const t = e.getAttribute("listIndent");

                  if (t < i) {
                    i = t;
                  }

                  const n = t - i;
                  o.push({
                    element: e,
                    listIndent: n
                  });
                  e = e.nextSibling;
                }

                o = o.reverse();
                var _iteratorNormalCompletion312 = true;
                var _didIteratorError312 = false;
                var _iteratorError312 = undefined;

                try {
                  for (var _iterator312 = o[Symbol.iterator](), _step312; !(_iteratorNormalCompletion312 = (_step312 = _iterator312.next()).done); _iteratorNormalCompletion312 = true) {
                    const e = _step312.value;
                    t.setAttribute("listIndent", e.listIndent, e.element);
                  }
                } catch (err) {
                  _didIteratorError312 = true;
                  _iteratorError312 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion312 && _iterator312.return != null) {
                      _iterator312.return();
                    }
                  } finally {
                    if (_didIteratorError312) {
                      throw _iteratorError312;
                    }
                  }
                }
              }

              if (!i) {
                let t = Number.POSITIVE_INFINITY;
                var _iteratorNormalCompletion313 = true;
                var _didIteratorError313 = false;
                var _iteratorError313 = undefined;

                try {
                  for (var _iterator313 = n[Symbol.iterator](), _step313; !(_iteratorNormalCompletion313 = (_step313 = _iterator313.next()).done); _iteratorNormalCompletion313 = true) {
                    const e = _step313.value;

                    if (e.is("listItem") && e.getAttribute("listIndent") < t) {
                      t = e.getAttribute("listIndent");
                    }
                  }
                } catch (err) {
                  _didIteratorError313 = true;
                  _iteratorError313 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion313 && _iterator313.return != null) {
                      _iterator313.return();
                    }
                  } finally {
                    if (_didIteratorError313) {
                      throw _iteratorError313;
                    }
                  }
                }

                t = t === 0 ? 1 : t;
                Zx(n, true, t);
                Zx(n, false, t);
              }

              var _iteratorNormalCompletion314 = true;
              var _didIteratorError314 = false;
              var _iteratorError314 = undefined;

              try {
                for (var _iterator314 = n.reverse()[Symbol.iterator](), _step314; !(_iteratorNormalCompletion314 = (_step314 = _iterator314.next()).done); _iteratorNormalCompletion314 = true) {
                  const e = _step314.value;

                  if (i && e.name == "listItem") {
                    t.rename(e, "paragraph");
                  } else if (!i && e.name != "listItem") {
                    t.setAttributes({
                      listType: this.type,
                      listIndent: 0
                    }, e);
                    t.rename(e, "listItem");
                  } else if (!i && e.name == "listItem" && e.getAttribute("listType") != this.type) {
                    t.setAttribute("listType", this.type, e);
                  }
                }
              } catch (err) {
                _didIteratorError314 = true;
                _iteratorError314 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion314 && _iterator314.return != null) {
                    _iterator314.return();
                  }
                } finally {
                  if (_didIteratorError314) {
                    throw _iteratorError314;
                  }
                }
              }
            });
          }

          _getValue() {
            const t = Vw(this.editor.model.document.selection.getSelectedBlocks());
            return !!t && t.is("listItem") && t.getAttribute("listType") == this.type;
          }

          _checkEnabled() {
            if (this.value) {
              return true;
            }

            const t = this.editor.model.document.selection;
            const e = this.editor.model.schema;
            const n = Vw(t.getSelectedBlocks());

            if (!n) {
              return false;
            }

            return Xx(n, e);
          }

        }

        function Zx(t, e, n) {
          const i = e ? t[0] : t[t.length - 1];

          if (i.is("listItem")) {
            let o = i[e ? "previousSibling" : "nextSibling"];
            let s = i.getAttribute("listIndent");

            while (o && o.is("listItem") && o.getAttribute("listIndent") >= n) {
              if (s > o.getAttribute("listIndent")) {
                s = o.getAttribute("listIndent");
              }

              if (o.getAttribute("listIndent") == s) {
                t[e ? "unshift" : "push"](o);
              }

              o = o[e ? "previousSibling" : "nextSibling"];
            }
          }
        }

        function Xx(t, e) {
          return e.checkChild(t.parent, "listItem") && !e.isObject(t);
        }

        class tA extends zw {
          constructor(t, e) {
            super(t);
            this._indentBy = e == "forward" ? 1 : -1;
          }

          refresh() {
            this.isEnabled = this._checkEnabled();
          }

          execute() {
            const t = this.editor.model;
            const e = t.document;
            let n = Array.from(e.selection.getSelectedBlocks());
            t.change(t => {
              const e = n[n.length - 1];
              let i = e.nextSibling;

              while (i && i.name == "listItem" && i.getAttribute("listIndent") > e.getAttribute("listIndent")) {
                n.push(i);
                i = i.nextSibling;
              }

              if (this._indentBy < 0) {
                n = n.reverse();
              }

              var _iteratorNormalCompletion315 = true;
              var _didIteratorError315 = false;
              var _iteratorError315 = undefined;

              try {
                for (var _iterator315 = n[Symbol.iterator](), _step315; !(_iteratorNormalCompletion315 = (_step315 = _iterator315.next()).done); _iteratorNormalCompletion315 = true) {
                  const e = _step315.value;

                  const n = e.getAttribute("listIndent") + this._indentBy;

                  if (n < 0) {
                    t.rename(e, "paragraph");
                  } else {
                    t.setAttribute("listIndent", n, e);
                  }
                }
              } catch (err) {
                _didIteratorError315 = true;
                _iteratorError315 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion315 && _iterator315.return != null) {
                    _iterator315.return();
                  }
                } finally {
                  if (_didIteratorError315) {
                    throw _iteratorError315;
                  }
                }
              }
            });
          }

          _checkEnabled() {
            const t = Vw(this.editor.model.document.selection.getSelectedBlocks());

            if (!t || !t.is("listItem")) {
              return false;
            }

            if (this._indentBy > 0) {
              const e = t.getAttribute("listIndent");
              const n = t.getAttribute("listType");
              let i = t.previousSibling;

              while (i && i.is("listItem") && i.getAttribute("listIndent") >= e) {
                if (i.getAttribute("listIndent") == e) {
                  return i.getAttribute("listType") == n;
                }

                i = i.previousSibling;
              }

              return false;
            }

            return true;
          }

        }

        function eA(t) {
          const e = t.createContainerElement("li");
          e.getFillerOffset = cA;
          return e;
        }

        function nA(t, e) {
          const n = e.mapper;
          const i = e.writer;
          const o = t.getAttribute("listType") == "numbered" ? "ol" : "ul";
          const s = eA(i);
          const r = i.createContainerElement(o, null);
          i.insert(i.createPositionAt(r, 0), s);
          n.bindElements(t, s);
          return s;
        }

        function iA(t, e, n, i) {
          const o = e.parent;
          const s = n.mapper;
          const r = n.writer;
          let a = s.toViewPosition(i.createPositionBefore(t));
          const c = rA(t.previousSibling, {
            sameIndent: true,
            smallerIndent: true,
            listIndent: t.getAttribute("listIndent")
          });
          const l = t.previousSibling;

          if (c && c.getAttribute("listIndent") == t.getAttribute("listIndent")) {
            const t = s.toViewElement(c);
            a = r.breakContainer(r.createPositionAfter(t));
          } else {
            if (l && l.name == "listItem") {
              a = s.toViewPosition(i.createPositionAt(l, "end"));
            } else {
              a = s.toViewPosition(i.createPositionBefore(t));
            }
          }

          a = sA(a);
          r.insert(a, o);

          if (l && l.name == "listItem") {
            const t = s.toViewElement(l);
            const n = r.createRange(r.createPositionAt(t, 0), a);
            const i = n.getWalker({
              ignoreElementEnd: true
            });
            var _iteratorNormalCompletion316 = true;
            var _didIteratorError316 = false;
            var _iteratorError316 = undefined;

            try {
              for (var _iterator316 = i[Symbol.iterator](), _step316; !(_iteratorNormalCompletion316 = (_step316 = _iterator316.next()).done); _iteratorNormalCompletion316 = true) {
                const t = _step316.value;

                if (t.item.is("li")) {
                  const n = r.breakContainer(r.createPositionBefore(t.item));
                  const o = t.item.parent;
                  const s = r.createPositionAt(e, "end");
                  oA(r, s.nodeBefore, s.nodeAfter);
                  r.move(r.createRangeOn(o), s);
                  i.position = n;
                }
              }
            } catch (err) {
              _didIteratorError316 = true;
              _iteratorError316 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion316 && _iterator316.return != null) {
                  _iterator316.return();
                }
              } finally {
                if (_didIteratorError316) {
                  throw _iteratorError316;
                }
              }
            }
          } else {
            const n = o.nextSibling;

            if (n && (n.is("ul") || n.is("ol"))) {
              let i = null;
              var _iteratorNormalCompletion317 = true;
              var _didIteratorError317 = false;
              var _iteratorError317 = undefined;

              try {
                for (var _iterator317 = n.getChildren()[Symbol.iterator](), _step317; !(_iteratorNormalCompletion317 = (_step317 = _iterator317.next()).done); _iteratorNormalCompletion317 = true) {
                  const e = _step317.value;
                  const n = s.toModelElement(e);

                  if (n && n.getAttribute("listIndent") > t.getAttribute("listIndent")) {
                    i = e;
                  } else {
                    break;
                  }
                }
              } catch (err) {
                _didIteratorError317 = true;
                _iteratorError317 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion317 && _iterator317.return != null) {
                    _iterator317.return();
                  }
                } finally {
                  if (_didIteratorError317) {
                    throw _iteratorError317;
                  }
                }
              }

              if (i) {
                r.breakContainer(r.createPositionAfter(i));
                r.move(r.createRangeOn(i.parent), r.createPositionAt(e, "end"));
              }
            }
          }

          oA(r, o, o.nextSibling);
          oA(r, o.previousSibling, o);
        }

        function oA(t, e, n) {
          if (!e || !n || e.name != "ul" && e.name != "ol") {
            return null;
          }

          if (e.name != n.name || e.getAttribute("class") !== n.getAttribute("class")) {
            return null;
          }

          return t.mergeContainers(t.createPositionAfter(e));
        }

        function sA(t) {
          return t.getLastMatchingPosition(t => t.item.is("uiElement"));
        }

        function rA(t, e) {
          const n = !!e.sameIndent;
          const i = !!e.smallerIndent;
          const o = e.listIndent;
          let s = t;

          while (s && s.name == "listItem") {
            const t = s.getAttribute("listIndent");

            if (n && o == t || i && o > t) {
              return s;
            }

            s = s.previousSibling;
          }

          return null;
        }

        function aA(t, e, n, i) {
          t.ui.componentFactory.add(e, o => {
            const s = t.commands.get(e);
            const r = new Xb(o);
            r.set({
              label: n,
              icon: i,
              tooltip: true,
              isToggleable: true
            });
            r.bind("isOn", "isEnabled").to(s, "value", "isEnabled");
            r.on("execute", () => {
              t.execute(e);
              t.editing.view.focus();
            });
            return r;
          });
        }

        function cA() {
          const t = !this.isEmpty && (this.getChild(0).name == "ul" || this.getChild(0).name == "ol");

          if (this.isEmpty || t) {
            return 0;
          }

          return Hc.call(this);
        }

        function lA(t) {
          return (e, n, i) => {
            const o = i.consumable;

            if (!o.test(n.item, "insert") || !o.test(n.item, "attribute:listType") || !o.test(n.item, "attribute:listIndent")) {
              return;
            }

            o.consume(n.item, "insert");
            o.consume(n.item, "attribute:listType");
            o.consume(n.item, "attribute:listIndent");
            const s = n.item;
            const r = nA(s, i);
            iA(s, r, i, t);
          };
        }

        function dA(t) {
          return (e, n, i) => {
            const o = i.mapper.toViewPosition(n.position).getLastMatchingPosition(t => !t.item.is("li"));
            const s = o.nodeAfter;
            const r = i.writer;
            r.breakContainer(r.createPositionBefore(s));
            r.breakContainer(r.createPositionAfter(s));
            const a = s.parent;
            const c = a.previousSibling;
            const l = r.createRangeOn(a);
            const d = r.remove(l);

            if (c && c.nextSibling) {
              oA(r, c, c.nextSibling);
            }

            const u = i.mapper.toModelElement(s);
            TA(u.getAttribute("listIndent") + 1, n.position, l.start, s, i, t);
            var _iteratorNormalCompletion318 = true;
            var _didIteratorError318 = false;
            var _iteratorError318 = undefined;

            try {
              for (var _iterator318 = r.createRangeIn(d).getItems()[Symbol.iterator](), _step318; !(_iteratorNormalCompletion318 = (_step318 = _iterator318.next()).done); _iteratorNormalCompletion318 = true) {
                const t = _step318.value;
                i.mapper.unbindViewElement(t);
              }
            } catch (err) {
              _didIteratorError318 = true;
              _iteratorError318 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion318 && _iterator318.return != null) {
                  _iterator318.return();
                }
              } finally {
                if (_didIteratorError318) {
                  throw _iteratorError318;
                }
              }
            }

            e.stop();
          };
        }

        function uA(t, e, n) {
          if (!n.consumable.consume(e.item, "attribute:listType")) {
            return;
          }

          const i = n.mapper.toViewElement(e.item);
          const o = n.writer;
          o.breakContainer(o.createPositionBefore(i));
          o.breakContainer(o.createPositionAfter(i));
          const s = i.parent;
          const r = e.attributeNewValue == "numbered" ? "ol" : "ul";
          o.rename(r, s);
        }

        function hA(t, e, n) {
          const i = n.mapper.toViewElement(e.item);
          const o = i.parent;
          const s = n.writer;
          oA(s, o, o.nextSibling);
          oA(s, o.previousSibling, o);
          var _iteratorNormalCompletion319 = true;
          var _didIteratorError319 = false;
          var _iteratorError319 = undefined;

          try {
            for (var _iterator319 = e.item.getChildren()[Symbol.iterator](), _step319; !(_iteratorNormalCompletion319 = (_step319 = _iterator319.next()).done); _iteratorNormalCompletion319 = true) {
              const t = _step319.value;
              n.consumable.consume(t, "insert");
            }
          } catch (err) {
            _didIteratorError319 = true;
            _iteratorError319 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion319 && _iterator319.return != null) {
                _iterator319.return();
              }
            } finally {
              if (_didIteratorError319) {
                throw _iteratorError319;
              }
            }
          }
        }

        function fA(t) {
          return (e, n, i) => {
            if (!i.consumable.consume(n.item, "attribute:listIndent")) {
              return;
            }

            const o = i.mapper.toViewElement(n.item);
            const s = i.writer;
            s.breakContainer(s.createPositionBefore(o));
            s.breakContainer(s.createPositionAfter(o));
            const r = o.parent;
            const a = r.previousSibling;
            const c = s.createRangeOn(r);
            s.remove(c);

            if (a && a.nextSibling) {
              oA(s, a, a.nextSibling);
            }

            TA(n.attributeOldValue + 1, n.range.start, c.start, o, i, t);
            iA(n.item, o, i, t);
            var _iteratorNormalCompletion320 = true;
            var _didIteratorError320 = false;
            var _iteratorError320 = undefined;

            try {
              for (var _iterator320 = n.item.getChildren()[Symbol.iterator](), _step320; !(_iteratorNormalCompletion320 = (_step320 = _iterator320.next()).done); _iteratorNormalCompletion320 = true) {
                const t = _step320.value;
                i.consumable.consume(t, "insert");
              }
            } catch (err) {
              _didIteratorError320 = true;
              _iteratorError320 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion320 && _iterator320.return != null) {
                  _iterator320.return();
                }
              } finally {
                if (_didIteratorError320) {
                  throw _iteratorError320;
                }
              }
            }
          };
        }

        function mA(t, e, n) {
          if (e.item.name != "listItem") {
            let t = n.mapper.toViewPosition(e.range.start);
            const i = n.writer;
            const o = [];

            while (t.parent.name == "ul" || t.parent.name == "ol") {
              t = i.breakContainer(t);

              if (t.parent.name != "li") {
                break;
              }

              const e = t;
              const n = i.createPositionAt(t.parent, "end");

              if (!e.isEqual(n)) {
                const t = i.remove(i.createRange(e, n));
                o.push(t);
              }

              t = i.createPositionAfter(t.parent);
            }

            if (o.length > 0) {
              for (let e = 0; e < o.length; e++) {
                const n = t.nodeBefore;
                const s = i.insert(t, o[e]);
                t = s.end;

                if (e > 0) {
                  const e = oA(i, n, n.nextSibling);

                  if (e && e.parent == n) {
                    t.offset--;
                  }
                }
              }

              oA(i, t.nodeBefore, t.nodeAfter);
            }
          }
        }

        function gA(t, e, n) {
          const i = n.mapper.toViewPosition(e.position);
          const o = i.nodeBefore;
          const s = i.nodeAfter;
          oA(n.writer, o, s);
        }

        function pA(t, e, n) {
          if (n.consumable.consume(e.viewItem, {
            name: true
          })) {
            const t = n.writer;
            const i = t.createElement("listItem");
            const o = PA(e.viewItem);
            t.setAttribute("listIndent", o, i);
            const s = e.viewItem.parent && e.viewItem.parent.name == "ol" ? "numbered" : "bulleted";
            t.setAttribute("listType", s, i);
            const r = n.splitToAllowedParent(i, e.modelCursor);

            if (!r) {
              return;
            }

            t.insert(i, r.position);
            const a = xA(i, e.viewItem.getChildren(), n);
            e.modelRange = t.createRange(e.modelCursor, a);

            if (r.cursorParent) {
              e.modelCursor = t.createPositionAt(r.cursorParent, 0);
            } else {
              e.modelCursor = e.modelRange.end;
            }
          }
        }

        function bA(t, e, n) {
          if (n.consumable.test(e.viewItem, {
            name: true
          })) {
            const t = Array.from(e.viewItem.getChildren());

            for (var _i38 = 0, _t12 = t; _i38 < _t12.length; _i38++) {
              const e = _t12[_i38];
              const t = !(e.is("li") || CA(e));

              if (t) {
                e._remove();
              }
            }
          }
        }

        function wA(t, e, n) {
          if (n.consumable.test(e.viewItem, {
            name: true
          })) {
            if (e.viewItem.childCount === 0) {
              return;
            }

            const t = [...e.viewItem.getChildren()];
            let n = false;
            let i = true;

            for (var _i39 = 0, _t13 = t; _i39 < _t13.length; _i39++) {
              const e = _t13[_i39];

              if (n && !CA(e)) {
                e._remove();
              }

              if (e.is("text")) {
                if (i) {
                  e._data = e.data.replace(/^\s+/, "");
                }

                if (!e.nextSibling || CA(e.nextSibling)) {
                  e._data = e.data.replace(/\s+$/, "");
                }
              } else if (CA(e)) {
                n = true;
              }

              i = false;
            }
          }
        }

        function _A(t) {
          return (e, n) => {
            if (n.isPhantom) {
              return;
            }

            const i = n.modelPosition.nodeBefore;

            if (i && i.is("listItem")) {
              const e = n.mapper.toViewElement(i);
              const o = e.getAncestors().find(CA);
              const s = t.createPositionAt(e, 0).getWalker();
              var _iteratorNormalCompletion321 = true;
              var _didIteratorError321 = false;
              var _iteratorError321 = undefined;

              try {
                for (var _iterator321 = s[Symbol.iterator](), _step321; !(_iteratorNormalCompletion321 = (_step321 = _iterator321.next()).done); _iteratorNormalCompletion321 = true) {
                  const t = _step321.value;

                  if (t.type == "elementStart" && t.item.is("li")) {
                    n.viewPosition = t.previousPosition;
                    break;
                  } else if (t.type == "elementEnd" && t.item == o) {
                    n.viewPosition = t.nextPosition;
                    break;
                  }
                }
              } catch (err) {
                _didIteratorError321 = true;
                _iteratorError321 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion321 && _iterator321.return != null) {
                    _iterator321.return();
                  }
                } finally {
                  if (_didIteratorError321) {
                    throw _iteratorError321;
                  }
                }
              }
            }
          };
        }

        function kA(t) {
          return (e, n) => {
            const i = n.viewPosition;
            const o = i.parent;
            const s = n.mapper;

            if (o.name == "ul" || o.name == "ol") {
              if (!i.isAtEnd) {
                const e = s.toModelElement(i.nodeAfter);
                n.modelPosition = t.createPositionBefore(e);
              } else {
                const e = s.toModelElement(i.nodeBefore);
                const o = s.getModelLength(i.nodeBefore);
                n.modelPosition = t.createPositionBefore(e).getShiftedBy(o);
              }

              e.stop();
            } else if (o.name == "li" && i.nodeBefore && (i.nodeBefore.name == "ul" || i.nodeBefore.name == "ol")) {
              const r = s.toModelElement(o);
              let a = 1;
              let c = i.nodeBefore;

              while (c && CA(c)) {
                a += s.getModelLength(c);
                c = c.previousSibling;
              }

              n.modelPosition = t.createPositionBefore(r).getShiftedBy(a);
              e.stop();
            }
          };
        }

        function vA(t, e) {
          const n = t.document.differ.getChanges();
          const i = new Map();
          let o = false;
          var _iteratorNormalCompletion322 = true;
          var _didIteratorError322 = false;
          var _iteratorError322 = undefined;

          try {
            for (var _iterator322 = n[Symbol.iterator](), _step322; !(_iteratorNormalCompletion322 = (_step322 = _iterator322.next()).done); _iteratorNormalCompletion322 = true) {
              const i = _step322.value;

              if (i.type == "insert" && i.name == "listItem") {
                s(i.position);
              } else if (i.type == "insert" && i.name != "listItem") {
                if (i.name != "$text") {
                  const n = i.position.nodeAfter;

                  if (n.hasAttribute("listIndent")) {
                    e.removeAttribute("listIndent", n);
                    o = true;
                  }

                  if (n.hasAttribute("listType")) {
                    e.removeAttribute("listType", n);
                    o = true;
                  }

                  var _iteratorNormalCompletion324 = true;
                  var _didIteratorError324 = false;
                  var _iteratorError324 = undefined;

                  try {
                    for (var _iterator324 = Array.from(t.createRangeIn(n)).filter(t => t.item.is("listItem"))[Symbol.iterator](), _step324; !(_iteratorNormalCompletion324 = (_step324 = _iterator324.next()).done); _iteratorNormalCompletion324 = true) {
                      const e = _step324.value;
                      s(e.previousPosition);
                    }
                  } catch (err) {
                    _didIteratorError324 = true;
                    _iteratorError324 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion324 && _iterator324.return != null) {
                        _iterator324.return();
                      }
                    } finally {
                      if (_didIteratorError324) {
                        throw _iteratorError324;
                      }
                    }
                  }
                }

                const n = i.position.getShiftedBy(i.length);
                s(n);
              } else if (i.type == "remove" && i.name == "listItem") {
                s(i.position);
              } else if (i.type == "attribute" && i.attributeKey == "listIndent") {
                s(i.range.start);
              } else if (i.type == "attribute" && i.attributeKey == "listType") {
                s(i.range.start);
              }
            }
          } catch (err) {
            _didIteratorError322 = true;
            _iteratorError322 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion322 && _iterator322.return != null) {
                _iterator322.return();
              }
            } finally {
              if (_didIteratorError322) {
                throw _iteratorError322;
              }
            }
          }

          var _iteratorNormalCompletion323 = true;
          var _didIteratorError323 = false;
          var _iteratorError323 = undefined;

          try {
            for (var _iterator323 = i.values()[Symbol.iterator](), _step323; !(_iteratorNormalCompletion323 = (_step323 = _iterator323.next()).done); _iteratorNormalCompletion323 = true) {
              const t = _step323.value;
              r(t);
              a(t);
            }
          } catch (err) {
            _didIteratorError323 = true;
            _iteratorError323 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion323 && _iterator323.return != null) {
                _iterator323.return();
              }
            } finally {
              if (_didIteratorError323) {
                throw _iteratorError323;
              }
            }
          }

          return o;

          function s(t) {
            const e = t.nodeBefore;

            if (!e || !e.is("listItem")) {
              const e = t.nodeAfter;

              if (e && e.is("listItem")) {
                i.set(e, e);
              }
            } else {
              let n = e;

              if (i.has(n)) {
                return;
              }

              while (n.previousSibling && n.previousSibling.is("listItem")) {
                n = n.previousSibling;

                if (i.has(n)) {
                  return;
                }
              }

              i.set(t.nodeBefore, n);
            }
          }

          function r(t) {
            let n = 0;
            let i = null;

            while (t && t.is("listItem")) {
              const s = t.getAttribute("listIndent");

              if (s > n) {
                let r;

                if (i === null) {
                  i = s - n;
                  r = n;
                } else {
                  if (i > s) {
                    i = s;
                  }

                  r = s - i;
                }

                e.setAttribute("listIndent", r, t);
                o = true;
              } else {
                i = null;
                n = t.getAttribute("listIndent") + 1;
              }

              t = t.nextSibling;
            }
          }

          function a(t) {
            let n = [];
            let i = null;

            while (t && t.is("listItem")) {
              const s = t.getAttribute("listIndent");

              if (i && i.getAttribute("listIndent") > s) {
                n = n.slice(0, s + 1);
              }

              if (s != 0) {
                if (n[s]) {
                  const i = n[s];

                  if (t.getAttribute("listType") != i) {
                    e.setAttribute("listType", i, t);
                    o = true;
                  }
                } else {
                  n[s] = t.getAttribute("listType");
                }
              }

              i = t;
              t = t.nextSibling;
            }
          }
        }

        function yA(t, [e, n]) {
          let i = e.is("documentFragment") ? e.getChild(0) : e;
          let o;

          if (!n) {
            o = this.document.selection;
          } else {
            o = this.createSelection(n);
          }

          if (i && i.is("listItem")) {
            const t = o.getFirstPosition();
            let e = null;

            if (t.parent.is("listItem")) {
              e = t.parent;
            } else if (t.nodeBefore && t.nodeBefore.is("listItem")) {
              e = t.nodeBefore;
            }

            if (e) {
              const t = e.getAttribute("listIndent");

              if (t > 0) {
                while (i && i.is("listItem")) {
                  i._setAttribute("listIndent", i.getAttribute("listIndent") + t);

                  i = i.nextSibling;
                }
              }
            }
          }
        }

        function xA(t, e, n) {
          const i = n.writer,
                o = n.schema;
          let s = i.createPositionAfter(t);
          var _iteratorNormalCompletion325 = true;
          var _didIteratorError325 = false;
          var _iteratorError325 = undefined;

          try {
            for (var _iterator325 = e[Symbol.iterator](), _step325; !(_iteratorNormalCompletion325 = (_step325 = _iterator325.next()).done); _iteratorNormalCompletion325 = true) {
              const r = _step325.value;

              if (r.name == "ul" || r.name == "ol") {
                s = n.convertItem(r, s).modelCursor;
              } else {
                const e = n.convertItem(r, i.createPositionAt(t, "end"));
                const a = e.modelRange.start.nodeAfter;
                const c = a && a.is("element") && !o.checkChild(t, a.name);

                if (c) {
                  if (e.modelCursor.parent.is("listItem")) {
                    t = e.modelCursor.parent;
                  } else {
                    t = AA(e.modelCursor);
                  }

                  s = i.createPositionAfter(t);
                }
              }
            }
          } catch (err) {
            _didIteratorError325 = true;
            _iteratorError325 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion325 && _iterator325.return != null) {
                _iterator325.return();
              }
            } finally {
              if (_didIteratorError325) {
                throw _iteratorError325;
              }
            }
          }

          return s;
        }

        function AA(t) {
          const e = new Wh({
            startPosition: t
          });
          let n;

          do {
            n = e.next();
          } while (!n.value.item.is("listItem"));

          return n.value.item;
        }

        function TA(t, e, n, i, o, s) {
          const r = rA(e.nodeBefore, {
            sameIndent: true,
            smallerIndent: true,
            listIndent: t,
            foo: "b"
          });
          const a = o.mapper;
          const c = o.writer;
          const l = r ? r.getAttribute("listIndent") : null;
          let d;

          if (!r) {
            d = n;
          } else if (l == t) {
            const t = a.toViewElement(r).parent;
            d = c.createPositionAfter(t);
          } else {
            const t = s.createPositionAt(r, "end");
            d = a.toViewPosition(t);
          }

          d = sA(d);

          for (var _i40 = 0, _arr2 = [...i.getChildren()]; _i40 < _arr2.length; _i40++) {
            const t = _arr2[_i40];

            if (CA(t)) {
              d = c.move(c.createRangeOn(t), d).end;
              oA(c, t, t.nextSibling);
              oA(c, t.previousSibling, t);
            }
          }
        }

        function CA(t) {
          return t.is("ol") || t.is("ul");
        }

        function PA(t) {
          let e = 0;
          let n = t.parent;

          while (n) {
            if (n.is("li")) {
              e++;
            } else {
              const t = n.previousSibling;

              if (t && t.is("li")) {
                e++;
              }
            }

            n = n.parent;
          }

          return e;
        }

        class SA extends Ow {
          static get pluginName() {
            return "ListEditing";
          }

          static get requires() {
            return [o_];
          }

          init() {
            const t = this.editor;
            t.model.schema.register("listItem", {
              inheritAllFrom: "$block",
              allowAttributes: ["listType", "listIndent"]
            });
            const e = t.data;
            const n = t.editing;
            t.model.document.registerPostFixer(e => vA(t.model, e));
            n.mapper.registerViewToModelLength("li", MA);
            e.mapper.registerViewToModelLength("li", MA);
            n.mapper.on("modelToViewPosition", _A(n.view));
            n.mapper.on("viewToModelPosition", kA(t.model));
            e.mapper.on("modelToViewPosition", _A(n.view));
            t.conversion.for("editingDowncast").add(e => {
              e.on("insert", mA, {
                priority: "high"
              });
              e.on("insert:listItem", lA(t.model));
              e.on("attribute:listType:listItem", uA, {
                priority: "high"
              });
              e.on("attribute:listType:listItem", hA, {
                priority: "low"
              });
              e.on("attribute:listIndent:listItem", fA(t.model));
              e.on("remove:listItem", dA(t.model));
              e.on("remove", gA, {
                priority: "low"
              });
            });
            t.conversion.for("dataDowncast").add(e => {
              e.on("insert", mA, {
                priority: "high"
              });
              e.on("insert:listItem", lA(t.model));
            });
            t.conversion.for("upcast").add(t => {
              t.on("element:ul", bA, {
                priority: "high"
              });
              t.on("element:ol", bA, {
                priority: "high"
              });
              t.on("element:li", wA, {
                priority: "high"
              });
              t.on("element:li", pA);
            });
            t.model.on("insertContent", yA, {
              priority: "high"
            });
            t.commands.add("numberedList", new Jx(t, "numbered"));
            t.commands.add("bulletedList", new Jx(t, "bulleted"));
            t.commands.add("indentList", new tA(t, "forward"));
            t.commands.add("outdentList", new tA(t, "backward"));
            const i = n.view.document;
            this.listenTo(i, "enter", (t, e) => {
              const n = this.editor.model.document;
              const i = n.selection.getLastPosition().parent;

              if (n.selection.isCollapsed && i.name == "listItem" && i.isEmpty) {
                this.editor.execute("outdentList");
                e.preventDefault();
                t.stop();
              }
            });
            this.listenTo(i, "delete", (t, e) => {
              if (e.direction !== "backward") {
                return;
              }

              const n = this.editor.model.document.selection;

              if (!n.isCollapsed) {
                return;
              }

              const i = n.getFirstPosition();

              if (!i.isAtStart) {
                return;
              }

              const o = i.parent;

              if (o.name !== "listItem") {
                return;
              }

              const s = o.previousSibling && o.previousSibling.name === "listItem";

              if (s) {
                return;
              }

              this.editor.execute("outdentList");
              e.preventDefault();
              t.stop();
            }, {
              priority: "high"
            });

            const o = t => (e, n) => {
              const i = this.editor.commands.get(t);

              if (i.isEnabled) {
                this.editor.execute(t);
                n();
              }
            };

            t.keystrokes.set("Tab", o("indentList"));
            t.keystrokes.set("Shift+Tab", o("outdentList"));
          }

          afterInit() {
            const t = this.editor.commands;
            const e = t.get("indent");
            const n = t.get("outdent");

            if (e) {
              e.registerChildCommand(t.get("indentList"));
            }

            if (n) {
              n.registerChildCommand(t.get("outdentList"));
            }
          }

        }

        function MA(t) {
          let e = 1;
          var _iteratorNormalCompletion326 = true;
          var _didIteratorError326 = false;
          var _iteratorError326 = undefined;

          try {
            for (var _iterator326 = t.getChildren()[Symbol.iterator](), _step326; !(_iteratorNormalCompletion326 = (_step326 = _iterator326.next()).done); _iteratorNormalCompletion326 = true) {
              const n = _step326.value;

              if (n.name == "ul" || n.name == "ol") {
                var _iteratorNormalCompletion327 = true;
                var _didIteratorError327 = false;
                var _iteratorError327 = undefined;

                try {
                  for (var _iterator327 = n.getChildren()[Symbol.iterator](), _step327; !(_iteratorNormalCompletion327 = (_step327 = _iterator327.next()).done); _iteratorNormalCompletion327 = true) {
                    const t = _step327.value;
                    e += MA(t);
                  }
                } catch (err) {
                  _didIteratorError327 = true;
                  _iteratorError327 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion327 && _iterator327.return != null) {
                      _iterator327.return();
                    }
                  } finally {
                    if (_didIteratorError327) {
                      throw _iteratorError327;
                    }
                  }
                }
              }
            }
          } catch (err) {
            _didIteratorError326 = true;
            _iteratorError326 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion326 && _iterator326.return != null) {
                _iterator326.return();
              }
            } finally {
              if (_didIteratorError326) {
                throw _iteratorError326;
              }
            }
          }

          return e;
        }

        var EA = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 10-1.04 0H.302a2 2 0 113.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 01.75-.75h9.5a.75.75 0 110 1.5h-9.5a.75.75 0 01-.75-.75z"/></svg>';
        var IA = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';

        class NA extends Ow {
          init() {
            const t = this.editor.t;
            aA(this.editor, "numberedList", t("j"), EA);
            aA(this.editor, "bulletedList", t("k"), IA);
          }

        }

        class OA extends Ow {
          static get requires() {
            return [SA, NA];
          }

          static get pluginName() {
            return "List";
          }

        }

        function RA(t, e) {
          return t => {
            t.on("attribute:url:media", n);
          };

          function n(n, i, o) {
            if (!o.consumable.consume(i.item, n.name)) {
              return;
            }

            const s = i.attributeNewValue;
            const r = o.writer;
            const a = o.mapper.toViewElement(i.item);
            r.remove(r.createRangeIn(a));
            const c = t.getMediaViewElement(r, s, e);
            r.insert(r.createPositionAt(a, 0), c);
          }
        }

        function DA(t, e, n) {
          e.setCustomProperty("media", true, t);
          return S_(t, e, {
            label: n
          });
        }

        function LA(t) {
          const e = t.getSelectedElement();

          if (e && zA(e)) {
            return e;
          }

          return null;
        }

        function zA(t) {
          return !!t.getCustomProperty("media") && P_(t);
        }

        function jA(t, e, n, i) {
          const o = t.createContainerElement("figure", {
            class: "media"
          });
          o.getFillerOffset = FA;
          t.insert(t.createPositionAt(o, 0), e.getMediaViewElement(t, n, i));
          return o;
        }

        function VA(t) {
          const e = t.getSelectedElement();

          if (e && e.is("media")) {
            return e;
          }

          return null;
        }

        function BA(t, e, n) {
          t.change(i => {
            const o = i.createElement("media", {
              url: e
            });
            t.insertContent(o, n);
            i.setSelection(o, "on");
          });
        }

        function FA() {
          return null;
        }

        class HA extends zw {
          refresh() {
            const t = this.editor.model;
            const e = t.document.selection;
            const n = t.schema;
            const i = e.getFirstPosition();
            const o = VA(e);
            let s = i.parent;

            if (s != s.root) {
              s = s.parent;
            }

            this.value = o ? o.getAttribute("url") : null;
            this.isEnabled = n.checkChild(s, "media");
          }

          execute(t) {
            const e = this.editor.model;
            const n = e.document.selection;
            const i = VA(n);

            if (i) {
              e.change(e => {
                e.setAttribute("url", t, i);
              });
            } else {
              const i = O_(n, e);
              BA(e, t, i);
            }
          }

        }

        var UA = '<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0049 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 10-4.657 4.06v3.781H3.3a2.803 2.803 0 01-2.8-2.804V8.63a2.803 2.803 0 012.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0110.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 00-1 1v.05A4.244 4.244 0 1117.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 01.593-.35l9.05 4.977a.4.4 0 010 .701l-9.05 4.978a.4.4 0 01-.593-.35v-9.956z"/></svg>';
        const WA = "0 0 64 42";

        class qA {
          constructor(t, e) {
            const n = e.providers;
            const i = e.extraProviders || [];
            const o = new Set(e.removeProviders);
            const s = n.concat(i).filter(t => {
              const e = t.name;

              if (!e) {
                console.warn(Object(rr["a"])("media-embed-no-provider-name: The configured media provider has no name and cannot be used."), {
                  provider: t
                });
                return false;
              }

              return !o.has(e);
            });
            this.locale = t;
            this.providerDefinitions = s;
          }

          hasMedia(t) {
            return !!this._getMedia(t);
          }

          getMediaViewElement(t, e, n) {
            return this._getMedia(e).getViewElement(t, n);
          }

          _getMedia(t) {
            if (!t) {
              return new $A(this.locale);
            }

            t = t.trim();
            var _iteratorNormalCompletion328 = true;
            var _didIteratorError328 = false;
            var _iteratorError328 = undefined;

            try {
              for (var _iterator328 = this.providerDefinitions[Symbol.iterator](), _step328; !(_iteratorNormalCompletion328 = (_step328 = _iterator328.next()).done); _iteratorNormalCompletion328 = true) {
                const e = _step328.value;
                const n = e.html;
                let i = e.url;

                if (!Array.isArray(i)) {
                  i = [i];
                }

                var _iteratorNormalCompletion329 = true;
                var _didIteratorError329 = false;
                var _iteratorError329 = undefined;

                try {
                  for (var _iterator329 = i[Symbol.iterator](), _step329; !(_iteratorNormalCompletion329 = (_step329 = _iterator329.next()).done); _iteratorNormalCompletion329 = true) {
                    const e = _step329.value;

                    const i = this._getUrlMatches(t, e);

                    if (i) {
                      return new $A(this.locale, t, i, n);
                    }
                  }
                } catch (err) {
                  _didIteratorError329 = true;
                  _iteratorError329 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion329 && _iterator329.return != null) {
                      _iterator329.return();
                    }
                  } finally {
                    if (_didIteratorError329) {
                      throw _iteratorError329;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError328 = true;
              _iteratorError328 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion328 && _iterator328.return != null) {
                  _iterator328.return();
                }
              } finally {
                if (_didIteratorError328) {
                  throw _iteratorError328;
                }
              }
            }

            return null;
          }

          _getUrlMatches(t, e) {
            let n = t.match(e);

            if (n) {
              return n;
            }

            let i = t.replace(/^https?:\/\//, "");
            n = i.match(e);

            if (n) {
              return n;
            }

            i = i.replace(/^www\./, "");
            n = i.match(e);

            if (n) {
              return n;
            }

            return null;
          }

        }

        class $A {
          constructor(t, e, n, i) {
            this.url = this._getValidUrl(e);
            this._t = t.t;
            this._match = n;
            this._previewRenderer = i;
          }

          getViewElement(t, e) {
            const n = {};

            if (e.renderForEditingView || e.renderMediaPreview && this.url && this._previewRenderer) {
              if (this.url) {
                n["data-oembed-url"] = this.url;
              }

              if (e.renderForEditingView) {
                n.class = "ck-media__wrapper";
              }

              const i = this._getPreviewHtml(e);

              return t.createUIElement("div", n, function (t) {
                const e = this.toDomElement(t);
                e.innerHTML = i;
                return e;
              });
            } else {
              if (this.url) {
                n.url = this.url;
              }

              return t.createEmptyElement("oembed", n);
            }
          }

          _getPreviewHtml(t) {
            if (this._previewRenderer) {
              return this._previewRenderer(this._match);
            } else {
              if (this.url && t.renderForEditingView) {
                return this._getPlaceholderHtml();
              }

              return "";
            }
          }

          _getPlaceholderHtml() {
            const t = new Jb();
            const e = new Qb();
            t.text = this._t("Open media in new tab");
            e.content = UA;
            e.viewBox = WA;
            const n = new Up({
              tag: "div",
              attributes: {
                class: "ck ck-reset_all ck-media__placeholder"
              },
              children: [{
                tag: "div",
                attributes: {
                  class: "ck-media__placeholder__icon"
                },
                children: [e]
              }, {
                tag: "a",
                attributes: {
                  class: "ck-media__placeholder__url",
                  target: "_blank",
                  rel: "noopener noreferrer",
                  href: this.url
                },
                children: [{
                  tag: "span",
                  attributes: {
                    class: "ck-media__placeholder__url__text"
                  },
                  children: [this.url]
                }, t]
              }]
            }).render();
            return n.outerHTML;
          }

          _getValidUrl(t) {
            if (!t) {
              return null;
            }

            if (t.match(/^https?/)) {
              return t;
            }

            return "https://" + t;
          }

        }

        var YA = n(78);

        class GA extends Ow {
          static get pluginName() {
            return "MediaEmbedEditing";
          }

          constructor(t) {
            super(t);
            t.config.define("mediaEmbed", {
              providers: [{
                name: "dailymotion",
                url: /^dailymotion\.com\/video\/(\w+)/,
                html: t => {
                  const e = t[1];
                  return '<div style="position: relative; padding-bottom: 100%; height: 0; ">' + "<iframe src=\"https://www.dailymotion.com/embed/video/".concat(e, "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" ' + 'frameborder="0" width="480" height="270" allowfullscreen allow="autoplay">' + "</iframe>" + "</div>";
                }
              }, {
                name: "spotify",
                url: [/^open\.spotify\.com\/(artist\/\w+)/, /^open\.spotify\.com\/(album\/\w+)/, /^open\.spotify\.com\/(track\/\w+)/],
                html: t => {
                  const e = t[1];
                  return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">' + "<iframe src=\"https://open.spotify.com/embed/".concat(e, "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" ' + 'frameborder="0" allowtransparency="true" allow="encrypted-media">' + "</iframe>" + "</div>";
                }
              }, {
                name: "youtube",
                url: [/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/, /^(?:m\.)?youtube\.com\/v\/([\w-]+)/, /^youtube\.com\/embed\/([\w-]+)/, /^youtu\.be\/([\w-]+)/],
                html: t => {
                  const e = t[1];
                  return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' + "<iframe src=\"https://www.youtube.com/embed/".concat(e, "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" ' + 'frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>' + "</iframe>" + "</div>";
                }
              }, {
                name: "vimeo",
                url: [/^vimeo\.com\/(\d+)/, /^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/album\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/channels\/[^/]+\/(\d+)/, /^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/, /^vimeo\.com\/ondemand\/[^/]+\/(\d+)/, /^player\.vimeo\.com\/video\/(\d+)/],
                html: t => {
                  const e = t[1];
                  return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' + "<iframe src=\"https://player.vimeo.com/video/".concat(e, "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" ' + 'frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>' + "</iframe>" + "</div>";
                }
              }, {
                name: "instagram",
                url: /^instagram\.com\/p\/(\w+)/
              }, {
                name: "twitter",
                url: /^twitter\.com/
              }, {
                name: "googleMaps",
                url: /^google\.com\/maps/
              }, {
                name: "flickr",
                url: /^flickr\.com/
              }, {
                name: "facebook",
                url: /^facebook\.com/
              }]
            });
            this.registry = new qA(t.locale, t.config.get("mediaEmbed"));
          }

          init() {
            const t = this.editor;
            const e = t.model.schema;
            const n = t.t;
            const i = t.conversion;
            const o = t.config.get("mediaEmbed.previewsInData");
            const s = this.registry;
            t.commands.add("mediaEmbed", new HA(t));
            e.register("media", {
              isObject: true,
              isBlock: true,
              allowWhere: "$block",
              allowAttributes: ["url"]
            });
            i.for("dataDowncast").elementToElement({
              model: "media",
              view: (t, e) => {
                const n = t.getAttribute("url");
                return jA(e, s, n, {
                  renderMediaPreview: n && o
                });
              }
            });
            i.for("dataDowncast").add(RA(s, {
              renderMediaPreview: o
            }));
            i.for("editingDowncast").elementToElement({
              model: "media",
              view: (t, e) => {
                const i = t.getAttribute("url");
                const o = jA(e, s, i, {
                  renderForEditingView: true
                });
                return DA(o, e, n("l"));
              }
            });
            i.for("editingDowncast").add(RA(s, {
              renderForEditingView: true
            }));
            i.for("upcast").elementToElement({
              view: {
                name: "oembed",
                attributes: {
                  url: true
                }
              },
              model: (t, e) => {
                const n = t.getAttribute("url");

                if (s.hasMedia(n)) {
                  return e.createElement("media", {
                    url: n
                  });
                }
              }
            }).elementToElement({
              view: {
                name: "div",
                attributes: {
                  "data-oembed-url": true
                }
              },
              model: (t, e) => {
                const n = t.getAttribute("data-oembed-url");

                if (s.hasMedia(n)) {
                  return e.createElement("media", {
                    url: n
                  });
                }
              }
            });
          }

        }

        const QA = new Map();

        function KA(t, e, n) {
          let i = QA.get(t);

          if (!i) {
            i = new Map();
            QA.set(t, i);
          }

          i.set(e, n);
        }

        function JA(t, e) {
          const n = QA.get(t);

          if (n && n.has(e)) {
            return n.get(e);
          }

          return ZA;
        }

        function ZA(t) {
          return [t];
        }

        function XA(t, e, n = {}) {
          const i = JA(t.constructor, e.constructor);

          try {
            t = t.clone();
            return i(t, e, n);
          } catch (t) {
            throw t;
          }
        }

        function tT(t, e, n) {
          t = t.slice();
          e = e.slice();
          const i = new eT(n.document, n.useRelations, n.forceWeakRemove);
          i.setOriginalOperations(t);
          i.setOriginalOperations(e);
          const o = i.originalOperations;

          if (t.length == 0 || e.length == 0) {
            return {
              operationsA: t,
              operationsB: e,
              originalOperations: o
            };
          }

          const s = new WeakMap();
          var _iteratorNormalCompletion330 = true;
          var _didIteratorError330 = false;
          var _iteratorError330 = undefined;

          try {
            for (var _iterator330 = t[Symbol.iterator](), _step330; !(_iteratorNormalCompletion330 = (_step330 = _iterator330.next()).done); _iteratorNormalCompletion330 = true) {
              const e = _step330.value;
              s.set(e, 0);
            }
          } catch (err) {
            _didIteratorError330 = true;
            _iteratorError330 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion330 && _iterator330.return != null) {
                _iterator330.return();
              }
            } finally {
              if (_didIteratorError330) {
                throw _iteratorError330;
              }
            }
          }

          const r = {
            nextBaseVersionA: t[t.length - 1].baseVersion + 1,
            nextBaseVersionB: e[e.length - 1].baseVersion + 1,
            originalOperationsACount: t.length,
            originalOperationsBCount: e.length
          };
          let a = 0;

          while (a < t.length) {
            const n = t[a];
            const o = s.get(n);

            if (o == e.length) {
              a++;
              continue;
            }

            const r = e[o];
            const c = XA(n, r, i.getContext(n, r, true));
            const l = XA(r, n, i.getContext(r, n, false));
            i.updateRelation(n, r);
            i.setOriginalOperations(c, n);
            i.setOriginalOperations(l, r);
            var _iteratorNormalCompletion331 = true;
            var _didIteratorError331 = false;
            var _iteratorError331 = undefined;

            try {
              for (var _iterator331 = c[Symbol.iterator](), _step331; !(_iteratorNormalCompletion331 = (_step331 = _iterator331.next()).done); _iteratorNormalCompletion331 = true) {
                const t = _step331.value;
                s.set(t, o + l.length);
              }
            } catch (err) {
              _didIteratorError331 = true;
              _iteratorError331 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion331 && _iterator331.return != null) {
                  _iterator331.return();
                }
              } finally {
                if (_didIteratorError331) {
                  throw _iteratorError331;
                }
              }
            }

            t.splice(a, 1, ...c);
            e.splice(o, 1, ...l);
          }

          if (n.padWithNoOps) {
            const n = t.length - r.originalOperationsACount;
            const i = e.length - r.originalOperationsBCount;
            iT(t, i - n);
            iT(e, n - i);
          }

          nT(t, r.nextBaseVersionB);
          nT(e, r.nextBaseVersionA);
          return {
            operationsA: t,
            operationsB: e,
            originalOperations: o
          };
        }

        class eT {
          constructor(t, e, n = false) {
            this.originalOperations = new Map();
            this._history = t.history;
            this._useRelations = e;
            this._forceWeakRemove = !!n;
            this._relations = new Map();
          }

          setOriginalOperations(t, e = null) {
            const n = e ? this.originalOperations.get(e) : null;
            var _iteratorNormalCompletion332 = true;
            var _didIteratorError332 = false;
            var _iteratorError332 = undefined;

            try {
              for (var _iterator332 = t[Symbol.iterator](), _step332; !(_iteratorNormalCompletion332 = (_step332 = _iterator332.next()).done); _iteratorNormalCompletion332 = true) {
                const e = _step332.value;
                this.originalOperations.set(e, n || e);
              }
            } catch (err) {
              _didIteratorError332 = true;
              _iteratorError332 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion332 && _iterator332.return != null) {
                  _iterator332.return();
                }
              } finally {
                if (_didIteratorError332) {
                  throw _iteratorError332;
                }
              }
            }
          }

          updateRelation(t, e) {
            switch (t.constructor) {
              case tg:
                {
                  switch (e.constructor) {
                    case sg:
                      {
                        if (t.targetPosition.isEqual(e.sourcePosition) || e.movedRange.containsPosition(t.targetPosition)) {
                          this._setRelation(t, e, "insertAtSource");
                        } else if (t.targetPosition.isEqual(e.deletionPosition)) {
                          this._setRelation(t, e, "insertBetween");
                        } else if (t.targetPosition.isAfter(e.sourcePosition)) {
                          this._setRelation(t, e, "moveTargetAfter");
                        }

                        break;
                      }

                    case tg:
                      {
                        if (t.targetPosition.isEqual(e.sourcePosition) || t.targetPosition.isBefore(e.sourcePosition)) {
                          this._setRelation(t, e, "insertBefore");
                        } else {
                          this._setRelation(t, e, "insertAfter");
                        }

                        break;
                      }
                  }

                  break;
                }

              case rg:
                {
                  switch (e.constructor) {
                    case sg:
                      {
                        if (t.splitPosition.isBefore(e.sourcePosition)) {
                          this._setRelation(t, e, "splitBefore");
                        }

                        break;
                      }

                    case tg:
                      {
                        if (t.splitPosition.isEqual(e.sourcePosition) || t.splitPosition.isBefore(e.sourcePosition)) {
                          this._setRelation(t, e, "splitBefore");
                        }

                        break;
                      }
                  }

                  break;
                }

              case sg:
                {
                  switch (e.constructor) {
                    case sg:
                      {
                        if (!t.targetPosition.isEqual(e.sourcePosition)) {
                          this._setRelation(t, e, "mergeTargetNotMoved");
                        }

                        if (t.sourcePosition.isEqual(e.targetPosition)) {
                          this._setRelation(t, e, "mergeSourceNotMoved");
                        }

                        if (t.sourcePosition.isEqual(e.sourcePosition)) {
                          this._setRelation(t, e, "mergeSameElement");
                        }

                        break;
                      }

                    case rg:
                      {
                        if (t.sourcePosition.isEqual(e.splitPosition)) {
                          this._setRelation(t, e, "splitAtSource");
                        }
                      }
                  }

                  break;
                }

              case ng:
                {
                  const n = t.newRange;

                  if (!n) {
                    return;
                  }

                  switch (e.constructor) {
                    case tg:
                      {
                        const i = Yh._createFromPositionAndShift(e.sourcePosition, e.howMany);

                        const o = i.containsPosition(n.start) || i.start.isEqual(n.start);
                        const s = i.containsPosition(n.end) || i.end.isEqual(n.end);

                        if ((o || s) && !i.containsRange(n)) {
                          this._setRelation(t, e, {
                            side: o ? "left" : "right",
                            path: o ? n.start.path.slice() : n.end.path.slice()
                          });
                        }

                        break;
                      }

                    case sg:
                      {
                        const i = n.start.isEqual(e.targetPosition);
                        const o = n.start.isEqual(e.deletionPosition);
                        const s = n.end.isEqual(e.deletionPosition);
                        const r = n.end.isEqual(e.sourcePosition);

                        if (i || o || s || r) {
                          this._setRelation(t, e, {
                            wasInLeftElement: i,
                            wasStartBeforeMergedElement: o,
                            wasEndBeforeMergedElement: s,
                            wasInRightElement: r
                          });
                        }

                        break;
                      }
                  }

                  break;
                }
            }
          }

          getContext(t, e, n) {
            return {
              aIsStrong: n,
              aWasUndone: this._wasUndone(t),
              bWasUndone: this._wasUndone(e),
              abRelation: this._useRelations ? this._getRelation(t, e) : null,
              baRelation: this._useRelations ? this._getRelation(e, t) : null,
              forceWeakRemove: this._forceWeakRemove
            };
          }

          _wasUndone(t) {
            const e = this.originalOperations.get(t);
            return e.wasUndone || this._history.isUndoneOperation(e);
          }

          _getRelation(t, e) {
            const n = this.originalOperations.get(e);

            const i = this._history.getUndoneOperation(n);

            if (!i) {
              return null;
            }

            const o = this.originalOperations.get(t);

            const s = this._relations.get(o);

            if (s) {
              return s.get(i) || null;
            }

            return null;
          }

          _setRelation(t, e, n) {
            const i = this.originalOperations.get(t);
            const o = this.originalOperations.get(e);

            let s = this._relations.get(i);

            if (!s) {
              s = new Map();

              this._relations.set(i, s);
            }

            s.set(o, n);
          }

        }

        function nT(t, e) {
          var _iteratorNormalCompletion333 = true;
          var _didIteratorError333 = false;
          var _iteratorError333 = undefined;

          try {
            for (var _iterator333 = t[Symbol.iterator](), _step333; !(_iteratorNormalCompletion333 = (_step333 = _iterator333.next()).done); _iteratorNormalCompletion333 = true) {
              const n = _step333.value;
              n.baseVersion = e++;
            }
          } catch (err) {
            _didIteratorError333 = true;
            _iteratorError333 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion333 && _iterator333.return != null) {
                _iterator333.return();
              }
            } finally {
              if (_didIteratorError333) {
                throw _iteratorError333;
              }
            }
          }
        }

        function iT(t, e) {
          for (let n = 0; n < e; n++) {
            t.push(new Mg(0));
          }
        }

        KA(Zm, Zm, (t, e, n) => {
          if (t.key === e.key) {
            const i = t.range.getDifference(e.range).map(e => new Zm(e, t.key, t.oldValue, t.newValue, 0));
            const o = t.range.getIntersection(e.range);

            if (o) {
              if (n.aIsStrong) {
                i.push(new Zm(o, e.key, e.newValue, t.newValue, 0));
              }
            }

            if (i.length == 0) {
              return [new Mg(0)];
            }

            return i;
          } else {
            return [t];
          }
        });
        KA(Zm, eg, (t, e) => {
          if (t.range.start.hasSameParentAs(e.position) && t.range.containsPosition(e.position)) {
            const n = t.range._getTransformedByInsertion(e.position, e.howMany, !e.shouldReceiveAttributes);

            const i = n.map(e => new Zm(e, t.key, t.oldValue, t.newValue, t.baseVersion));

            if (e.shouldReceiveAttributes) {
              const n = oT(e, t.key, t.oldValue);

              if (n) {
                i.unshift(n);
              }
            }

            return i;
          }

          t.range = t.range._getTransformedByInsertion(e.position, e.howMany, false)[0];
          return [t];
        });

        function oT(t, e, n) {
          const i = t.nodes;
          const o = i.getNode(0).getAttribute(e);

          if (o == n) {
            return null;
          }

          const s = new Yh(t.position, t.position.getShiftedBy(t.howMany));
          return new Zm(s, e, o, n, 0);
        }

        KA(Zm, sg, (t, e) => {
          const n = [];

          if (t.range.start.hasSameParentAs(e.deletionPosition)) {
            if (t.range.containsPosition(e.deletionPosition) || t.range.start.isEqual(e.deletionPosition)) {
              n.push(Yh._createFromPositionAndShift(e.graveyardPosition, 1));
            }
          }

          const i = t.range._getTransformedByMergeOperation(e);

          if (!i.isCollapsed) {
            n.push(i);
          }

          return n.map(e => new Zm(e, t.key, t.oldValue, t.newValue, t.baseVersion));
        });
        KA(Zm, tg, (t, e) => {
          const n = sT(t.range, e);
          return n.map(e => new Zm(e, t.key, t.oldValue, t.newValue, t.baseVersion));
        });

        function sT(t, e) {
          const n = Yh._createFromPositionAndShift(e.sourcePosition, e.howMany);

          let i = null;
          let o = [];

          if (n.containsRange(t, true)) {
            i = t;
          } else if (t.start.hasSameParentAs(n.start)) {
            o = t.getDifference(n);
            i = t.getIntersection(n);
          } else {
            o = [t];
          }

          const s = [];
          var _iteratorNormalCompletion334 = true;
          var _didIteratorError334 = false;
          var _iteratorError334 = undefined;

          try {
            for (var _iterator334 = o[Symbol.iterator](), _step334; !(_iteratorNormalCompletion334 = (_step334 = _iterator334.next()).done); _iteratorNormalCompletion334 = true) {
              let t = _step334.value;
              t = t._getTransformedByDeletion(e.sourcePosition, e.howMany);
              const n = e.getMovedRangeStart();
              const i = t.start.hasSameParentAs(n);
              t = t._getTransformedByInsertion(n, e.howMany, i);
              s.push(...t);
            }
          } catch (err) {
            _didIteratorError334 = true;
            _iteratorError334 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion334 && _iterator334.return != null) {
                _iterator334.return();
              }
            } finally {
              if (_didIteratorError334) {
                throw _iteratorError334;
              }
            }
          }

          if (i) {
            s.push(i._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany, false)[0]);
          }

          return s;
        }

        KA(Zm, rg, (t, e) => {
          if (t.range.end.isEqual(e.insertionPosition)) {
            if (!e.graveyardPosition) {
              t.range.end.offset++;
            }

            return [t];
          }

          if (t.range.start.hasSameParentAs(e.splitPosition) && t.range.containsPosition(e.splitPosition)) {
            const n = t.clone();
            n.range = new Yh(e.moveTargetPosition.clone(), t.range.end._getCombined(e.splitPosition, e.moveTargetPosition));
            t.range.end = e.splitPosition.clone();
            t.range.end.stickiness = "toPrevious";
            return [t, n];
          }

          t.range = t.range._getTransformedBySplitOperation(e);
          return [t];
        });
        KA(eg, Zm, (t, e) => {
          const n = [t];

          if (t.shouldReceiveAttributes && t.position.hasSameParentAs(e.range.start) && e.range.containsPosition(t.position)) {
            const i = oT(t, e.key, e.newValue);

            if (i) {
              n.push(i);
            }
          }

          return n;
        });
        KA(eg, eg, (t, e, n) => {
          if (t.position.isEqual(e.position) && n.aIsStrong) {
            return [t];
          }

          t.position = t.position._getTransformedByInsertOperation(e);
          return [t];
        });
        KA(eg, tg, (t, e) => {
          t.position = t.position._getTransformedByMoveOperation(e);
          return [t];
        });
        KA(eg, rg, (t, e) => {
          t.position = t.position._getTransformedBySplitOperation(e);
          return [t];
        });
        KA(eg, sg, (t, e) => {
          t.position = t.position._getTransformedByMergeOperation(e);
          return [t];
        });
        KA(ng, eg, (t, e) => {
          if (t.oldRange) {
            t.oldRange = t.oldRange._getTransformedByInsertOperation(e)[0];
          }

          if (t.newRange) {
            t.newRange = t.newRange._getTransformedByInsertOperation(e)[0];
          }

          return [t];
        });
        KA(ng, ng, (t, e, n) => {
          if (t.name == e.name) {
            if (n.aIsStrong) {
              t.oldRange = e.newRange ? e.newRange.clone() : null;
            } else {
              return [new Mg(0)];
            }
          }

          return [t];
        });
        KA(ng, sg, (t, e) => {
          if (t.oldRange) {
            t.oldRange = t.oldRange._getTransformedByMergeOperation(e);
          }

          if (t.newRange) {
            t.newRange = t.newRange._getTransformedByMergeOperation(e);
          }

          return [t];
        });
        KA(ng, tg, (t, e, n) => {
          if (t.oldRange) {
            t.oldRange = Yh._createFromRanges(t.oldRange._getTransformedByMoveOperation(e));
          }

          if (t.newRange) {
            if (n.abRelation) {
              const i = Yh._createFromRanges(t.newRange._getTransformedByMoveOperation(e));

              if (n.abRelation.side == "left" && e.targetPosition.isEqual(t.newRange.start)) {
                t.newRange.start.path = n.abRelation.path;
                t.newRange.end = i.end;
                return [t];
              } else if (n.abRelation.side == "right" && e.targetPosition.isEqual(t.newRange.end)) {
                t.newRange.start = i.start;
                t.newRange.end.path = n.abRelation.path;
                return [t];
              }
            }

            t.newRange = Yh._createFromRanges(t.newRange._getTransformedByMoveOperation(e));
          }

          return [t];
        });
        KA(ng, rg, (t, e, n) => {
          if (t.oldRange) {
            t.oldRange = t.oldRange._getTransformedBySplitOperation(e);
          }

          if (t.newRange) {
            if (n.abRelation) {
              const i = t.newRange._getTransformedBySplitOperation(e);

              if (t.newRange.start.isEqual(e.splitPosition) && n.abRelation.wasStartBeforeMergedElement) {
                t.newRange.start = $h._createAt(e.insertionPosition);
              } else if (t.newRange.start.isEqual(e.splitPosition) && !n.abRelation.wasInLeftElement) {
                t.newRange.start = $h._createAt(e.moveTargetPosition);
              }

              if (t.newRange.end.isEqual(e.splitPosition) && n.abRelation.wasInRightElement) {
                t.newRange.end = $h._createAt(e.moveTargetPosition);
              } else if (t.newRange.end.isEqual(e.splitPosition) && n.abRelation.wasEndBeforeMergedElement) {
                t.newRange.end = $h._createAt(e.insertionPosition);
              } else {
                t.newRange.end = i.end;
              }

              return [t];
            }

            t.newRange = t.newRange._getTransformedBySplitOperation(e);
          }

          return [t];
        });
        KA(sg, eg, (t, e) => {
          if (t.sourcePosition.hasSameParentAs(e.position)) {
            t.howMany += e.howMany;
          }

          t.sourcePosition = t.sourcePosition._getTransformedByInsertOperation(e);
          t.targetPosition = t.targetPosition._getTransformedByInsertOperation(e);
          return [t];
        });
        KA(sg, sg, (t, e, n) => {
          if (t.sourcePosition.isEqual(e.sourcePosition) && t.targetPosition.isEqual(e.targetPosition)) {
            if (!n.bWasUndone) {
              return [new Mg(0)];
            } else {
              const n = e.graveyardPosition.path.slice();
              n.push(0);
              t.sourcePosition = new $h(e.graveyardPosition.root, n);
              t.howMany = 0;
              return [t];
            }
          }

          if (t.sourcePosition.isEqual(e.sourcePosition) && !t.targetPosition.isEqual(e.targetPosition) && !n.bWasUndone && n.abRelation != "splitAtSource") {
            const i = t.targetPosition.root.rootName == "$graveyard";
            const o = e.targetPosition.root.rootName == "$graveyard";
            const s = i && !o;
            const r = o && !i;
            const a = r || !s && n.aIsStrong;

            if (a) {
              const n = e.targetPosition._getTransformedByMergeOperation(e);

              const i = t.targetPosition._getTransformedByMergeOperation(e);

              return [new tg(n, t.howMany, i, 0)];
            } else {
              return [new Mg(0)];
            }
          }

          if (t.sourcePosition.hasSameParentAs(e.targetPosition)) {
            t.howMany += e.howMany;
          }

          t.sourcePosition = t.sourcePosition._getTransformedByMergeOperation(e);
          t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e);

          if (!t.graveyardPosition.isEqual(e.graveyardPosition) || !n.aIsStrong) {
            t.graveyardPosition = t.graveyardPosition._getTransformedByMergeOperation(e);
          }

          return [t];
        });
        KA(sg, tg, (t, e, n) => {
          const i = Yh._createFromPositionAndShift(e.sourcePosition, e.howMany);

          if (e.type == "remove" && !n.bWasUndone && !n.forceWeakRemove) {
            if (t.deletionPosition.hasSameParentAs(e.sourcePosition) && i.containsPosition(t.sourcePosition)) {
              return [new Mg(0)];
            }
          }

          if (t.sourcePosition.hasSameParentAs(e.targetPosition)) {
            t.howMany += e.howMany;
          }

          if (t.sourcePosition.hasSameParentAs(e.sourcePosition)) {
            t.howMany -= e.howMany;
          }

          t.sourcePosition = t.sourcePosition._getTransformedByMoveOperation(e);
          t.targetPosition = t.targetPosition._getTransformedByMoveOperation(e);

          if (!t.graveyardPosition.isEqual(e.targetPosition)) {
            t.graveyardPosition = t.graveyardPosition._getTransformedByMoveOperation(e);
          }

          return [t];
        });
        KA(sg, rg, (t, e, n) => {
          if (e.graveyardPosition) {
            t.graveyardPosition = t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition, 1);

            if (t.deletionPosition.isEqual(e.graveyardPosition)) {
              t.howMany = e.howMany;
            }
          }

          if (t.targetPosition.isEqual(e.splitPosition)) {
            const i = e.howMany != 0;
            const o = e.graveyardPosition && t.deletionPosition.isEqual(e.graveyardPosition);

            if (i || o || n.abRelation == "mergeTargetNotMoved") {
              t.sourcePosition = t.sourcePosition._getTransformedBySplitOperation(e);
              return [t];
            }
          }

          if (t.sourcePosition.isEqual(e.splitPosition)) {
            if (n.abRelation == "mergeSourceNotMoved") {
              t.howMany = 0;
              t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e);
              return [t];
            }

            if (n.abRelation == "mergeSameElement" || t.sourcePosition.offset > 0) {
              t.sourcePosition = e.moveTargetPosition.clone();
              t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e);
              return [t];
            }
          }

          if (t.sourcePosition.hasSameParentAs(e.splitPosition)) {
            t.howMany = e.splitPosition.offset;
          }

          t.sourcePosition = t.sourcePosition._getTransformedBySplitOperation(e);
          t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e);
          return [t];
        });
        KA(tg, eg, (t, e) => {
          const n = Yh._createFromPositionAndShift(t.sourcePosition, t.howMany);

          const i = n._getTransformedByInsertOperation(e, false)[0];

          t.sourcePosition = i.start;
          t.howMany = i.end.offset - i.start.offset;

          if (!t.targetPosition.isEqual(e.position)) {
            t.targetPosition = t.targetPosition._getTransformedByInsertOperation(e);
          }

          return [t];
        });
        KA(tg, tg, (t, e, n) => {
          const i = Yh._createFromPositionAndShift(t.sourcePosition, t.howMany);

          const o = Yh._createFromPositionAndShift(e.sourcePosition, e.howMany);

          let s = n.aIsStrong;
          let r = !n.aIsStrong;

          if (n.abRelation == "insertBefore" || n.baRelation == "insertAfter") {
            r = true;
          } else if (n.abRelation == "insertAfter" || n.baRelation == "insertBefore") {
            r = false;
          }

          let a;

          if (t.targetPosition.isEqual(e.targetPosition) && r) {
            a = t.targetPosition._getTransformedByDeletion(e.sourcePosition, e.howMany);
          } else {
            a = t.targetPosition._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany);
          }

          if (rT(t, e) && rT(e, t)) {
            return [e.getReversed()];
          }

          const c = i.containsPosition(e.targetPosition);

          if (c && i.containsRange(o, true)) {
            i.start = i.start._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany);
            i.end = i.end._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany);
            return aT([i], a);
          }

          const l = o.containsPosition(t.targetPosition);

          if (l && o.containsRange(i, true)) {
            i.start = i.start._getCombined(e.sourcePosition, e.getMovedRangeStart());
            i.end = i.end._getCombined(e.sourcePosition, e.getMovedRangeStart());
            return aT([i], a);
          }

          const d = Or(t.sourcePosition.getParentPath(), e.sourcePosition.getParentPath());

          if (d == "prefix" || d == "extension") {
            i.start = i.start._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany);
            i.end = i.end._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany);
            return aT([i], a);
          }

          if (t.type == "remove" && e.type != "remove" && !n.aWasUndone && !n.forceWeakRemove) {
            s = true;
          } else if (t.type != "remove" && e.type == "remove" && !n.bWasUndone && !n.forceWeakRemove) {
            s = false;
          }

          const u = [];
          const h = i.getDifference(o);
          var _iteratorNormalCompletion335 = true;
          var _didIteratorError335 = false;
          var _iteratorError335 = undefined;

          try {
            for (var _iterator335 = h[Symbol.iterator](), _step335; !(_iteratorNormalCompletion335 = (_step335 = _iterator335.next()).done); _iteratorNormalCompletion335 = true) {
              const t = _step335.value;
              t.start = t.start._getTransformedByDeletion(e.sourcePosition, e.howMany);
              t.end = t.end._getTransformedByDeletion(e.sourcePosition, e.howMany);
              const n = Or(t.start.getParentPath(), e.getMovedRangeStart().getParentPath()) == "same";

              const i = t._getTransformedByInsertion(e.getMovedRangeStart(), e.howMany, n);

              u.push(...i);
            }
          } catch (err) {
            _didIteratorError335 = true;
            _iteratorError335 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion335 && _iterator335.return != null) {
                _iterator335.return();
              }
            } finally {
              if (_didIteratorError335) {
                throw _iteratorError335;
              }
            }
          }

          const f = i.getIntersection(o);

          if (f !== null && s) {
            f.start = f.start._getCombined(e.sourcePosition, e.getMovedRangeStart());
            f.end = f.end._getCombined(e.sourcePosition, e.getMovedRangeStart());

            if (u.length === 0) {
              u.push(f);
            } else if (u.length == 1) {
              if (o.start.isBefore(i.start) || o.start.isEqual(i.start)) {
                u.unshift(f);
              } else {
                u.push(f);
              }
            } else {
              u.splice(1, 0, f);
            }
          }

          if (u.length === 0) {
            return [new Mg(t.baseVersion)];
          }

          return aT(u, a);
        });
        KA(tg, rg, (t, e, n) => {
          let i = t.targetPosition.clone();

          if (!t.targetPosition.isEqual(e.insertionPosition) || !e.graveyardPosition || n.abRelation == "moveTargetAfter") {
            i = t.targetPosition._getTransformedBySplitOperation(e);
          }

          const o = Yh._createFromPositionAndShift(t.sourcePosition, t.howMany);

          if (o.end.isEqual(e.insertionPosition)) {
            if (!e.graveyardPosition) {
              t.howMany++;
            }

            t.targetPosition = i;
            return [t];
          }

          if (o.start.hasSameParentAs(e.splitPosition) && o.containsPosition(e.splitPosition)) {
            let t = new Yh(e.splitPosition, o.end);
            t = t._getTransformedBySplitOperation(e);
            const n = [new Yh(o.start, e.splitPosition), t];
            return aT(n, i);
          }

          if (t.targetPosition.isEqual(e.splitPosition) && n.abRelation == "insertAtSource") {
            i = e.moveTargetPosition;
          }

          if (t.targetPosition.isEqual(e.insertionPosition) && n.abRelation == "insertBetween") {
            i = t.targetPosition;
          }

          const s = o._getTransformedBySplitOperation(e);

          const r = [s];

          if (e.graveyardPosition) {
            const i = o.start.isEqual(e.graveyardPosition) || o.containsPosition(e.graveyardPosition);

            if (t.howMany > 1 && i && !n.aWasUndone) {
              r.push(Yh._createFromPositionAndShift(e.insertionPosition, 1));
            }
          }

          return aT(r, i);
        });
        KA(tg, sg, (t, e, n) => {
          const i = Yh._createFromPositionAndShift(t.sourcePosition, t.howMany);

          if (e.deletionPosition.hasSameParentAs(t.sourcePosition) && i.containsPosition(e.sourcePosition)) {
            if (t.type == "remove" && !n.forceWeakRemove) {
              if (!n.aWasUndone) {
                const n = [];
                let i = e.graveyardPosition.clone();

                let o = e.targetPosition._getTransformedByMergeOperation(e);

                if (t.howMany > 1) {
                  n.push(new tg(t.sourcePosition, t.howMany - 1, t.targetPosition, 0));
                  i = i._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany - 1);
                  o = o._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany - 1);
                }

                const s = e.deletionPosition._getCombined(t.sourcePosition, t.targetPosition);

                const r = new tg(i, 1, s, 0);
                const a = r.getMovedRangeStart().path.slice();
                a.push(0);
                const c = new $h(r.targetPosition.root, a);
                o = o._getTransformedByMove(i, s, 1);
                const l = new tg(o, e.howMany, c, 0);
                n.push(r);
                n.push(l);
                return n;
              }
            } else {
              if (t.howMany == 1) {
                if (!n.bWasUndone) {
                  return [new Mg(0)];
                } else {
                  t.sourcePosition = e.graveyardPosition.clone();
                  t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e);
                  return [t];
                }
              }
            }
          }

          const o = Yh._createFromPositionAndShift(t.sourcePosition, t.howMany);

          const s = o._getTransformedByMergeOperation(e);

          t.sourcePosition = s.start;
          t.howMany = s.end.offset - s.start.offset;
          t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e);
          return [t];
        });
        KA(ig, eg, (t, e) => {
          t.position = t.position._getTransformedByInsertOperation(e);
          return [t];
        });
        KA(ig, sg, (t, e) => {
          if (t.position.isEqual(e.deletionPosition)) {
            t.position = e.graveyardPosition.clone();
            t.position.stickiness = "toNext";
            return [t];
          }

          t.position = t.position._getTransformedByMergeOperation(e);
          return [t];
        });
        KA(ig, tg, (t, e) => {
          t.position = t.position._getTransformedByMoveOperation(e);
          return [t];
        });
        KA(ig, ig, (t, e, n) => {
          if (t.position.isEqual(e.position)) {
            if (n.aIsStrong) {
              t.oldName = e.newName;
            } else {
              return [new Mg(0)];
            }
          }

          return [t];
        });
        KA(ig, rg, (t, e) => {
          const n = t.position.path;
          const i = e.splitPosition.getParentPath();

          if (Or(n, i) == "same" && !e.graveyardPosition) {
            const e = new ig(t.position.getShiftedBy(1), t.oldName, t.newName, 0);
            return [t, e];
          }

          t.position = t.position._getTransformedBySplitOperation(e);
          return [t];
        });
        KA(og, og, (t, e, n) => {
          if (t.root === e.root && t.key === e.key) {
            if (!n.aIsStrong || t.newValue === e.newValue) {
              return [new Mg(0)];
            } else {
              t.oldValue = e.newValue;
            }
          }

          return [t];
        });
        KA(rg, eg, (t, e) => {
          if (t.splitPosition.hasSameParentAs(e.position) && t.splitPosition.offset < e.position.offset) {
            t.howMany += e.howMany;
          }

          t.splitPosition = t.splitPosition._getTransformedByInsertOperation(e);
          t.insertionPosition = rg.getInsertionPosition(t.splitPosition);
          return [t];
        });
        KA(rg, sg, (t, e, n) => {
          if (!t.graveyardPosition && !n.bWasUndone && t.splitPosition.hasSameParentAs(e.sourcePosition)) {
            const n = e.graveyardPosition.path.slice();
            n.push(0);
            const i = new $h(e.graveyardPosition.root, n);
            const o = rg.getInsertionPosition(new $h(e.graveyardPosition.root, n));
            const s = new rg(i, 0, null, 0);
            s.insertionPosition = o;
            t.splitPosition = t.splitPosition._getTransformedByMergeOperation(e);
            t.insertionPosition = rg.getInsertionPosition(t.splitPosition);
            t.graveyardPosition = s.insertionPosition.clone();
            t.graveyardPosition.stickiness = "toNext";
            return [s, t];
          }

          if (t.splitPosition.hasSameParentAs(e.deletionPosition) && !t.splitPosition.isAfter(e.deletionPosition)) {
            t.howMany--;
          }

          if (t.splitPosition.hasSameParentAs(e.targetPosition)) {
            t.howMany += e.howMany;
          }

          t.splitPosition = t.splitPosition._getTransformedByMergeOperation(e);
          t.insertionPosition = rg.getInsertionPosition(t.splitPosition);

          if (t.graveyardPosition) {
            t.graveyardPosition = t.graveyardPosition._getTransformedByMergeOperation(e);
          }

          return [t];
        });
        KA(rg, tg, (t, e, n) => {
          const i = Yh._createFromPositionAndShift(e.sourcePosition, e.howMany);

          if (t.graveyardPosition) {
            const o = i.start.isEqual(t.graveyardPosition) || i.containsPosition(t.graveyardPosition);

            if (!n.bWasUndone && o) {
              const n = t.splitPosition._getTransformedByMoveOperation(e);

              const i = t.graveyardPosition._getTransformedByMoveOperation(e);

              const o = i.path.slice();
              o.push(0);
              const s = new $h(i.root, o);
              const r = new tg(n, t.howMany, s, 0);
              return [r];
            }

            t.graveyardPosition = t.graveyardPosition._getTransformedByMoveOperation(e);
          }

          if (t.splitPosition.hasSameParentAs(e.sourcePosition) && i.containsPosition(t.splitPosition)) {
            const n = e.howMany - (t.splitPosition.offset - e.sourcePosition.offset);
            t.howMany -= n;

            if (t.splitPosition.hasSameParentAs(e.targetPosition) && t.splitPosition.offset < e.targetPosition.offset) {
              t.howMany += e.howMany;
            }

            t.splitPosition = e.sourcePosition.clone();
            t.insertionPosition = rg.getInsertionPosition(t.splitPosition);
            return [t];
          }

          const o = t.splitPosition.isEqual(e.targetPosition);

          if (o && (n.baRelation == "insertAtSource" || n.abRelation == "splitBefore")) {
            t.howMany += e.howMany;
            t.splitPosition = t.splitPosition._getTransformedByDeletion(e.sourcePosition, e.howMany);
            t.insertionPosition = rg.getInsertionPosition(t.splitPosition);
            return [t];
          }

          if (!e.sourcePosition.isEqual(e.targetPosition)) {
            if (t.splitPosition.hasSameParentAs(e.sourcePosition) && t.splitPosition.offset <= e.sourcePosition.offset) {
              t.howMany -= e.howMany;
            }

            if (t.splitPosition.hasSameParentAs(e.targetPosition) && t.splitPosition.offset < e.targetPosition.offset) {
              t.howMany += e.howMany;
            }
          }

          t.splitPosition.stickiness = "toNone";
          t.splitPosition = t.splitPosition._getTransformedByMoveOperation(e);
          t.splitPosition.stickiness = "toNext";

          if (t.graveyardPosition) {
            t.insertionPosition = t.insertionPosition._getTransformedByMoveOperation(e);
          } else {
            t.insertionPosition = rg.getInsertionPosition(t.splitPosition);
          }

          return [t];
        });
        KA(rg, rg, (t, e, n) => {
          if (t.splitPosition.isEqual(e.splitPosition)) {
            if (!t.graveyardPosition && !e.graveyardPosition) {
              return [new Mg(0)];
            }

            if (t.graveyardPosition && e.graveyardPosition && t.graveyardPosition.isEqual(e.graveyardPosition)) {
              return [new Mg(0)];
            }

            if (n.abRelation == "splitBefore") {
              t.howMany = 0;
              t.graveyardPosition = t.graveyardPosition._getTransformedBySplitOperation(e);
              return [t];
            }
          }

          if (t.graveyardPosition && e.graveyardPosition && t.graveyardPosition.isEqual(e.graveyardPosition)) {
            const i = t.splitPosition.root.rootName == "$graveyard";
            const o = e.splitPosition.root.rootName == "$graveyard";
            const s = i && !o;
            const r = o && !i;
            const a = r || !s && n.aIsStrong;

            if (a) {
              const n = [];

              if (e.howMany) {
                n.push(new tg(e.moveTargetPosition, e.howMany, e.splitPosition, 0));
              }

              if (t.howMany) {
                n.push(new tg(t.splitPosition, t.howMany, t.moveTargetPosition, 0));
              }

              return n;
            } else {
              return [new Mg(0)];
            }
          }

          if (t.graveyardPosition) {
            t.graveyardPosition = t.graveyardPosition._getTransformedBySplitOperation(e);
          }

          if (t.splitPosition.isEqual(e.insertionPosition) && n.abRelation == "splitBefore") {
            t.howMany++;
            return [t];
          }

          if (e.splitPosition.isEqual(t.insertionPosition) && n.baRelation == "splitBefore") {
            const n = e.insertionPosition.path.slice();
            n.push(0);
            const i = new $h(e.insertionPosition.root, n);
            const o = new tg(t.insertionPosition, 1, i, 0);
            return [t, o];
          }

          if (t.splitPosition.hasSameParentAs(e.splitPosition) && t.splitPosition.offset < e.splitPosition.offset) {
            t.howMany -= e.howMany;
          }

          t.splitPosition = t.splitPosition._getTransformedBySplitOperation(e);
          t.insertionPosition = rg.getInsertionPosition(t.splitPosition);
          return [t];
        });

        function rT(t, e) {
          return t.targetPosition._getTransformedByDeletion(e.sourcePosition, e.howMany) === null;
        }

        function aT(t, e) {
          const n = [];

          for (let i = 0; i < t.length; i++) {
            const o = t[i];
            const s = new tg(o.start, o.end.offset - o.start.offset, e, 0);
            n.push(s);

            for (let e = i + 1; e < t.length; e++) {
              t[e] = t[e]._getTransformedByMove(s.sourcePosition, s.targetPosition, s.howMany)[0];
            }

            e = e._getTransformedByMove(s.sourcePosition, s.targetPosition, s.howMany);
          }

          return n;
        }

        class cT extends zw {
          constructor(t) {
            super(t);
            this._stack = [];
            this._createdBatches = new WeakSet();
            this.refresh();
          }

          refresh() {
            this.isEnabled = this._stack.length > 0;
          }

          addBatch(t) {
            const e = this.editor.model.document.selection;
            const n = {
              ranges: e.hasOwnRange ? Array.from(e.getRanges()) : [],
              isBackward: e.isBackward
            };

            this._stack.push({
              batch: t,
              selection: n
            });

            this.refresh();
          }

          clearStack() {
            this._stack = [];
            this.refresh();
          }

          _restoreSelection(t, e, n) {
            const i = this.editor.model;
            const o = i.document;
            const s = [];
            var _iteratorNormalCompletion336 = true;
            var _didIteratorError336 = false;
            var _iteratorError336 = undefined;

            try {
              for (var _iterator336 = t[Symbol.iterator](), _step336; !(_iteratorNormalCompletion336 = (_step336 = _iterator336.next()).done); _iteratorNormalCompletion336 = true) {
                const e = _step336.value;
                const t = lT(e, n);
                const i = t.find(t => t.start.root != o.graveyard);

                if (i) {
                  s.push(i);
                }
              }
            } catch (err) {
              _didIteratorError336 = true;
              _iteratorError336 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion336 && _iterator336.return != null) {
                  _iterator336.return();
                }
              } finally {
                if (_didIteratorError336) {
                  throw _iteratorError336;
                }
              }
            }

            if (s.length) {
              i.change(t => {
                t.setSelection(s, {
                  backward: e
                });
              });
            }
          }

          _undo(t, e) {
            const n = this.editor.model;
            const i = n.document;

            this._createdBatches.add(e);

            const o = t.operations.slice().filter(t => t.isDocumentOperation);
            o.reverse();
            var _iteratorNormalCompletion337 = true;
            var _didIteratorError337 = false;
            var _iteratorError337 = undefined;

            try {
              for (var _iterator337 = o[Symbol.iterator](), _step337; !(_iteratorNormalCompletion337 = (_step337 = _iterator337.next()).done); _iteratorNormalCompletion337 = true) {
                const t = _step337.value;
                const o = t.baseVersion + 1;
                const s = Array.from(i.history.getOperations(o));
                const r = tT([t.getReversed()], s, {
                  useRelations: true,
                  document: this.editor.model.document,
                  padWithNoOps: false,
                  forceWeakRemove: true
                });
                const a = r.operationsA;
                var _iteratorNormalCompletion338 = true;
                var _didIteratorError338 = false;
                var _iteratorError338 = undefined;

                try {
                  for (var _iterator338 = a[Symbol.iterator](), _step338; !(_iteratorNormalCompletion338 = (_step338 = _iterator338.next()).done); _iteratorNormalCompletion338 = true) {
                    const o = _step338.value;
                    e.addOperation(o);
                    n.applyOperation(o);
                    i.history.setOperationAsUndone(t, o);
                  }
                } catch (err) {
                  _didIteratorError338 = true;
                  _iteratorError338 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion338 && _iterator338.return != null) {
                      _iterator338.return();
                    }
                  } finally {
                    if (_didIteratorError338) {
                      throw _iteratorError338;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError337 = true;
              _iteratorError337 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion337 && _iterator337.return != null) {
                  _iterator337.return();
                }
              } finally {
                if (_didIteratorError337) {
                  throw _iteratorError337;
                }
              }
            }
          }

        }

        function lT(t, e) {
          const n = t.getTransformedByOperations(e);
          n.sort((t, e) => t.start.isBefore(e.start) ? -1 : 1);

          for (let t = 1; t < n.length; t++) {
            const e = n[t - 1];
            const i = n[t];

            if (e.end.isTouching(i.start)) {
              e.end = i.end;
              n.splice(t, 1);
              t--;
            }
          }

          return n;
        }

        class dT extends cT {
          execute(t = null) {
            const e = t ? this._stack.findIndex(e => e.batch == t) : this._stack.length - 1;

            const n = this._stack.splice(e, 1)[0];

            const i = this.editor.model.createBatch("transparent");
            this.editor.model.enqueueChange(i, () => {
              this._undo(n.batch, i);

              const t = this.editor.model.document.history.getOperations(n.batch.baseVersion);

              this._restoreSelection(n.selection.ranges, n.selection.isBackward, t);

              this.fire("revert", n.batch, i);
            });
            this.refresh();
          }

        }

        class uT extends cT {
          execute() {
            const t = this._stack.pop();

            const e = this.editor.model.createBatch("transparent");
            this.editor.model.enqueueChange(e, () => {
              const n = t.batch.operations[t.batch.operations.length - 1];
              const i = n.baseVersion + 1;
              const o = this.editor.model.document.history.getOperations(i);

              this._restoreSelection(t.selection.ranges, t.selection.isBackward, o);

              this._undo(t.batch, e);
            });
            this.refresh();
          }

        }

        class hT extends Ow {
          static get pluginName() {
            return "UndoEditing";
          }

          constructor(t) {
            super(t);
            this._batchRegistry = new WeakSet();
          }

          init() {
            const t = this.editor;
            this._undoCommand = new dT(t);
            this._redoCommand = new uT(t);
            t.commands.add("undo", this._undoCommand);
            t.commands.add("redo", this._redoCommand);
            this.listenTo(t.model, "applyOperation", (t, e) => {
              const n = e[0];

              if (!n.isDocumentOperation) {
                return;
              }

              const i = n.batch;

              const o = this._redoCommand._createdBatches.has(i);

              const s = this._undoCommand._createdBatches.has(i);

              const r = this._batchRegistry.has(i);

              if (r || i.type == "transparent" && !o && !s) {
                return;
              } else {
                if (o) {
                  this._undoCommand.addBatch(i);
                } else if (!s) {
                  this._undoCommand.addBatch(i);

                  this._redoCommand.clearStack();
                }
              }

              this._batchRegistry.add(i);
            }, {
              priority: "highest"
            });
            this.listenTo(this._undoCommand, "revert", (t, e, n) => {
              this._redoCommand.addBatch(n);
            });
            t.keystrokes.set("CTRL+Z", "undo");
            t.keystrokes.set("CTRL+Y", "redo");
            t.keystrokes.set("CTRL+SHIFT+Z", "redo");
          }

        }

        var fT = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 01-.965 1.149l-3.788-3.18a.747.747 0 01-.21-.284.75.75 0 01.17-.945L6.23 4.762a.75.75 0 11.964 1.15L4.863 7.866h8.917A.75.75 0 0114 7.9a4 4 0 11-1.477 7.718l.344-1.489a2.5 2.5 0 101.094-4.73l.008-.032H5.042z"/></svg>';
        var mT = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 00.965 1.149l3.788-3.18a.747.747 0 00.21-.284.75.75 0 00-.17-.945L13.77 4.762a.75.75 0 10-.964 1.15l2.331 1.955H6.22A.75.75 0 006 7.9a4 4 0 101.477 7.718l-.344-1.489A2.5 2.5 0 116.039 9.4l-.008-.032h8.927z"/></svg>';

        class gT extends Ow {
          init() {
            const t = this.editor;
            const e = t.locale;
            const n = t.t;
            const i = e.uiLanguageDirection == "ltr" ? fT : mT;
            const o = e.uiLanguageDirection == "ltr" ? mT : fT;

            this._addButton("undo", n("bs"), "CTRL+Z", i);

            this._addButton("redo", n("bt"), "CTRL+Y", o);
          }

          _addButton(t, e, n, i) {
            const o = this.editor;
            o.ui.componentFactory.add(t, s => {
              const r = o.commands.get(t);
              const a = new Xb(s);
              a.set({
                label: e,
                icon: i,
                keystroke: n,
                tooltip: true
              });
              a.bind("isEnabled").to(r, "isEnabled");
              this.listenTo(a, "execute", () => {
                o.execute(t);
                o.editing.view.focus();
              });
              return a;
            });
          }

        }

        class pT extends Ow {
          static get requires() {
            return [hT, gT];
          }

          static get pluginName() {
            return "Undo";
          }

        }

        const bT = /^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;

        class wT extends Ow {
          static get requires() {
            return [oy, pT];
          }

          static get pluginName() {
            return "AutoMediaEmbed";
          }

          constructor(t) {
            super(t);
            this._timeoutId = null;
            this._positionToInsert = null;
          }

          init() {
            const t = this.editor;
            const e = t.model.document;
            this.listenTo(t.plugins.get(oy), "inputTransformation", () => {
              const t = e.selection.getFirstRange();
              const n = Ng.fromPosition(t.start);
              n.stickiness = "toPrevious";
              const i = Ng.fromPosition(t.end);
              i.stickiness = "toNext";
              e.once("change:data", () => {
                this._embedMediaBetweenPositions(n, i);

                n.detach();
                i.detach();
              }, {
                priority: "high"
              });
            });
            t.commands.get("undo").on("execute", () => {
              if (this._timeoutId) {
                Od.window.clearTimeout(this._timeoutId);

                this._positionToInsert.detach();

                this._timeoutId = null;
                this._positionToInsert = null;
              }
            }, {
              priority: "high"
            });
          }

          _embedMediaBetweenPositions(t, e) {
            const n = this.editor;
            const i = n.plugins.get(GA).registry;
            const o = new rf(t, e);
            const s = o.getWalker({
              ignoreElementEnd: true
            });
            let r = "";
            var _iteratorNormalCompletion339 = true;
            var _didIteratorError339 = false;
            var _iteratorError339 = undefined;

            try {
              for (var _iterator339 = s[Symbol.iterator](), _step339; !(_iteratorNormalCompletion339 = (_step339 = _iterator339.next()).done); _iteratorNormalCompletion339 = true) {
                const t = _step339.value;

                if (t.item.is("textProxy")) {
                  r += t.item.data;
                }
              }
            } catch (err) {
              _didIteratorError339 = true;
              _iteratorError339 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion339 && _iterator339.return != null) {
                  _iterator339.return();
                }
              } finally {
                if (_didIteratorError339) {
                  throw _iteratorError339;
                }
              }
            }

            r = r.trim();

            if (!r.match(bT)) {
              return;
            }

            if (!i.hasMedia(r)) {
              return;
            }

            const a = n.commands.get("mediaEmbed");

            if (!a.isEnabled) {
              return;
            }

            this._positionToInsert = Ng.fromPosition(t);
            this._timeoutId = Od.window.setTimeout(() => {
              n.model.change(t => {
                this._timeoutId = null;
                t.remove(o);
                let e;

                if (this._positionToInsert.root.rootName !== "$graveyard") {
                  e = this._positionToInsert;
                }

                BA(n.model, r, e);

                this._positionToInsert.detach();

                this._positionToInsert = null;
              });
            }, 100);
          }

        }

        var _T = n(80);

        class kT extends pb {
          constructor(t, e) {
            super(e);
            const n = e.t;
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this.urlInputView = this._createUrlInput();
            this.saveButtonView = this._createButton(n("bx"), hk, "ck-button-save");
            this.saveButtonView.type = "submit";
            this.cancelButtonView = this._createButton(n("by"), fk, "ck-button-cancel", "cancel");
            this._focusables = new Bp();
            this._focusCycler = new Ob({
              focusables: this._focusables,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {
                focusPrevious: "shift + tab",
                focusNext: "tab"
              }
            });
            this._validators = t;
            this.setTemplate({
              tag: "form",
              attributes: {
                class: ["ck", "ck-media-form"],
                tabindex: "-1"
              },
              children: [this.urlInputView, this.saveButtonView, this.cancelButtonView]
            });
          }

          render() {
            super.render();
            uk({
              view: this
            });
            const t = [this.urlInputView, this.saveButtonView, this.cancelButtonView];
            t.forEach(t => {
              this._focusables.add(t);

              this.focusTracker.add(t.element);
            });
            this.keystrokes.listenTo(this.element);

            const e = t => t.stopPropagation();

            this.keystrokes.set("arrowright", e);
            this.keystrokes.set("arrowleft", e);
            this.keystrokes.set("arrowup", e);
            this.keystrokes.set("arrowdown", e);
            this.listenTo(this.urlInputView.element, "selectstart", (t, e) => {
              e.stopPropagation();
            }, {
              priority: "high"
            });
          }

          focus() {
            this._focusCycler.focusFirst();
          }

          get url() {
            return this.urlInputView.inputView.element.value.trim();
          }

          set url(t) {
            this.urlInputView.inputView.element.value = t.trim();
          }

          isValid() {
            this.resetFormStatus();
            var _iteratorNormalCompletion340 = true;
            var _didIteratorError340 = false;
            var _iteratorError340 = undefined;

            try {
              for (var _iterator340 = this._validators[Symbol.iterator](), _step340; !(_iteratorNormalCompletion340 = (_step340 = _iterator340.next()).done); _iteratorNormalCompletion340 = true) {
                const t = _step340.value;
                const e = t(this);

                if (e) {
                  this.urlInputView.errorText = e;
                  return false;
                }
              }
            } catch (err) {
              _didIteratorError340 = true;
              _iteratorError340 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion340 && _iterator340.return != null) {
                  _iterator340.return();
                }
              } finally {
                if (_didIteratorError340) {
                  throw _iteratorError340;
                }
              }
            }

            return true;
          }

          resetFormStatus() {
            this.urlInputView.errorText = null;
            this.urlInputView.infoText = this._urlInputViewInfoDefault;
          }

          _createUrlInput() {
            const t = this.locale.t;
            const e = new ck(this.locale, dk);
            const n = e.inputView;
            this._urlInputViewInfoDefault = t("cp");
            this._urlInputViewInfoTip = t("cq");
            e.label = t("cr");
            e.infoText = this._urlInputViewInfoDefault;
            n.placeholder = "https://example.com";
            n.on("input", () => {
              e.infoText = n.element.value ? this._urlInputViewInfoTip : this._urlInputViewInfoDefault;
            });
            return e;
          }

          _createButton(t, e, n, i) {
            const o = new Xb(this.locale);
            o.set({
              label: t,
              icon: e,
              tooltip: true
            });
            o.extendTemplate({
              attributes: {
                class: n
              }
            });

            if (i) {
              o.delegate("execute").to(this, i);
            }

            return o;
          }

        }

        var vT = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V6.676z"/></svg>';

        class yT extends Ow {
          static get requires() {
            return [GA];
          }

          static get pluginName() {
            return "MediaEmbedUI";
          }

          init() {
            const t = this.editor;
            const e = t.commands.get("mediaEmbed");
            const n = t.plugins.get(GA).registry;
            this.form = new kT(xT(t.t, n), t.locale);
            t.ui.componentFactory.add("mediaEmbed", n => {
              const i = uw(n);

              this._setUpDropdown(i, this.form, e, t);

              this._setUpForm(this.form, i, e);

              return i;
            });
          }

          _setUpDropdown(t, e, n) {
            const i = this.editor;
            const o = i.t;
            const s = t.buttonView;
            t.bind("isEnabled").to(n);
            t.panelView.children.add(e);
            s.set({
              label: o("m"),
              icon: vT,
              tooltip: true
            });
            s.on("open", () => {
              e.url = n.value || "";
              e.urlInputView.select();
              e.focus();
            }, {
              priority: "low"
            });
            t.on("submit", () => {
              if (e.isValid()) {
                i.execute("mediaEmbed", e.url);
                r();
              }
            });
            t.on("change:isOpen", () => e.resetFormStatus());
            t.on("cancel", () => r());

            function r() {
              i.editing.view.focus();
              t.isOpen = false;
            }
          }

          _setUpForm(t, e, n) {
            t.delegate("submit", "cancel").to(e);
            t.urlInputView.bind("value").to(n, "value");
            t.urlInputView.bind("isReadOnly").to(n, "isEnabled", t => !t);
            t.saveButtonView.bind("isEnabled").to(n);
          }

        }

        function xT(t, e) {
          return [e => {
            if (!e.url.length) {
              return t("n");
            }
          }, n => {
            if (!e.hasMedia(n.url)) {
              return t("o");
            }
          }];
        }

        var AT = n(82);

        class TT extends Ow {
          static get requires() {
            return [GA, yT, wT, X_];
          }

          static get pluginName() {
            return "MediaEmbed";
          }

        }

        function CT(t, e) {
          var _iteratorNormalCompletion341 = true;
          var _didIteratorError341 = false;
          var _iteratorError341 = undefined;

          try {
            for (var _iterator341 = t.getChildren()[Symbol.iterator](), _step341; !(_iteratorNormalCompletion341 = (_step341 = _iterator341.next()).done); _iteratorNormalCompletion341 = true) {
              const n = _step341.value;

              if (n.is("b") && n.getStyle("font-weight") === "normal") {
                const i = t.getChildIndex(n);
                e.remove(n);
                e.insertChild(i, n.getChildren(), t);
              }
            }
          } catch (err) {
            _didIteratorError341 = true;
            _iteratorError341 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion341 && _iterator341.return != null) {
                _iterator341.return();
              }
            } finally {
              if (_didIteratorError341) {
                throw _iteratorError341;
              }
            }
          }
        }

        function PT(t, e) {
          if (!t.childCount) {
            return;
          }

          const n = new sy();
          const i = MT(t, n);

          if (!i.length) {
            return;
          }

          let o = null;
          i.forEach((t, s) => {
            if (!o || DT(i[s - 1], t)) {
              const i = ET(t, e);
              o = IT(i, t.element, n);
            }

            const r = NT(t.element, n);
            n.appendChild(r, o);
          });
        }

        function ST(t, e) {
          var _iteratorNormalCompletion342 = true;
          var _didIteratorError342 = false;
          var _iteratorError342 = undefined;

          try {
            for (var _iterator342 = e.createRangeIn(t)[Symbol.iterator](), _step342; !(_iteratorNormalCompletion342 = (_step342 = _iterator342.next()).done); _iteratorNormalCompletion342 = true) {
              const n = _step342.value;
              const t = n.item;

              if (t.is("li")) {
                const n = t.getChild(0);

                if (n.is("p")) {
                  e.unwrapElement(n);
                }
              }
            }
          } catch (err) {
            _didIteratorError342 = true;
            _iteratorError342 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion342 && _iterator342.return != null) {
                _iterator342.return();
              }
            } finally {
              if (_didIteratorError342) {
                throw _iteratorError342;
              }
            }
          }
        }

        function MT(t, e) {
          const n = e.createRangeIn(t);
          const i = new Ur({
            name: /^p|h\d+$/,
            styles: {
              "mso-list": /.*/
            }
          });
          const o = [];
          var _iteratorNormalCompletion343 = true;
          var _didIteratorError343 = false;
          var _iteratorError343 = undefined;

          try {
            for (var _iterator343 = n[Symbol.iterator](), _step343; !(_iteratorNormalCompletion343 = (_step343 = _iterator343.next()).done); _iteratorNormalCompletion343 = true) {
              const t = _step343.value;

              if (t.type === "elementStart" && i.match(t.item)) {
                const e = OT(t.item);
                o.push({
                  element: t.item,
                  id: e.id,
                  order: e.order,
                  indent: e.indent
                });
              }
            }
          } catch (err) {
            _didIteratorError343 = true;
            _iteratorError343 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion343 && _iterator343.return != null) {
                _iterator343.return();
              }
            } finally {
              if (_didIteratorError343) {
                throw _iteratorError343;
              }
            }
          }

          return o;
        }

        function ET(t, e) {
          const n = new RegExp("@list l".concat(t.id, ":level").concat(t.indent, "\\s*({[^}]*)"), "gi");
          const i = /mso-level-number-format:([^;]*);/gi;
          const o = n.exec(e);
          let s = "decimal";

          if (o && o[1]) {
            const t = i.exec(o[1]);

            if (t && t[1]) {
              s = t[1].trim();
            }
          }

          return {
            type: s !== "bullet" && s !== "image" ? "ol" : "ul",
            style: s
          };
        }

        function IT(t, e, n) {
          const i = new zc(t.type);
          const o = e.parent.getChildIndex(e);
          n.insertChild(o, i, e.parent);
          return i;
        }

        function NT(t, e) {
          RT(t, e);
          return e.rename("li", t);
        }

        function OT(t) {
          const e = {};
          const n = t.getStyle("mso-list");

          if (n) {
            const t = n.match(/(^|\s+)l(\d+)/i);
            const i = n.match(/\s*lfo(\d+)/i);
            const o = n.match(/\s*level(\d+)/i);

            if (t && i && o) {
              e.id = t[2];
              e.order = i[1];
              e.indent = o[1];
            }
          }

          return e;
        }

        function RT(t, e) {
          const n = new Ur({
            name: "span",
            styles: {
              "mso-list": "Ignore"
            }
          });
          const i = e.createRangeIn(t);
          var _iteratorNormalCompletion344 = true;
          var _didIteratorError344 = false;
          var _iteratorError344 = undefined;

          try {
            for (var _iterator344 = i[Symbol.iterator](), _step344; !(_iteratorNormalCompletion344 = (_step344 = _iterator344.next()).done); _iteratorNormalCompletion344 = true) {
              const t = _step344.value;

              if (t.type === "elementStart" && n.match(t.item)) {
                e.remove(t.item);
              }
            }
          } catch (err) {
            _didIteratorError344 = true;
            _iteratorError344 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion344 && _iterator344.return != null) {
                _iterator344.return();
              }
            } finally {
              if (_didIteratorError344) {
                throw _iteratorError344;
              }
            }
          }
        }

        function DT(t, e) {
          if (t.id !== e.id) {
            return true;
          }

          const n = e.element.previousSibling;

          if (!n) {
            return true;
          }

          return !LT(n);
        }

        function LT(t) {
          return t.is("ol") || t.is("ul");
        }

        const zT = /id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;

        class jT {
          isActive(t) {
            return zT.test(t);
          }

          execute(t) {
            const e = new sy();
            CT(t.content, e);
            ST(t.content, e);
          }

        }

        function VT(t) {
          return FT(FT(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g, "$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g, "").replace(/ <\//g, " </").replace(/ <o:p><\/o:p>/g, " <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g, "").replace(/>(\s*[\r\n]\s*)</g, "><");
        }

        function BT(t) {
          t.querySelectorAll("span[style*=spacerun]").forEach(t => {
            const e = t.childNodes && t.childNodes[0] && t.childNodes[0].data && t.childNodes[0].data.length || 0;
            t.innerHTML = Array(e + 1).join("  ").substr(0, e);
          });
        }

        function FT(t) {
          return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, (t, e) => e.length === 1 ? " " : Array(e.length + 1).join("  ").substr(0, e.length));
        }

        function HT(t) {
          const e = new DOMParser();
          t = t.replace(/<!--\[if gte vml 1]>/g, "");
          const n = VT(qT(t));
          const i = e.parseFromString(n, "text/html");
          BT(i);
          const o = i.body.innerHTML;
          const s = UT(i);
          const r = WT(i);
          return {
            body: s,
            bodyString: o,
            styles: r.styles,
            stylesString: r.stylesString
          };
        }

        function UT(t) {
          const e = new jd({
            blockFillerMode: "nbsp"
          });
          const n = t.createDocumentFragment();
          const i = t.body.childNodes;

          while (i.length > 0) {
            n.appendChild(i[0]);
          }

          return e.domToView(n);
        }

        function WT(t) {
          const e = [];
          const n = [];
          const i = Array.from(t.getElementsByTagName("style"));

          for (var _i42 = 0, _i41 = i; _i42 < _i41.length; _i42++) {
            const t = _i41[_i42];

            if (t.sheet && t.sheet.cssRules && t.sheet.cssRules.length) {
              e.push(t.sheet);
              n.push(t.innerHTML);
            }
          }

          return {
            styles: e,
            stylesString: n.join(" ")
          };
        }

        function qT(t) {
          const e = /<\/body>(.*?)(<\/html>|$)/;
          const n = t.match(e);

          if (n && n[1]) {
            t = t.slice(0, n.index) + t.slice(n.index).replace(n[1], "");
          }

          return t;
        }

        function $T(t, e) {
          if (!t.childCount) {
            return;
          }

          const n = new sy();
          const i = GT(t, n);
          QT(i, t, n);
          KT(t, n);
          const o = JT(t, n);

          if (o.length) {
            XT(o, ZT(e), n);
          }
        }

        function YT(t) {
          return btoa(t.match(/\w{2}/g).map(t => String.fromCharCode(parseInt(t, 16))).join(""));
        }

        function GT(t, e) {
          const n = e.createRangeIn(t);
          const i = new Ur({
            name: /v:(.+)/
          });
          const o = [];
          var _iteratorNormalCompletion345 = true;
          var _didIteratorError345 = false;
          var _iteratorError345 = undefined;

          try {
            for (var _iterator345 = n[Symbol.iterator](), _step345; !(_iteratorNormalCompletion345 = (_step345 = _iterator345.next()).done); _iteratorNormalCompletion345 = true) {
              const t = _step345.value;
              const e = t.item;
              const n = e.previousSibling && e.previousSibling.name || null;

              if (i.match(e) && e.getAttribute("o:gfxdata") && n !== "v:shapetype") {
                o.push(t.item.getAttribute("id"));
              }
            }
          } catch (err) {
            _didIteratorError345 = true;
            _iteratorError345 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion345 && _iterator345.return != null) {
                _iterator345.return();
              }
            } finally {
              if (_didIteratorError345) {
                throw _iteratorError345;
              }
            }
          }

          return o;
        }

        function QT(t, e, n) {
          const i = n.createRangeIn(e);
          const o = new Ur({
            name: "img"
          });
          const s = [];
          var _iteratorNormalCompletion346 = true;
          var _didIteratorError346 = false;
          var _iteratorError346 = undefined;

          try {
            for (var _iterator346 = i[Symbol.iterator](), _step346; !(_iteratorNormalCompletion346 = (_step346 = _iterator346.next()).done); _iteratorNormalCompletion346 = true) {
              const e = _step346.value;

              if (o.match(e.item)) {
                const n = e.item;
                const i = n.getAttribute("v:shapes") ? n.getAttribute("v:shapes").split(" ") : [];

                if (i.length && i.every(e => t.indexOf(e) > -1)) {
                  s.push(n);
                } else if (!n.getAttribute("src")) {
                  s.push(n);
                }
              }
            }
          } catch (err) {
            _didIteratorError346 = true;
            _iteratorError346 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion346 && _iterator346.return != null) {
                _iterator346.return();
              }
            } finally {
              if (_didIteratorError346) {
                throw _iteratorError346;
              }
            }
          }

          for (var _i43 = 0, _s4 = s; _i43 < _s4.length; _i43++) {
            const t = _s4[_i43];
            n.remove(t);
          }
        }

        function KT(t, e) {
          const n = e.createRangeIn(t);
          const i = new Ur({
            name: /v:(.+)/
          });
          const o = [];
          var _iteratorNormalCompletion347 = true;
          var _didIteratorError347 = false;
          var _iteratorError347 = undefined;

          try {
            for (var _iterator347 = n[Symbol.iterator](), _step347; !(_iteratorNormalCompletion347 = (_step347 = _iterator347.next()).done); _iteratorNormalCompletion347 = true) {
              const t = _step347.value;

              if (i.match(t.item)) {
                o.push(t.item);
              }
            }
          } catch (err) {
            _didIteratorError347 = true;
            _iteratorError347 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion347 && _iterator347.return != null) {
                _iterator347.return();
              }
            } finally {
              if (_didIteratorError347) {
                throw _iteratorError347;
              }
            }
          }

          for (var _i44 = 0, _o2 = o; _i44 < _o2.length; _i44++) {
            const t = _o2[_i44];
            e.remove(t);
          }
        }

        function JT(t, e) {
          const n = e.createRangeIn(t);
          const i = new Ur({
            name: "img"
          });
          const o = [];
          var _iteratorNormalCompletion348 = true;
          var _didIteratorError348 = false;
          var _iteratorError348 = undefined;

          try {
            for (var _iterator348 = n[Symbol.iterator](), _step348; !(_iteratorNormalCompletion348 = (_step348 = _iterator348.next()).done); _iteratorNormalCompletion348 = true) {
              const t = _step348.value;

              if (i.match(t.item)) {
                if (t.item.getAttribute("src").startsWith("file://")) {
                  o.push(t.item);
                }
              }
            }
          } catch (err) {
            _didIteratorError348 = true;
            _iteratorError348 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion348 && _iterator348.return != null) {
                _iterator348.return();
              }
            } finally {
              if (_didIteratorError348) {
                throw _iteratorError348;
              }
            }
          }

          return o;
        }

        function ZT(t) {
          if (!t) {
            return [];
          }

          const e = /{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/;
          const n = new RegExp("(?:(" + e.source + "))([\\da-fA-F\\s]+)\\}", "g");
          const i = t.match(n);
          const o = [];

          if (i) {
            var _iteratorNormalCompletion349 = true;
            var _didIteratorError349 = false;
            var _iteratorError349 = undefined;

            try {
              for (var _iterator349 = i[Symbol.iterator](), _step349; !(_iteratorNormalCompletion349 = (_step349 = _iterator349.next()).done); _iteratorNormalCompletion349 = true) {
                const t = _step349.value;
                let n = false;

                if (t.includes("\\pngblip")) {
                  n = "image/png";
                } else if (t.includes("\\jpegblip")) {
                  n = "image/jpeg";
                }

                if (n) {
                  o.push({
                    hex: t.replace(e, "").replace(/[^\da-fA-F]/g, ""),
                    type: n
                  });
                }
              }
            } catch (err) {
              _didIteratorError349 = true;
              _iteratorError349 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion349 && _iterator349.return != null) {
                  _iterator349.return();
                }
              } finally {
                if (_didIteratorError349) {
                  throw _iteratorError349;
                }
              }
            }
          }

          return o;
        }

        function XT(t, e, n) {
          if (t.length === e.length) {
            for (let i = 0; i < t.length; i++) {
              const o = "data:".concat(e[i].type, ";base64,").concat(YT(e[i].hex));
              n.setAttribute("src", o, t[i]);
            }
          }
        }

        const tC = /<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i;
        const eC = /xmlns:o="urn:schemas-microsoft-com/i;

        class nC {
          isActive(t) {
            return tC.test(t) || eC.test(t);
          }

          execute(t) {
            const _HT = HT(t.dataTransfer.getData("text/html")),
                  e = _HT.body,
                  n = _HT.stylesString;

            PT(e, n);
            $T(e, t.dataTransfer.getData("text/rtf"));
            t.content = e;
          }

        }

        class iC extends Ow {
          static get pluginName() {
            return "PasteFromOffice";
          }

          static get requires() {
            return [oy];
          }

          init() {
            const t = this.editor;
            const e = [];
            e.push(new nC());
            e.push(new jT());
            t.plugins.get("Clipboard").on("inputTransformation", (t, n) => {
              if (n.isTransformedWithPasteFromOffice) {
                return;
              }

              const i = n.dataTransfer.getData("text/html");
              const o = e.find(t => t.isActive(i));

              if (o) {
                o.execute(n);
                n.isTransformedWithPasteFromOffice = true;
              }
            }, {
              priority: "high"
            });
          }

        }

        function oC(t, e) {
          let n = e.parent;

          while (n) {
            if (n.name === t) {
              return n;
            }

            n = n.parent;
          }
        }

        function sC(t, e, n, i, o = 1) {
          if (e > o) {
            i.setAttribute(t, e, n);
          } else {
            i.removeAttribute(t, n);
          }
        }

        function rC(t, e, n = {}) {
          const i = t.createElement("tableCell", n);
          t.insertElement("paragraph", i);
          t.insert(i, e);
        }

        function aC(t) {
          if (!t || !ct(t)) {
            return t;
          }

          const e = t.top,
                n = t.right,
                i = t.bottom,
                o = t.left;

          if (e == n && n == i && i == o) {
            return e;
          }
        }

        function cC(t, e) {
          const n = parseFloat(t);

          if (Number.isNaN(n)) {
            return t;
          }

          if (String(n) !== String(t)) {
            return t;
          }

          return "".concat(n).concat(e);
        }

        function lC() {
          return t => {
            t.on("element:table", (t, e, n) => {
              const i = e.viewItem;

              if (!n.consumable.test(i, {
                name: true
              })) {
                return;
              }

              const _uC = uC(i),
                    o = _uC.rows,
                    s = _uC.headingRows,
                    r = _uC.headingColumns;

              const a = {};

              if (r) {
                a.headingColumns = r;
              }

              if (s) {
                a.headingRows = s;
              }

              const c = n.writer.createElement("table", a);
              const l = n.splitToAllowedParent(c, e.modelCursor);

              if (!l) {
                return;
              }

              n.writer.insert(c, l.position);
              n.consumable.consume(i, {
                name: true
              });

              if (o.length) {
                o.forEach(t => n.convertItem(t, n.writer.createPositionAt(c, "end")));
              } else {
                const t = n.writer.createElement("tableRow");
                n.writer.insert(t, n.writer.createPositionAt(c, "end"));
                rC(n.writer, n.writer.createPositionAt(t, "end"));
              }

              e.modelRange = n.writer.createRange(n.writer.createPositionBefore(c), n.writer.createPositionAfter(c));

              if (l.cursorParent) {
                e.modelCursor = n.writer.createPositionAt(l.cursorParent, 0);
              } else {
                e.modelCursor = e.modelRange.end;
              }
            });
          };
        }

        function dC(t) {
          return e => {
            e.on("element:".concat(t), (t, e, n) => {
              const i = e.viewItem;

              if (!n.consumable.test(i, {
                name: true
              })) {
                return;
              }

              const o = n.writer.createElement("tableCell");
              const s = n.splitToAllowedParent(o, e.modelCursor);

              if (!s) {
                return;
              }

              n.writer.insert(o, s.position);
              n.consumable.consume(i, {
                name: true
              });
              const r = n.writer.createPositionAt(o, 0);
              n.convertChildren(i, r);

              if (!o.childCount) {
                n.writer.insertElement("paragraph", r);
              }

              e.modelRange = n.writer.createRange(n.writer.createPositionBefore(o), n.writer.createPositionAfter(o));
              e.modelCursor = e.modelRange.end;
            });
          };
        }

        function uC(t) {
          const e = {
            headingRows: 0,
            headingColumns: 0
          };
          const n = [];
          const i = [];
          let o;

          for (var _i45 = 0, _Array$from7 = Array.from(t.getChildren()); _i45 < _Array$from7.length; _i45++) {
            const s = _Array$from7[_i45];

            if (s.name === "tbody" || s.name === "thead" || s.name === "tfoot") {
              if (s.name === "thead" && !o) {
                o = s;
              }

              const t = Array.from(s.getChildren()).filter(t => t.is("element", "tr"));
              var _iteratorNormalCompletion350 = true;
              var _didIteratorError350 = false;
              var _iteratorError350 = undefined;

              try {
                for (var _iterator350 = t[Symbol.iterator](), _step350; !(_iteratorNormalCompletion350 = (_step350 = _iterator350.next()).done); _iteratorNormalCompletion350 = true) {
                  const s = _step350.value;

                  if (s.parent.name === "thead" && s.parent === o) {
                    e.headingRows++;
                    n.push(s);
                  } else {
                    i.push(s);
                    const t = hC(s, e, o);

                    if (t > e.headingColumns) {
                      e.headingColumns = t;
                    }
                  }
                }
              } catch (err) {
                _didIteratorError350 = true;
                _iteratorError350 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion350 && _iterator350.return != null) {
                    _iterator350.return();
                  }
                } finally {
                  if (_didIteratorError350) {
                    throw _iteratorError350;
                  }
                }
              }
            }
          }

          e.rows = [...n, ...i];
          return e;
        }

        function hC(t) {
          let e = 0;
          let n = 0;
          const i = Array.from(t.getChildren()).filter(t => t.name === "th" || t.name === "td");

          while (n < i.length && i[n].name === "th") {
            const t = i[n];
            const o = parseInt(t.getAttribute("colspan") || 1);
            e = e + o;
            n++;
          }

          return e;
        }

        class fC {
          constructor(t, e = {}) {
            this.table = t;
            this.startRow = e.startRow || 0;
            this.endRow = typeof e.endRow == "number" ? e.endRow : undefined;
            this.includeSpanned = !!e.includeSpanned;
            this.column = typeof e.column == "number" ? e.column : undefined;
            this._skipRows = new Set();
            this._row = 0;
            this._column = 0;
            this._cellIndex = 0;
            this._spannedCells = new Map();
            this._nextCellAtColumn = -1;
          }

          [Symbol.iterator]() {
            return this;
          }

          next() {
            const t = this.table.getChild(this._row);

            if (!t || this._isOverEndRow()) {
              return {
                done: true
              };
            }

            let e, n, i;

            if (this._isSpanned(this._row, this._column)) {
              e = this._getSpanned(this._row, this._column);
              n = !this.includeSpanned || this._shouldSkipRow() || this._shouldSkipColumn();
              i = this._formatOutValue(e, this._column, true);
            } else {
              e = t.getChild(this._cellIndex);

              if (!e) {
                this._row++;
                this._column = 0;
                this._cellIndex = 0;
                this._nextCellAtColumn = -1;
                return this.next();
              }

              const o = parseInt(e.getAttribute("colspan") || 1);
              const s = parseInt(e.getAttribute("rowspan") || 1);

              if (o > 1 || s > 1) {
                this._recordSpans(this._row, this._column, s, o, e);
              }

              this._nextCellAtColumn = this._column + o;
              n = this._shouldSkipRow() || this._shouldSkipColumn();
              i = this._formatOutValue(e, this._column, false, s, o);
            }

            this._column++;

            if (this._column == this._nextCellAtColumn) {
              this._cellIndex++;
            }

            return n ? this.next() : i;
          }

          skipRow(t) {
            this._skipRows.add(t);
          }

          _isOverEndRow() {
            return this.endRow !== undefined && this._row > this.endRow;
          }

          _formatOutValue(t, e, n, i = 1, o = 1) {
            return {
              done: false,
              value: {
                cell: t,
                row: this._row,
                column: e,
                isSpanned: n,
                rowspan: i,
                colspan: o,
                cellIndex: this._cellIndex
              }
            };
          }

          _shouldSkipRow() {
            const t = this._row < this.startRow;

            const e = this._skipRows.has(this._row);

            return t || e;
          }

          _shouldSkipColumn() {
            if (this.column === undefined) {
              return false;
            }

            return this.column != this._column;
          }

          _isSpanned(t, e) {
            if (!this._spannedCells.has(t)) {
              return false;
            }

            const n = this._spannedCells.get(t);

            return n.has(e);
          }

          _getSpanned(t, e) {
            return this._spannedCells.get(t).get(e);
          }

          _recordSpans(t, e, n, i, o) {
            for (let n = e + 1; n <= e + i - 1; n++) {
              this._markSpannedCell(t, n, o);
            }

            for (let s = t + 1; s < t + n; s++) {
              for (let t = e; t <= e + i - 1; t++) {
                this._markSpannedCell(s, t, o);
              }
            }
          }

          _markSpannedCell(t, e, n) {
            if (!this._spannedCells.has(t)) {
              this._spannedCells.set(t, new Map());
            }

            const i = this._spannedCells.get(t);

            i.set(e, n);
          }

        }

        function mC(t, e) {
          e.setCustomProperty("table", true, t);
          return S_(t, e, {
            hasSelectionHandle: true
          });
        }

        function gC(t) {
          return !!t.getCustomProperty("table") && P_(t);
        }

        function pC(t) {
          const e = t.getSelectedElement();

          if (e && gC(e)) {
            return e;
          }

          return null;
        }

        function bC(t) {
          const e = oC("table", t.getFirstPosition());

          if (e && gC(e.parent)) {
            return e.parent;
          }

          return null;
        }

        function wC(t = {}) {
          return e => e.on("insert:table", (e, n, i) => {
            const o = n.item;

            if (!i.consumable.consume(o, "insert")) {
              return;
            }

            i.consumable.consume(o, "attribute:headingRows:table");
            i.consumable.consume(o, "attribute:headingColumns:table");
            const s = t && t.asWidget;
            const r = i.writer.createContainerElement("figure", {
              class: "table"
            });
            const a = i.writer.createContainerElement("table");
            i.writer.insert(i.writer.createPositionAt(r, 0), a);
            let c;

            if (s) {
              c = mC(r, i.writer);
            }

            const l = new fC(o);
            const d = {
              headingRows: o.getAttribute("headingRows") || 0,
              headingColumns: o.getAttribute("headingColumns") || 0
            };
            const u = new Map();
            var _iteratorNormalCompletion351 = true;
            var _didIteratorError351 = false;
            var _iteratorError351 = undefined;

            try {
              for (var _iterator351 = l[Symbol.iterator](), _step351; !(_iteratorNormalCompletion351 = (_step351 = _iterator351.next()).done); _iteratorNormalCompletion351 = true) {
                const e = _step351.value;
                const n = e.row,
                      s = e.cell;
                const r = EC(MC(n, d), a, i);
                const c = o.getChild(n);
                const l = u.get(n) || PC(c, n, r, i);
                u.set(n, l);
                i.consumable.consume(s, "insert");
                const h = i.writer.createPositionAt(l, "end");
                CC(e, d, h, i, t);
              }
            } catch (err) {
              _didIteratorError351 = true;
              _iteratorError351 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion351 && _iterator351.return != null) {
                  _iterator351.return();
                }
              } finally {
                if (_didIteratorError351) {
                  throw _iteratorError351;
                }
              }
            }

            const h = i.mapper.toViewPosition(n.range.start);
            i.mapper.bindElements(o, s ? c : r);
            i.writer.insert(h, s ? c : r);
          });
        }

        function _C(t = {}) {
          return e => e.on("insert:tableRow", (e, n, i) => {
            const o = n.item;

            if (!i.consumable.consume(o, "insert")) {
              return;
            }

            const s = o.parent;
            const r = i.mapper.toViewElement(s);
            const a = DC(r);
            const c = s.getChildIndex(o);
            const l = new fC(s, {
              startRow: c,
              endRow: c
            });
            const d = {
              headingRows: s.getAttribute("headingRows") || 0,
              headingColumns: s.getAttribute("headingColumns") || 0
            };
            const u = new Map();
            var _iteratorNormalCompletion352 = true;
            var _didIteratorError352 = false;
            var _iteratorError352 = undefined;

            try {
              for (var _iterator352 = l[Symbol.iterator](), _step352; !(_iteratorNormalCompletion352 = (_step352 = _iterator352.next()).done); _iteratorNormalCompletion352 = true) {
                const e = _step352.value;
                const n = EC(MC(c, d), a, i);
                const s = u.get(c) || PC(o, c, n, i);
                u.set(c, s);
                i.consumable.consume(e.cell, "insert");
                const r = i.writer.createPositionAt(s, "end");
                CC(e, d, r, i, t);
              }
            } catch (err) {
              _didIteratorError352 = true;
              _iteratorError352 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion352 && _iterator352.return != null) {
                  _iterator352.return();
                }
              } finally {
                if (_didIteratorError352) {
                  throw _iteratorError352;
                }
              }
            }
          });
        }

        function kC(t = {}) {
          return e => e.on("insert:tableCell", (e, n, i) => {
            const o = n.item;

            if (!i.consumable.consume(o, "insert")) {
              return;
            }

            const s = o.parent;
            const r = s.parent;
            const a = r.getChildIndex(s);
            const c = new fC(r, {
              startRow: a,
              endRow: a
            });
            const l = {
              headingRows: r.getAttribute("headingRows") || 0,
              headingColumns: r.getAttribute("headingColumns") || 0
            };
            var _iteratorNormalCompletion353 = true;
            var _didIteratorError353 = false;
            var _iteratorError353 = undefined;

            try {
              for (var _iterator353 = c[Symbol.iterator](), _step353; !(_iteratorNormalCompletion353 = (_step353 = _iterator353.next()).done); _iteratorNormalCompletion353 = true) {
                const e = _step353.value;

                if (e.cell === o) {
                  const n = i.mapper.toViewElement(s);
                  const r = i.writer.createPositionAt(n, s.getChildIndex(o));
                  CC(e, l, r, i, t);
                  return;
                }
              }
            } catch (err) {
              _didIteratorError353 = true;
              _iteratorError353 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion353 && _iterator353.return != null) {
                  _iterator353.return();
                }
              } finally {
                if (_didIteratorError353) {
                  throw _iteratorError353;
                }
              }
            }
          });
        }

        function vC(t = {}) {
          const e = !!t.asWidget;
          return t => t.on("attribute:headingRows:table", (t, n, i) => {
            const o = n.item;

            if (!i.consumable.consume(n.item, t.name)) {
              return;
            }

            const s = i.mapper.toViewElement(o);
            const r = DC(s);
            const a = n.attributeOldValue;
            const c = n.attributeNewValue;

            if (c > a) {
              const t = Array.from(o.getChildren()).filter(({
                index: t
              }) => l(t, a - 1, c));
              const n = EC("thead", r, i);
              RC(t, n, i, "end");
              var _iteratorNormalCompletion354 = true;
              var _didIteratorError354 = false;
              var _iteratorError354 = undefined;

              try {
                for (var _iterator354 = t[Symbol.iterator](), _step354; !(_iteratorNormalCompletion354 = (_step354 = _iterator354.next()).done); _iteratorNormalCompletion354 = true) {
                  const n = _step354.value;
                  var _iteratorNormalCompletion355 = true;
                  var _didIteratorError355 = false;
                  var _iteratorError355 = undefined;

                  try {
                    for (var _iterator355 = n.getChildren()[Symbol.iterator](), _step355; !(_iteratorNormalCompletion355 = (_step355 = _iterator355.next()).done); _iteratorNormalCompletion355 = true) {
                      const t = _step355.value;
                      AC(t, "th", i, e);
                    }
                  } catch (err) {
                    _didIteratorError355 = true;
                    _iteratorError355 = err;
                  } finally {
                    try {
                      if (!_iteratorNormalCompletion355 && _iterator355.return != null) {
                        _iterator355.return();
                      }
                    } finally {
                      if (_didIteratorError355) {
                        throw _iteratorError355;
                      }
                    }
                  }
                }
              } catch (err) {
                _didIteratorError354 = true;
                _iteratorError354 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion354 && _iterator354.return != null) {
                    _iterator354.return();
                  }
                } finally {
                  if (_didIteratorError354) {
                    throw _iteratorError354;
                  }
                }
              }

              OC("tbody", r, i);
            } else {
              const t = Array.from(o.getChildren()).filter(({
                index: t
              }) => l(t, c - 1, a)).reverse();
              const n = EC("tbody", r, i);
              RC(t, n, i, 0);
              const s = new fC(o, {
                startRow: c ? c - 1 : c,
                endRow: a - 1
              });
              const d = {
                headingRows: o.getAttribute("headingRows") || 0,
                headingColumns: o.getAttribute("headingColumns") || 0
              };
              var _iteratorNormalCompletion356 = true;
              var _didIteratorError356 = false;
              var _iteratorError356 = undefined;

              try {
                for (var _iterator356 = s[Symbol.iterator](), _step356; !(_iteratorNormalCompletion356 = (_step356 = _iterator356.next()).done); _iteratorNormalCompletion356 = true) {
                  const t = _step356.value;
                  TC(t, d, i, e);
                }
              } catch (err) {
                _didIteratorError356 = true;
                _iteratorError356 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion356 && _iterator356.return != null) {
                    _iterator356.return();
                  }
                } finally {
                  if (_didIteratorError356) {
                    throw _iteratorError356;
                  }
                }
              }

              OC("thead", r, i);
            }

            function l(t, e, n) {
              return t > e && t < n;
            }
          });
        }

        function yC(t = {}) {
          const e = !!t.asWidget;
          return t => t.on("attribute:headingColumns:table", (t, n, i) => {
            const o = n.item;

            if (!i.consumable.consume(n.item, t.name)) {
              return;
            }

            const s = {
              headingRows: o.getAttribute("headingRows") || 0,
              headingColumns: o.getAttribute("headingColumns") || 0
            };
            const r = n.attributeOldValue;
            const a = n.attributeNewValue;
            const c = (r > a ? r : a) - 1;
            var _iteratorNormalCompletion357 = true;
            var _didIteratorError357 = false;
            var _iteratorError357 = undefined;

            try {
              for (var _iterator357 = new fC(o)[Symbol.iterator](), _step357; !(_iteratorNormalCompletion357 = (_step357 = _iterator357.next()).done); _iteratorNormalCompletion357 = true) {
                const t = _step357.value;

                if (t.column > c) {
                  continue;
                }

                TC(t, s, i, e);
              }
            } catch (err) {
              _didIteratorError357 = true;
              _iteratorError357 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion357 && _iterator357.return != null) {
                  _iterator357.return();
                }
              } finally {
                if (_didIteratorError357) {
                  throw _iteratorError357;
                }
              }
            }
          });
        }

        function xC() {
          return t => t.on("remove:tableRow", (t, e, n) => {
            t.stop();
            const i = n.writer;
            const o = n.mapper;
            const s = o.toViewPosition(e.position).getLastMatchingPosition(t => !t.item.is("tr"));
            const r = s.nodeAfter;
            const a = r.parent;
            const c = i.createRangeOn(r);
            const l = i.remove(c);
            var _iteratorNormalCompletion358 = true;
            var _didIteratorError358 = false;
            var _iteratorError358 = undefined;

            try {
              for (var _iterator358 = i.createRangeIn(l).getItems()[Symbol.iterator](), _step358; !(_iteratorNormalCompletion358 = (_step358 = _iterator358.next()).done); _iteratorNormalCompletion358 = true) {
                const t = _step358.value;
                o.unbindViewElement(t);
              }
            } catch (err) {
              _didIteratorError358 = true;
              _iteratorError358 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion358 && _iterator358.return != null) {
                  _iterator358.return();
                }
              } finally {
                if (_didIteratorError358) {
                  throw _iteratorError358;
                }
              }
            }

            if (!a.childCount) {
              i.remove(i.createRangeOn(a));
            }
          }, {
            priority: "higher"
          });
        }

        function AC(t, e, n, i) {
          const o = n.writer;
          const s = n.mapper.toViewElement(t);

          if (!s) {
            return;
          }

          let r;

          if (i) {
            const t = o.createEditableElement(e, s.getAttributes());
            r = N_(t, o);
            o.insert(o.createPositionAfter(s), r);
            o.move(o.createRangeIn(s), o.createPositionAt(r, 0));
            o.remove(o.createRangeOn(s));
          } else {
            r = o.rename(e, s);
          }

          n.mapper.unbindViewElement(s);
          n.mapper.bindElements(t, r);
        }

        function TC(t, e, n, i) {
          const o = t.cell;
          const s = SC(t, e);
          const r = n.mapper.toViewElement(o);

          if (r && r.name !== s) {
            AC(o, s, n, i);
          }
        }

        function CC(t, e, n, i, o) {
          const s = o && o.asWidget;
          const r = SC(t, e);
          const a = s ? N_(i.writer.createEditableElement(r), i.writer) : i.writer.createContainerElement(r);
          const c = t.cell;
          const l = c.getChild(0);
          const d = c.childCount === 1 && l.name === "paragraph";
          i.writer.insert(n, a);

          if (d && !LC(l)) {
            const t = c.getChild(0);
            const e = i.writer.createPositionAt(a, "end");
            i.consumable.consume(t, "insert");

            if (o.asWidget) {
              const n = i.writer.createContainerElement("span", {
                style: "display:inline-block"
              });
              i.mapper.bindElements(t, n);
              i.writer.insert(e, n);
              i.mapper.bindElements(c, a);
            } else {
              i.mapper.bindElements(c, a);
              i.mapper.bindElements(t, a);
            }
          } else {
            i.mapper.bindElements(c, a);
          }
        }

        function PC(t, e, n, i) {
          i.consumable.consume(t, "insert");
          const o = i.writer.createContainerElement("tr");
          i.mapper.bindElements(t, o);
          const s = t.parent.getAttribute("headingRows") || 0;
          const r = s > 0 && e >= s ? e - s : e;
          const a = i.writer.createPositionAt(n, r);
          i.writer.insert(a, o);
          return o;
        }

        function SC(t, e) {
          const n = t.row,
                i = t.column;
          const o = e.headingColumns,
                s = e.headingRows;
          const r = s && s > n;

          if (r) {
            return "th";
          }

          const a = o && o > i;
          return a ? "th" : "td";
        }

        function MC(t, e) {
          return t < e.headingRows ? "thead" : "tbody";
        }

        function EC(t, e, n) {
          const i = IC(t, e);
          return i ? i : NC(t, e, n);
        }

        function IC(t, e) {
          var _iteratorNormalCompletion359 = true;
          var _didIteratorError359 = false;
          var _iteratorError359 = undefined;

          try {
            for (var _iterator359 = e.getChildren()[Symbol.iterator](), _step359; !(_iteratorNormalCompletion359 = (_step359 = _iterator359.next()).done); _iteratorNormalCompletion359 = true) {
              const n = _step359.value;

              if (n.name == t) {
                return n;
              }
            }
          } catch (err) {
            _didIteratorError359 = true;
            _iteratorError359 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion359 && _iterator359.return != null) {
                _iterator359.return();
              }
            } finally {
              if (_didIteratorError359) {
                throw _iteratorError359;
              }
            }
          }
        }

        function NC(t, e, n) {
          const i = n.writer.createContainerElement(t);
          const o = n.writer.createPositionAt(e, t == "tbody" ? "end" : 0);
          n.writer.insert(o, i);
          return i;
        }

        function OC(t, e, n) {
          const i = IC(t, e);

          if (i && i.childCount === 0) {
            n.writer.remove(n.writer.createRangeOn(i));
          }
        }

        function RC(t, e, n, i) {
          var _iteratorNormalCompletion360 = true;
          var _didIteratorError360 = false;
          var _iteratorError360 = undefined;

          try {
            for (var _iterator360 = t[Symbol.iterator](), _step360; !(_iteratorNormalCompletion360 = (_step360 = _iterator360.next()).done); _iteratorNormalCompletion360 = true) {
              const o = _step360.value;
              const t = n.mapper.toViewElement(o);

              if (t) {
                n.writer.move(n.writer.createRangeOn(t), n.writer.createPositionAt(e, i));
              }
            }
          } catch (err) {
            _didIteratorError360 = true;
            _iteratorError360 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion360 && _iterator360.return != null) {
                _iterator360.return();
              }
            } finally {
              if (_didIteratorError360) {
                throw _iteratorError360;
              }
            }
          }
        }

        function DC(t) {
          var _iteratorNormalCompletion361 = true;
          var _didIteratorError361 = false;
          var _iteratorError361 = undefined;

          try {
            for (var _iterator361 = t.getChildren()[Symbol.iterator](), _step361; !(_iteratorNormalCompletion361 = (_step361 = _iterator361.next()).done); _iteratorNormalCompletion361 = true) {
              const e = _step361.value;

              if (e.name === "table") {
                return e;
              }
            }
          } catch (err) {
            _didIteratorError361 = true;
            _iteratorError361 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion361 && _iterator361.return != null) {
                _iterator361.return();
              }
            } finally {
              if (_didIteratorError361) {
                throw _iteratorError361;
              }
            }
          }
        }

        function LC(t) {
          return !![...t.getAttributeKeys()].length;
        }

        class zC extends zw {
          refresh() {
            const t = this.editor.model;
            const e = t.document.selection;
            const n = t.schema;
            const i = jC(e.getFirstPosition());
            this.isEnabled = n.checkChild(i, "table");
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.document.selection;
            const i = this.editor.plugins.get("TableUtils");
            const o = parseInt(t.rows) || 2;
            const s = parseInt(t.columns) || 2;
            const r = O_(n, e);
            e.change(t => {
              const n = i.createTable(t, o, s);
              e.insertContent(n, r);
              t.setSelection(t.createPositionAt(n.getNodeByPath([0, 0, 0]), 0));
            });
          }

        }

        function jC(t) {
          const e = t.parent;
          return e === e.root ? e : e.parent;
        }

        class VC extends zw {
          constructor(t, e = {}) {
            super(t);
            this.order = e.order || "below";
          }

          refresh() {
            const t = this.editor.model.document.selection;
            const e = oC("table", t.getFirstPosition());
            this.isEnabled = !!e;
          }

          execute() {
            const t = this.editor;
            const e = t.model.document.selection;
            const n = t.plugins.get("TableUtils");
            const i = oC("tableCell", e.getFirstPosition());
            const o = i.parent;
            const s = o.parent;
            const r = s.getChildIndex(o);
            const a = this.order === "below" ? r + 1 : r;
            n.insertRows(s, {
              rows: 1,
              at: a
            });
          }

        }

        class BC extends zw {
          constructor(t, e = {}) {
            super(t);
            this.order = e.order || "right";
          }

          refresh() {
            const t = this.editor.model.document.selection;
            const e = oC("table", t.getFirstPosition());
            this.isEnabled = !!e;
          }

          execute() {
            const t = this.editor;
            const e = t.model.document.selection;
            const n = t.plugins.get("TableUtils");
            const i = e.getFirstPosition();
            const o = oC("tableCell", i);
            const s = o.parent.parent;

            const _n$getCellLocation = n.getCellLocation(o),
                  r = _n$getCellLocation.column;

            const a = this.order === "right" ? r + 1 : r;
            n.insertColumns(s, {
              columns: 1,
              at: a
            });
          }

        }

        class FC extends zw {
          constructor(t, e = {}) {
            super(t);
            this.direction = e.direction || "horizontally";
          }

          refresh() {
            const t = this.editor.model;
            const e = t.document;
            const n = oC("tableCell", e.selection.getFirstPosition());
            this.isEnabled = !!n;
          }

          execute() {
            const t = this.editor.model;
            const e = t.document;
            const n = e.selection;
            const i = n.getFirstPosition();
            const o = oC("tableCell", i);
            const s = this.direction === "horizontally";
            const r = this.editor.plugins.get("TableUtils");

            if (s) {
              r.splitCellHorizontally(o, 2);
            } else {
              r.splitCellVertically(o, 2);
            }
          }

        }

        class HC extends zw {
          constructor(t, e) {
            super(t);
            this.direction = e.direction;
            this.isHorizontal = this.direction == "right" || this.direction == "left";
          }

          refresh() {
            const t = this._getMergeableCell();

            this.value = t;
            this.isEnabled = !!t;
          }

          execute() {
            const t = this.editor.model;
            const e = t.document;
            const n = oC("tableCell", e.selection.getFirstPosition());
            const i = this.value;
            const o = this.direction;
            t.change(t => {
              const e = o == "right" || o == "down";
              const s = e ? n : i;
              const r = e ? i : n;
              const a = r.parent;
              $C(r, s, t);
              const c = this.isHorizontal ? "colspan" : "rowspan";
              const l = parseInt(n.getAttribute(c) || 1);
              const d = parseInt(i.getAttribute(c) || 1);
              t.setAttribute(c, l + d, s);
              t.setSelection(t.createRangeIn(s));

              if (!a.childCount) {
                qC(a, t);
              }
            });
          }

          _getMergeableCell() {
            const t = this.editor.model;
            const e = t.document;
            const n = oC("tableCell", e.selection.getFirstPosition());

            if (!n) {
              return;
            }

            const i = this.editor.plugins.get("TableUtils");
            const o = this.isHorizontal ? UC(n, this.direction, i) : WC(n, this.direction);

            if (!o) {
              return;
            }

            const s = this.isHorizontal ? "rowspan" : "colspan";
            const r = parseInt(n.getAttribute(s) || 1);
            const a = parseInt(o.getAttribute(s) || 1);

            if (a === r) {
              return o;
            }
          }

        }

        function UC(t, e, n) {
          const i = t.parent;
          const o = i.parent;
          const s = e == "right" ? t.nextSibling : t.previousSibling;
          const r = o.getAttribute("headingColumns") || 0;

          if (!s) {
            return;
          }

          const a = e == "right" ? t : s;
          const c = e == "right" ? s : t;

          const _n$getCellLocation2 = n.getCellLocation(a),
                l = _n$getCellLocation2.column;

          const _n$getCellLocation3 = n.getCellLocation(c),
                d = _n$getCellLocation3.column;

          const u = parseInt(a.getAttribute("colspan") || 1);
          const h = parseInt(c.getAttribute("colspan") || 1);
          const f = e == "right" && d + h > r;
          const m = e == "left" && l + u > r - 1;

          if (r && (f || m)) {
            return;
          }

          const g = l + u === d;
          return g ? s : undefined;
        }

        function WC(t, e) {
          const n = t.parent;
          const i = n.parent;
          const o = i.getChildIndex(n);

          if (e == "down" && o === i.childCount - 1 || e == "up" && o === 0) {
            return;
          }

          const s = parseInt(t.getAttribute("rowspan") || 1);
          const r = i.getAttribute("headingRows") || 0;
          const a = e == "down" && o + s === r;
          const c = e == "up" && o === r;

          if (r && (a || c)) {
            return;
          }

          const l = parseInt(t.getAttribute("rowspan") || 1);
          const d = e == "down" ? o + l : o;
          const u = [...new fC(i, {
            endRow: d
          })];
          const h = u.find(e => e.cell === t);
          const f = h.column;
          const m = u.find(({
            row: t,
            rowspan: n,
            column: i
          }) => {
            if (i !== f) {
              return false;
            }

            if (e == "down") {
              return t === d;
            } else {
              return d === t + n;
            }
          });
          return m && m.cell;
        }

        function qC(t, e) {
          const n = t.parent;
          const i = n.getChildIndex(t);
          var _iteratorNormalCompletion362 = true;
          var _didIteratorError362 = false;
          var _iteratorError362 = undefined;

          try {
            for (var _iterator362 = new fC(n, {
              endRow: i
            })[Symbol.iterator](), _step362; !(_iteratorNormalCompletion362 = (_step362 = _iterator362.next()).done); _iteratorNormalCompletion362 = true) {
              const _step362$value = _step362.value,
                    t = _step362$value.cell,
                    o = _step362$value.row,
                    s = _step362$value.rowspan;
              const n = o + s - 1 >= i;

              if (n) {
                sC("rowspan", s - 1, t, e);
              }
            }
          } catch (err) {
            _didIteratorError362 = true;
            _iteratorError362 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion362 && _iterator362.return != null) {
                _iterator362.return();
              }
            } finally {
              if (_didIteratorError362) {
                throw _iteratorError362;
              }
            }
          }

          e.remove(t);
        }

        function $C(t, e, n) {
          if (!YC(t)) {
            if (YC(e)) {
              n.remove(n.createRangeIn(e));
            }

            n.move(n.createRangeIn(t), n.createPositionAt(e, "end"));
          }

          n.remove(t);
        }

        function YC(t) {
          return t.childCount == 1 && t.getChild(0).is("paragraph") && t.getChild(0).isEmpty;
        }

        class GC extends zw {
          refresh() {
            const t = this.editor.model;
            const e = t.document;
            const n = oC("tableCell", e.selection.getFirstPosition());
            this.isEnabled = !!n && n.parent.parent.childCount > 1;
          }

          execute() {
            const t = this.editor.model;
            const e = t.document.selection;
            const n = e.getFirstPosition();
            const i = oC("tableCell", n);
            const o = i.parent;
            const s = o.parent;
            const r = s.getChildIndex(o);
            const a = s.getAttribute("headingRows") || 0;
            t.change(t => {
              if (a && r <= a) {
                sC("headingRows", a - 1, s, t, 0);
              }

              const e = [...new fC(s, {
                endRow: r
              })];
              const n = new Map();
              e.filter(({
                row: t,
                rowspan: e
              }) => t === r && e > 1).forEach(({
                column: t,
                cell: e,
                rowspan: i
              }) => n.set(t, {
                cell: e,
                rowspanToSet: i - 1
              }));
              e.filter(({
                row: t,
                rowspan: e
              }) => t <= r - 1 && t + e > r).forEach(({
                cell: e,
                rowspan: n
              }) => sC("rowspan", n - 1, e, t));
              const i = r + 1;
              const c = new fC(s, {
                includeSpanned: true,
                startRow: i,
                endRow: i
              });
              let l;

              for (var _i46 = 0, _arr3 = [...c]; _i46 < _arr3.length; _i46++) {
                const _arr3$_i = _arr3[_i46],
                      e = _arr3$_i.row,
                      i = _arr3$_i.column,
                      o = _arr3$_i.cell;

                if (n.has(i)) {
                  const _n$get = n.get(i),
                        o = _n$get.cell,
                        r = _n$get.rowspanToSet;

                  const a = l ? t.createPositionAfter(l) : t.createPositionAt(s.getChild(e), 0);
                  t.move(t.createRangeOn(o), a);
                  sC("rowspan", r, o, t);
                  l = o;
                } else {
                  l = o;
                }
              }

              t.remove(o);
            });
          }

        }

        class QC extends zw {
          refresh() {
            const t = this.editor;
            const e = t.model.document.selection;
            const n = t.plugins.get("TableUtils");
            const i = oC("tableCell", e.getFirstPosition());
            this.isEnabled = !!i && n.getColumns(i.parent.parent) > 1;
          }

          execute() {
            const t = this.editor.model;
            const e = t.document.selection;
            const n = e.getFirstPosition();
            const i = oC("tableCell", n);
            const o = i.parent;
            const s = o.parent;
            const r = s.getAttribute("headingColumns") || 0;
            const a = s.getChildIndex(o);
            const c = [...new fC(s)];
            const l = c.find(t => t.cell === i);
            const d = l.column;
            t.change(t => {
              if (r && a <= r) {
                t.setAttribute("headingColumns", r - 1, s);
              }

              var _iteratorNormalCompletion363 = true;
              var _didIteratorError363 = false;
              var _iteratorError363 = undefined;

              try {
                for (var _iterator363 = c[Symbol.iterator](), _step363; !(_iteratorNormalCompletion363 = (_step363 = _iterator363.next()).done); _iteratorNormalCompletion363 = true) {
                  const _step363$value = _step363.value,
                        e = _step363$value.cell,
                        n = _step363$value.column,
                        i = _step363$value.colspan;

                  if (n <= d && i > 1 && n + i > d) {
                    sC("colspan", i - 1, e, t);
                  } else if (n === d) {
                    t.remove(e);
                  }
                }
              } catch (err) {
                _didIteratorError363 = true;
                _iteratorError363 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion363 && _iterator363.return != null) {
                    _iterator363.return();
                  }
                } finally {
                  if (_didIteratorError363) {
                    throw _iteratorError363;
                  }
                }
              }
            });
          }

        }

        class KC extends zw {
          refresh() {
            const t = this.editor.model;
            const e = t.document;
            const n = e.selection;
            const i = n.getFirstPosition();
            const o = oC("tableCell", i);
            const s = !!o;
            this.isEnabled = s;
            this.value = s && this._isInHeading(o, o.parent.parent);
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.document;
            const i = n.selection;
            const o = i.getFirstPosition();
            const s = oC("tableCell", o);
            const r = s.parent;
            const a = r.parent;
            const c = a.getAttribute("headingRows") || 0;
            const l = r.index;

            if (t.forceValue === this.value) {
              return;
            }

            const d = this.value ? l : l + 1;
            e.change(t => {
              if (d) {
                const e = JC(a, d, c);
                var _iteratorNormalCompletion364 = true;
                var _didIteratorError364 = false;
                var _iteratorError364 = undefined;

                try {
                  for (var _iterator364 = e[Symbol.iterator](), _step364; !(_iteratorNormalCompletion364 = (_step364 = _iterator364.next()).done); _iteratorNormalCompletion364 = true) {
                    const n = _step364.value;
                    ZC(n, d, t);
                  }
                } catch (err) {
                  _didIteratorError364 = true;
                  _iteratorError364 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion364 && _iterator364.return != null) {
                      _iterator364.return();
                    }
                  } finally {
                    if (_didIteratorError364) {
                      throw _iteratorError364;
                    }
                  }
                }
              }

              sC("headingRows", d, a, t, 0);
            });
          }

          _isInHeading(t, e) {
            const n = parseInt(e.getAttribute("headingRows") || 0);
            return !!n && t.parent.index < n;
          }

        }

        function JC(t, e, n) {
          const i = [];
          const o = e > n ? n : 0;
          const s = e - 1;
          const r = new fC(t, {
            startRow: o,
            endRow: s
          });
          var _iteratorNormalCompletion365 = true;
          var _didIteratorError365 = false;
          var _iteratorError365 = undefined;

          try {
            for (var _iterator365 = r[Symbol.iterator](), _step365; !(_iteratorNormalCompletion365 = (_step365 = _iterator365.next()).done); _iteratorNormalCompletion365 = true) {
              const _step365$value = _step365.value,
                    t = _step365$value.row,
                    n = _step365$value.rowspan,
                    o = _step365$value.cell;

              if (n > 1 && t + n > e) {
                i.push(o);
              }
            }
          } catch (err) {
            _didIteratorError365 = true;
            _iteratorError365 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion365 && _iterator365.return != null) {
                _iterator365.return();
              }
            } finally {
              if (_didIteratorError365) {
                throw _iteratorError365;
              }
            }
          }

          return i;
        }

        function ZC(t, e, n) {
          const i = t.parent;
          const o = i.parent;
          const s = i.index;
          const r = parseInt(t.getAttribute("rowspan"));
          const a = e - s;
          const c = {};
          const l = r - a;

          if (l > 1) {
            c.rowspan = l;
          }

          const d = parseInt(t.getAttribute("colspan") || 1);

          if (d > 1) {
            c.colspan = d;
          }

          const u = o.getChildIndex(i);
          const h = u + a;
          const f = [...new fC(o, {
            startRow: u,
            endRow: h,
            includeSpanned: true
          })];
          let m;

          for (var _i47 = 0, _f2 = f; _i47 < _f2.length; _i47++) {
            const _f2$_i = _f2[_i47],
                  e = _f2$_i.row,
                  i = _f2$_i.column,
                  s = _f2$_i.cell,
                  r = _f2$_i.cellIndex;

            if (s === t && m === undefined) {
              m = i;
            }

            if (m !== undefined && m === i && e === h) {
              const t = o.getChild(e);
              const i = n.createPositionAt(t, r);
              rC(n, i, c);
            }
          }

          sC("rowspan", a, t, n);
        }

        class XC extends zw {
          refresh() {
            const t = this.editor.model;
            const e = t.document;
            const n = e.selection;
            const i = n.getFirstPosition();
            const o = oC("tableCell", i);
            const s = !!o;
            this.isEnabled = s;
            this.value = s && this._isInHeading(o, o.parent.parent);
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.document;
            const i = n.selection;
            const o = this.editor.plugins.get("TableUtils");
            const s = i.getFirstPosition();
            const r = oC("tableCell", s);
            const a = r.parent;
            const c = a.parent;

            const _o$getCellLocation = o.getCellLocation(r),
                  l = _o$getCellLocation.column;

            if (t.forceValue === this.value) {
              return;
            }

            const d = this.value ? l : l + 1;
            e.change(t => {
              sC("headingColumns", d, c, t, 0);
            });
          }

          _isInHeading(t, e) {
            const n = parseInt(e.getAttribute("headingColumns") || 0);
            const i = this.editor.plugins.get("TableUtils");

            const _i$getCellLocation = i.getCellLocation(t),
                  o = _i$getCellLocation.column;

            return !!n && o < n;
          }

        }

        class tP extends Ow {
          static get pluginName() {
            return "TableUtils";
          }

          getCellLocation(t) {
            const e = t.parent;
            const n = e.parent;
            const i = n.getChildIndex(e);
            const o = new fC(n, {
              startRow: i,
              endRow: i
            });
            var _iteratorNormalCompletion366 = true;
            var _didIteratorError366 = false;
            var _iteratorError366 = undefined;

            try {
              for (var _iterator366 = o[Symbol.iterator](), _step366; !(_iteratorNormalCompletion366 = (_step366 = _iterator366.next()).done); _iteratorNormalCompletion366 = true) {
                const _step366$value = _step366.value,
                      e = _step366$value.cell,
                      n = _step366$value.row,
                      i = _step366$value.column;

                if (e === t) {
                  return {
                    row: n,
                    column: i
                  };
                }
              }
            } catch (err) {
              _didIteratorError366 = true;
              _iteratorError366 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion366 && _iterator366.return != null) {
                  _iterator366.return();
                }
              } finally {
                if (_didIteratorError366) {
                  throw _iteratorError366;
                }
              }
            }
          }

          createTable(t, e, n) {
            const i = t.createElement("table");
            eP(t, i, 0, e, n);
            return i;
          }

          insertRows(t, e = {}) {
            const n = this.editor.model;
            const i = e.at || 0;
            const o = e.rows || 1;
            n.change(e => {
              const n = t.getAttribute("headingRows") || 0;

              if (n > i) {
                e.setAttribute("headingRows", n + o, t);
              }

              if (i === 0 || i === t.childCount) {
                eP(e, t, i, o, this.getColumns(t));
                return;
              }

              const s = new fC(t, {
                endRow: i
              });
              let r = 0;
              var _iteratorNormalCompletion367 = true;
              var _didIteratorError367 = false;
              var _iteratorError367 = undefined;

              try {
                for (var _iterator367 = s[Symbol.iterator](), _step367; !(_iteratorNormalCompletion367 = (_step367 = _iterator367.next()).done); _iteratorNormalCompletion367 = true) {
                  const _step367$value = _step367.value,
                        t = _step367$value.row,
                        n = _step367$value.rowspan,
                        a = _step367$value.colspan,
                        c = _step367$value.cell;
                  const s = t < i;
                  const l = t + n > i;

                  if (s && l) {
                    e.setAttribute("rowspan", n + o, c);
                  }

                  if (t === i) {
                    r += a;
                  }
                }
              } catch (err) {
                _didIteratorError367 = true;
                _iteratorError367 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion367 && _iterator367.return != null) {
                    _iterator367.return();
                  }
                } finally {
                  if (_didIteratorError367) {
                    throw _iteratorError367;
                  }
                }
              }

              eP(e, t, i, o, r);
            });
          }

          insertColumns(t, e = {}) {
            const n = this.editor.model;
            const i = e.at || 0;
            const o = e.columns || 1;
            n.change(e => {
              const n = t.getAttribute("headingColumns");

              if (i < n) {
                e.setAttribute("headingColumns", n + o, t);
              }

              const s = this.getColumns(t);

              if (i === 0 || s === i) {
                var _iteratorNormalCompletion368 = true;
                var _didIteratorError368 = false;
                var _iteratorError368 = undefined;

                try {
                  for (var _iterator368 = t.getChildren()[Symbol.iterator](), _step368; !(_iteratorNormalCompletion368 = (_step368 = _iterator368.next()).done); _iteratorNormalCompletion368 = true) {
                    const n = _step368.value;
                    nP(o, e, e.createPositionAt(n, i ? "end" : 0));
                  }
                } catch (err) {
                  _didIteratorError368 = true;
                  _iteratorError368 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion368 && _iterator368.return != null) {
                      _iterator368.return();
                    }
                  } finally {
                    if (_didIteratorError368) {
                      throw _iteratorError368;
                    }
                  }
                }

                return;
              }

              const r = new fC(t, {
                column: i,
                includeSpanned: true
              });
              var _iteratorNormalCompletion369 = true;
              var _didIteratorError369 = false;
              var _iteratorError369 = undefined;

              try {
                for (var _iterator369 = r[Symbol.iterator](), _step369; !(_iteratorNormalCompletion369 = (_step369 = _iterator369.next()).done); _iteratorNormalCompletion369 = true) {
                  const _step369$value = _step369.value,
                        n = _step369$value.row,
                        s = _step369$value.cell,
                        a = _step369$value.cellIndex;
                  const c = parseInt(s.getAttribute("rowspan") || 1);
                  const l = parseInt(s.getAttribute("colspan") || 1);

                  if (s.index !== i && l > 1) {
                    e.setAttribute("colspan", l + o, s);
                    r.skipRow(n);

                    if (c > 1) {
                      for (let t = n + 1; t < n + c; t++) {
                        r.skipRow(t);
                      }
                    }
                  } else {
                    const i = e.createPositionAt(t.getChild(n), a);
                    nP(o, e, i);
                  }
                }
              } catch (err) {
                _didIteratorError369 = true;
                _iteratorError369 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion369 && _iterator369.return != null) {
                    _iterator369.return();
                  }
                } finally {
                  if (_didIteratorError369) {
                    throw _iteratorError369;
                  }
                }
              }
            });
          }

          splitCellVertically(t, e = 2) {
            const n = this.editor.model;
            const i = t.parent;
            const o = i.parent;
            const s = parseInt(t.getAttribute("rowspan") || 1);
            const r = parseInt(t.getAttribute("colspan") || 1);
            n.change(n => {
              if (r > 1) {
                const _iP = iP(r, e),
                      i = _iP.newCellsSpan,
                      o = _iP.updatedSpan;

                sC("colspan", o, t, n);
                const a = {};

                if (i > 1) {
                  a.colspan = i;
                }

                if (s > 1) {
                  a.rowspan = s;
                }

                const c = r > e ? e - 1 : r - 1;
                nP(c, n, n.createPositionAfter(t), a);
              }

              if (r < e) {
                const i = e - r;
                const a = [...new fC(o)];

                const _a$find = a.find(({
                  cell: e
                }) => e === t),
                      c = _a$find.column;

                const l = a.filter(({
                  cell: e,
                  colspan: n,
                  column: i
                }) => {
                  const o = e !== t && i === c;
                  const s = i < c && i + n > c;
                  return o || s;
                });
                var _iteratorNormalCompletion370 = true;
                var _didIteratorError370 = false;
                var _iteratorError370 = undefined;

                try {
                  for (var _iterator370 = l[Symbol.iterator](), _step370; !(_iteratorNormalCompletion370 = (_step370 = _iterator370.next()).done); _iteratorNormalCompletion370 = true) {
                    const _step370$value = _step370.value,
                          t = _step370$value.cell,
                          e = _step370$value.colspan;
                    n.setAttribute("colspan", e + i, t);
                  }
                } catch (err) {
                  _didIteratorError370 = true;
                  _iteratorError370 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion370 && _iterator370.return != null) {
                      _iterator370.return();
                    }
                  } finally {
                    if (_didIteratorError370) {
                      throw _iteratorError370;
                    }
                  }
                }

                const d = {};

                if (s > 1) {
                  d.rowspan = s;
                }

                nP(i, n, n.createPositionAfter(t), d);
                const u = o.getAttribute("headingColumns") || 0;

                if (u > c) {
                  sC("headingColumns", u + i, o, n);
                }
              }
            });
          }

          splitCellHorizontally(t, e = 2) {
            const n = this.editor.model;
            const i = t.parent;
            const o = i.parent;
            const s = o.getChildIndex(i);
            const r = parseInt(t.getAttribute("rowspan") || 1);
            const a = parseInt(t.getAttribute("colspan") || 1);
            n.change(n => {
              if (r > 1) {
                const i = [...new fC(o, {
                  startRow: s,
                  endRow: s + r - 1,
                  includeSpanned: true
                })];

                const _iP2 = iP(r, e),
                      c = _iP2.newCellsSpan,
                      l = _iP2.updatedSpan;

                sC("rowspan", l, t, n);

                const _i$find = i.find(({
                  cell: e
                }) => e === t),
                      d = _i$find.column;

                const u = {};

                if (c > 1) {
                  u.rowspan = c;
                }

                if (a > 1) {
                  u.colspan = a;
                }

                for (var _i49 = 0, _i48 = i; _i49 < _i48.length; _i49++) {
                  const _i48$_i = _i48[_i49],
                        t = _i48$_i.column,
                        e = _i48$_i.row,
                        r = _i48$_i.cellIndex;
                  const i = e >= s + l;
                  const a = t === d;
                  const h = (e + s + l) % c === 0;

                  if (i && a && h) {
                    const t = n.createPositionAt(o.getChild(e), r);
                    nP(1, n, t, u);
                  }
                }
              }

              if (r < e) {
                const i = e - r;
                const c = [...new fC(o, {
                  startRow: 0,
                  endRow: s
                })];

                for (var _i50 = 0, _c2 = c; _i50 < _c2.length; _i50++) {
                  const _c2$_i = _c2[_i50],
                        e = _c2$_i.cell,
                        o = _c2$_i.rowspan,
                        r = _c2$_i.row;

                  if (e !== t && r + o > s) {
                    const t = o + i;
                    n.setAttribute("rowspan", t, e);
                  }
                }

                const l = {};

                if (a > 1) {
                  l.colspan = a;
                }

                eP(n, o, s + 1, i, 1, l);
                const d = o.getAttribute("headingRows") || 0;

                if (d > s) {
                  sC("headingRows", d + i, o, n);
                }
              }
            });
          }

          getColumns(t) {
            const e = t.getChild(0);
            return [...e.getChildren()].reduce((t, e) => {
              const n = parseInt(e.getAttribute("colspan") || 1);
              return t + n;
            }, 0);
          }

        }

        function eP(t, e, n, i, o, s = {}) {
          for (let r = 0; r < i; r++) {
            const i = t.createElement("tableRow");
            t.insert(i, e, n);
            nP(o, t, t.createPositionAt(i, "end"), s);
          }
        }

        function nP(t, e, n, i = {}) {
          for (let o = 0; o < t; o++) {
            rC(e, n, i);
          }
        }

        function iP(t, e) {
          if (t < e) {
            return {
              newCellsSpan: 1,
              updatedSpan: 1
            };
          }

          const n = Math.floor(t / e);
          const i = t - n * e + n;
          return {
            newCellsSpan: n,
            updatedSpan: i
          };
        }

        function oP(t) {
          t.document.registerPostFixer(e => sP(e, t));
        }

        function sP(t, e) {
          const n = e.document.differ.getChanges();
          let i = false;
          const o = new Set();
          var _iteratorNormalCompletion371 = true;
          var _didIteratorError371 = false;
          var _iteratorError371 = undefined;

          try {
            for (var _iterator371 = n[Symbol.iterator](), _step371; !(_iteratorNormalCompletion371 = (_step371 = _iterator371.next()).done); _iteratorNormalCompletion371 = true) {
              const e = _step371.value;
              let n;

              if (e.name == "table" && e.type == "insert") {
                n = e.position.nodeAfter;
              }

              if (e.name == "tableRow" || e.name == "tableCell") {
                n = oC("table", e.position);
              }

              if (dP(e)) {
                n = oC("table", e.range.start);
              }

              if (n && !o.has(n)) {
                i = rP(n, t) || i;
                i = aP(n, t) || i;
                o.add(n);
              }
            }
          } catch (err) {
            _didIteratorError371 = true;
            _iteratorError371 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion371 && _iterator371.return != null) {
                _iterator371.return();
              }
            } finally {
              if (_didIteratorError371) {
                throw _iteratorError371;
              }
            }
          }

          return i;
        }

        function rP(t, e) {
          let n = false;
          const i = cP(t);

          if (i.length) {
            n = true;
            var _iteratorNormalCompletion372 = true;
            var _didIteratorError372 = false;
            var _iteratorError372 = undefined;

            try {
              for (var _iterator372 = i[Symbol.iterator](), _step372; !(_iteratorNormalCompletion372 = (_step372 = _iterator372.next()).done); _iteratorNormalCompletion372 = true) {
                const t = _step372.value;
                sC("rowspan", t.rowspan, t.cell, e, 1);
              }
            } catch (err) {
              _didIteratorError372 = true;
              _iteratorError372 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion372 && _iterator372.return != null) {
                  _iterator372.return();
                }
              } finally {
                if (_didIteratorError372) {
                  throw _iteratorError372;
                }
              }
            }
          }

          return n;
        }

        function aP(t, e) {
          let n = false;
          const i = lP(t);
          const o = i[0];
          const s = Object.values(i).every(t => t === o);

          if (!s) {
            const o = Object.values(i).reduce((t, e) => e > t ? e : t, 0);

            for (var _i51 = 0, _Object$entries3 = Object.entries(i); _i51 < _Object$entries3.length; _i51++) {
              const _Object$entries3$_i = _slicedToArray(_Object$entries3[_i51], 2),
                    s = _Object$entries3$_i[0],
                    r = _Object$entries3$_i[1];

              const i = o - r;

              if (i) {
                for (let n = 0; n < i; n++) {
                  rC(e, e.createPositionAt(t.getChild(s), "end"));
                }

                n = true;
              }
            }
          }

          return n;
        }

        function cP(t) {
          const e = parseInt(t.getAttribute("headingRows") || 0);
          const n = t.childCount;
          const i = [];
          var _iteratorNormalCompletion373 = true;
          var _didIteratorError373 = false;
          var _iteratorError373 = undefined;

          try {
            for (var _iterator373 = new fC(t)[Symbol.iterator](), _step373; !(_iteratorNormalCompletion373 = (_step373 = _iterator373.next()).done); _iteratorNormalCompletion373 = true) {
              const _step373$value = _step373.value,
                    o = _step373$value.row,
                    s = _step373$value.rowspan,
                    r = _step373$value.cell;

              if (s < 2) {
                continue;
              }

              const t = o < e;
              const a = t ? e : n;

              if (o + s > a) {
                const t = a - o;
                i.push({
                  cell: r,
                  rowspan: t
                });
              }
            }
          } catch (err) {
            _didIteratorError373 = true;
            _iteratorError373 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion373 && _iterator373.return != null) {
                _iterator373.return();
              }
            } finally {
              if (_didIteratorError373) {
                throw _iteratorError373;
              }
            }
          }

          return i;
        }

        function lP(t) {
          const e = {};
          var _iteratorNormalCompletion374 = true;
          var _didIteratorError374 = false;
          var _iteratorError374 = undefined;

          try {
            for (var _iterator374 = new fC(t, {
              includeSpanned: true
            })[Symbol.iterator](), _step374; !(_iteratorNormalCompletion374 = (_step374 = _iterator374.next()).done); _iteratorNormalCompletion374 = true) {
              const n = _step374.value.row;

              if (!e[n]) {
                e[n] = 0;
              }

              e[n] += 1;
            }
          } catch (err) {
            _didIteratorError374 = true;
            _iteratorError374 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion374 && _iterator374.return != null) {
                _iterator374.return();
              }
            } finally {
              if (_didIteratorError374) {
                throw _iteratorError374;
              }
            }
          }

          return e;
        }

        function dP(t) {
          const e = t.type === "attribute";
          const n = t.attributeKey;
          return e && (n === "headingRows" || n === "colspan" || n === "rowspan");
        }

        function uP(t) {
          t.document.registerPostFixer(e => hP(e, t));
        }

        function hP(t, e) {
          const n = e.document.differ.getChanges();
          let i = false;
          var _iteratorNormalCompletion375 = true;
          var _didIteratorError375 = false;
          var _iteratorError375 = undefined;

          try {
            for (var _iterator375 = n[Symbol.iterator](), _step375; !(_iteratorNormalCompletion375 = (_step375 = _iterator375.next()).done); _iteratorNormalCompletion375 = true) {
              const e = _step375.value;

              if (e.type == "insert" && e.name == "table") {
                i = fP(e.position.nodeAfter, t) || i;
              }

              if (e.type == "insert" && e.name == "tableRow") {
                i = mP(e.position.nodeAfter, t) || i;
              }

              if (e.type == "insert" && e.name == "tableCell") {
                i = gP(e.position.nodeAfter, t) || i;
              }

              if (pP(e)) {
                i = gP(e.position.parent, t) || i;
              }
            }
          } catch (err) {
            _didIteratorError375 = true;
            _iteratorError375 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion375 && _iterator375.return != null) {
                _iterator375.return();
              }
            } finally {
              if (_didIteratorError375) {
                throw _iteratorError375;
              }
            }
          }

          return i;
        }

        function fP(t, e) {
          let n = false;
          var _iteratorNormalCompletion376 = true;
          var _didIteratorError376 = false;
          var _iteratorError376 = undefined;

          try {
            for (var _iterator376 = t.getChildren()[Symbol.iterator](), _step376; !(_iteratorNormalCompletion376 = (_step376 = _iterator376.next()).done); _iteratorNormalCompletion376 = true) {
              const i = _step376.value;
              n = mP(i, e) || n;
            }
          } catch (err) {
            _didIteratorError376 = true;
            _iteratorError376 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion376 && _iterator376.return != null) {
                _iterator376.return();
              }
            } finally {
              if (_didIteratorError376) {
                throw _iteratorError376;
              }
            }
          }

          return n;
        }

        function mP(t, e) {
          let n = false;
          var _iteratorNormalCompletion377 = true;
          var _didIteratorError377 = false;
          var _iteratorError377 = undefined;

          try {
            for (var _iterator377 = t.getChildren()[Symbol.iterator](), _step377; !(_iteratorNormalCompletion377 = (_step377 = _iterator377.next()).done); _iteratorNormalCompletion377 = true) {
              const i = _step377.value;
              n = gP(i, e) || n;
            }
          } catch (err) {
            _didIteratorError377 = true;
            _iteratorError377 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion377 && _iterator377.return != null) {
                _iterator377.return();
              }
            } finally {
              if (_didIteratorError377) {
                throw _iteratorError377;
              }
            }
          }

          return n;
        }

        function gP(t, e) {
          if (t.childCount == 0) {
            e.insertElement("paragraph", t);
            return true;
          }

          const n = Array.from(t.getChildren()).filter(t => t.is("text"));
          var _iteratorNormalCompletion378 = true;
          var _didIteratorError378 = false;
          var _iteratorError378 = undefined;

          try {
            for (var _iterator378 = n[Symbol.iterator](), _step378; !(_iteratorNormalCompletion378 = (_step378 = _iterator378.next()).done); _iteratorNormalCompletion378 = true) {
              const t = _step378.value;
              e.wrap(e.createRangeOn(t), "paragraph");
            }
          } catch (err) {
            _didIteratorError378 = true;
            _iteratorError378 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion378 && _iterator378.return != null) {
                _iterator378.return();
              }
            } finally {
              if (_didIteratorError378) {
                throw _iteratorError378;
              }
            }
          }

          return !!n.length;
        }

        function pP(t) {
          if (!t.position || !t.position.parent.is("tableCell")) {
            return false;
          }

          return t.type == "insert" && t.name == "$text" || t.type == "remove";
        }

        function bP(t) {
          t.document.registerPostFixer(() => wP(t));
        }

        function wP(t) {
          const e = t.document.differ;
          const n = new Set();
          var _iteratorNormalCompletion379 = true;
          var _didIteratorError379 = false;
          var _iteratorError379 = undefined;

          try {
            for (var _iterator379 = e.getChanges()[Symbol.iterator](), _step379; !(_iteratorNormalCompletion379 = (_step379 = _iterator379.next()).done); _iteratorNormalCompletion379 = true) {
              const t = _step379.value;
              const e = t.type == "insert" || t.type == "remove" ? t.position.parent : t.range.start.parent;

              if (e.is("tableCell") && _P(e, t.type)) {
                n.add(e);
              }
            }
          } catch (err) {
            _didIteratorError379 = true;
            _iteratorError379 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion379 && _iterator379.return != null) {
                _iterator379.return();
              }
            } finally {
              if (_didIteratorError379) {
                throw _iteratorError379;
              }
            }
          }

          if (n.size) {
            var _iteratorNormalCompletion380 = true;
            var _didIteratorError380 = false;
            var _iteratorError380 = undefined;

            try {
              for (var _iterator380 = n.values()[Symbol.iterator](), _step380; !(_iteratorNormalCompletion380 = (_step380 = _iterator380.next()).done); _iteratorNormalCompletion380 = true) {
                const t = _step380.value;
                e.refreshItem(t);
              }
            } catch (err) {
              _didIteratorError380 = true;
              _iteratorError380 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion380 && _iterator380.return != null) {
                  _iterator380.return();
                }
              } finally {
                if (_didIteratorError380) {
                  throw _iteratorError380;
                }
              }
            }

            return true;
          }

          return false;
        }

        function _P(t, e) {
          const n = Array.from(t.getChildren()).some(t => t.is("paragraph"));

          if (!n) {
            return false;
          }

          if (e == "attribute") {
            const e = Array.from(t.getChild(0).getAttributeKeys()).length;
            return t.childCount === 1 && e < 2;
          }

          return t.childCount <= (e == "insert" ? 2 : 1);
        }

        var kP = n(84);

        class vP extends Ow {
          static get pluginName() {
            return "TableEditing";
          }

          init() {
            const t = this.editor;
            const e = t.model;
            const n = e.schema;
            const i = t.conversion;
            n.register("table", {
              allowWhere: "$block",
              allowAttributes: ["headingRows", "headingColumns"],
              isLimit: true,
              isObject: true,
              isBlock: true
            });
            n.register("tableRow", {
              allowIn: "table",
              isLimit: true
            });
            n.register("tableCell", {
              allowIn: "tableRow",
              allowAttributes: ["colspan", "rowspan"],
              isLimit: true
            });
            n.extend("$block", {
              allowIn: "tableCell"
            });
            n.addChildCheck((t, e) => {
              if (e.name == "table" && Array.from(t.getNames()).includes("table")) {
                return false;
              }
            });
            i.for("upcast").add(lC());
            i.for("editingDowncast").add(wC({
              asWidget: true
            }));
            i.for("dataDowncast").add(wC());
            i.for("upcast").elementToElement({
              model: "tableRow",
              view: "tr"
            });
            i.for("editingDowncast").add(_C({
              asWidget: true
            }));
            i.for("dataDowncast").add(_C());
            i.for("downcast").add(xC());
            i.for("upcast").add(dC("td"));
            i.for("upcast").add(dC("th"));
            i.for("editingDowncast").add(kC({
              asWidget: true
            }));
            i.for("dataDowncast").add(kC());
            i.attributeToAttribute({
              model: "colspan",
              view: "colspan"
            });
            i.attributeToAttribute({
              model: "rowspan",
              view: "rowspan"
            });
            i.for("editingDowncast").add(yC({
              asWidget: true
            }));
            i.for("dataDowncast").add(yC());
            i.for("editingDowncast").add(vC({
              asWidget: true
            }));
            i.for("dataDowncast").add(vC());
            t.commands.add("insertTable", new zC(t));
            t.commands.add("insertTableRowAbove", new VC(t, {
              order: "above"
            }));
            t.commands.add("insertTableRowBelow", new VC(t, {
              order: "below"
            }));
            t.commands.add("insertTableColumnLeft", new BC(t, {
              order: "left"
            }));
            t.commands.add("insertTableColumnRight", new BC(t, {
              order: "right"
            }));
            t.commands.add("removeTableRow", new GC(t));
            t.commands.add("removeTableColumn", new QC(t));
            t.commands.add("splitTableCellVertically", new FC(t, {
              direction: "vertically"
            }));
            t.commands.add("splitTableCellHorizontally", new FC(t, {
              direction: "horizontally"
            }));
            t.commands.add("mergeTableCellRight", new HC(t, {
              direction: "right"
            }));
            t.commands.add("mergeTableCellLeft", new HC(t, {
              direction: "left"
            }));
            t.commands.add("mergeTableCellDown", new HC(t, {
              direction: "down"
            }));
            t.commands.add("mergeTableCellUp", new HC(t, {
              direction: "up"
            }));
            t.commands.add("setTableColumnHeader", new XC(t));
            t.commands.add("setTableRowHeader", new KC(t));
            oP(e);
            bP(e);
            uP(e);
            this.editor.keystrokes.set("Tab", (...t) => this._handleTabOnSelectedTable(...t), {
              priority: "low"
            });
            this.editor.keystrokes.set("Tab", this._getTabHandler(true), {
              priority: "low"
            });
            this.editor.keystrokes.set("Shift+Tab", this._getTabHandler(false), {
              priority: "low"
            });
          }

          static get requires() {
            return [tP];
          }

          _handleTabOnSelectedTable(t, e) {
            const n = this.editor;
            const i = n.model.document.selection;

            if (!i.isCollapsed && i.rangeCount === 1 && i.getFirstRange().isFlat) {
              const t = i.getSelectedElement();

              if (!t || !t.is("table")) {
                return;
              }

              e();
              n.model.change(e => {
                e.setSelection(e.createRangeIn(t.getChild(0).getChild(0)));
              });
            }
          }

          _getTabHandler(t) {
            const e = this.editor;
            return (n, i) => {
              const o = e.model.document.selection;
              const s = o.getFirstPosition();
              const r = oC("tableCell", s);

              if (!r) {
                return;
              }

              i();
              const a = r.parent;
              const c = a.parent;
              const l = c.getChildIndex(a);
              const d = a.getChildIndex(r);
              const u = d === 0;

              if (!t && u && l === 0) {
                return;
              }

              const h = d === a.childCount - 1;
              const f = l === c.childCount - 1;

              if (t && f && h) {
                e.execute("insertTableRowBelow");

                if (l === c.childCount - 1) {
                  return;
                }
              }

              let m;

              if (t && h) {
                const t = c.getChild(l + 1);
                m = t.getChild(0);
              } else if (!t && u) {
                const t = c.getChild(l - 1);
                m = t.getChild(t.childCount - 1);
              } else {
                m = a.getChild(d + (t ? 1 : -1));
              }

              e.model.change(t => {
                t.setSelection(t.createRangeIn(m));
              });
            };
          }

        }

        var yP = n(86);

        class xP extends pb {
          constructor(t) {
            super(t);
            const e = this.bindTemplate;
            this.items = this.createCollection();
            this.set("rows", 0);
            this.set("columns", 0);
            this.bind("label").to(this, "columns", this, "rows", (t, e) => "".concat(e, " \xD7 ").concat(t));
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck"]
              },
              children: [{
                tag: "div",
                attributes: {
                  class: ["ck-insert-table-dropdown__grid"]
                },
                children: this.items
              }, {
                tag: "div",
                attributes: {
                  class: ["ck-insert-table-dropdown__label"]
                },
                children: [{
                  text: e.to("label")
                }]
              }],
              on: {
                mousedown: e.to(t => {
                  t.preventDefault();
                }),
                click: e.to(() => {
                  this.fire("execute");
                })
              }
            });

            for (let t = 0; t < 100; t++) {
              const e = new AP();
              e.on("over", () => {
                const e = Math.floor(t / 10);
                const n = t % 10;
                this.set("rows", e + 1);
                this.set("columns", n + 1);
              });
              this.items.add(e);
            }

            this.on("change:columns", () => {
              this._highlightGridBoxes();
            });
            this.on("change:rows", () => {
              this._highlightGridBoxes();
            });
          }

          focus() {}

          focusLast() {}

          _highlightGridBoxes() {
            const t = this.rows;
            const e = this.columns;
            this.items.map((n, i) => {
              const o = Math.floor(i / 10);
              const s = i % 10;
              const r = o < t && s < e;
              n.set("isOn", r);
            });
          }

        }

        class AP extends pb {
          constructor(t) {
            super(t);
            const e = this.bindTemplate;
            this.set("isOn", false);
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck-insert-table-dropdown-grid-box", e.if("isOn", "ck-on")]
              },
              on: {
                mouseover: e.to("over")
              }
            });
          }

        }

        var TP = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 01-1.5 1.5H3A1.5 1.5 0 011.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>';
        var CP = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0119 2.5v15a1.5 1.5 0 01-1.5 1.5h-15A1.5 1.5 0 011 17.5v-15A1.5 1.5 0 012.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 01-1 1H7a1 1 0 01-1-1V1a1 1 0 011-1h6a1 1 0 011 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>';
        var PP = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0119 2.5v15a1.5 1.5 0 01-1.5 1.5h-15A1.5 1.5 0 011 17.5v-15A1.5 1.5 0 012.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 011 1v6a1 1 0 01-1 1H1a1 1 0 01-1-1V7a1 1 0 011-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>';
        var SP = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0119 2.5v15a1.5 1.5 0 01-1.5 1.5h-15A1.5 1.5 0 011 17.5v-15A1.5 1.5 0 012.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 011 1v11a1 1 0 01-1 1H7a1 1 0 01-1-1V8a1 1 0 011-1zm1 2v9h10V9H8z"/></svg>';

        class MP extends Ow {
          init() {
            const t = this.editor;
            const e = this.editor.t;
            const n = t.locale.contentLanguageDirection;
            const i = n === "ltr";
            t.ui.componentFactory.add("insertTable", n => {
              const i = t.commands.get("insertTable");
              const o = uw(n);
              o.bind("isEnabled").to(i);
              o.buttonView.set({
                icon: TP,
                label: e("p"),
                tooltip: true
              });
              let s;
              o.on("change:isOpen", () => {
                if (s) {
                  return;
                }

                s = new xP(n);
                o.panelView.children.add(s);
                s.delegate("execute").to(o);
                o.buttonView.on("open", () => {
                  s.rows = 0;
                  s.columns = 0;
                });
                o.on("execute", () => {
                  t.execute("insertTable", {
                    rows: s.rows,
                    columns: s.columns
                  });
                  t.editing.view.focus();
                });
              });
              return o;
            });
            t.ui.componentFactory.add("tableColumn", t => {
              const n = [{
                type: "switchbutton",
                model: {
                  commandName: "setTableColumnHeader",
                  label: e("q"),
                  bindIsOn: true
                }
              }, {
                type: "separator"
              }, {
                type: "button",
                model: {
                  commandName: i ? "insertTableColumnLeft" : "insertTableColumnRight",
                  label: e("r")
                }
              }, {
                type: "button",
                model: {
                  commandName: i ? "insertTableColumnRight" : "insertTableColumnLeft",
                  label: e("s")
                }
              }, {
                type: "button",
                model: {
                  commandName: "removeTableColumn",
                  label: e("t")
                }
              }];
              return this._prepareDropdown(e("u"), CP, n, t);
            });
            t.ui.componentFactory.add("tableRow", t => {
              const n = [{
                type: "switchbutton",
                model: {
                  commandName: "setTableRowHeader",
                  label: e("v"),
                  bindIsOn: true
                }
              }, {
                type: "separator"
              }, {
                type: "button",
                model: {
                  commandName: "insertTableRowBelow",
                  label: e("w")
                }
              }, {
                type: "button",
                model: {
                  commandName: "insertTableRowAbove",
                  label: e("x")
                }
              }, {
                type: "button",
                model: {
                  commandName: "removeTableRow",
                  label: e("y")
                }
              }];
              return this._prepareDropdown(e("z"), PP, n, t);
            });
            t.ui.componentFactory.add("mergeTableCells", t => {
              const n = [{
                type: "button",
                model: {
                  commandName: "mergeTableCellUp",
                  label: e("aa")
                }
              }, {
                type: "button",
                model: {
                  commandName: i ? "mergeTableCellRight" : "mergeTableCellLeft",
                  label: e("ab")
                }
              }, {
                type: "button",
                model: {
                  commandName: "mergeTableCellDown",
                  label: e("ac")
                }
              }, {
                type: "button",
                model: {
                  commandName: i ? "mergeTableCellLeft" : "mergeTableCellRight",
                  label: e("ad")
                }
              }, {
                type: "separator"
              }, {
                type: "button",
                model: {
                  commandName: "splitTableCellVertically",
                  label: e("ae")
                }
              }, {
                type: "button",
                model: {
                  commandName: "splitTableCellHorizontally",
                  label: e("af")
                }
              }];
              return this._prepareDropdown(e("ag"), SP, n, t);
            });
          }

          _prepareDropdown(t, e, n, i) {
            const o = this.editor;
            const s = uw(i);
            const r = [];
            const a = new yr();
            var _iteratorNormalCompletion381 = true;
            var _didIteratorError381 = false;
            var _iteratorError381 = undefined;

            try {
              for (var _iterator381 = n[Symbol.iterator](), _step381; !(_iteratorNormalCompletion381 = (_step381 = _iterator381.next()).done); _iteratorNormalCompletion381 = true) {
                const t = _step381.value;
                EP(t, o, r, a);
              }
            } catch (err) {
              _didIteratorError381 = true;
              _iteratorError381 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion381 && _iterator381.return != null) {
                  _iterator381.return();
                }
              } finally {
                if (_didIteratorError381) {
                  throw _iteratorError381;
                }
              }
            }

            fw(s, a, o.ui.componentFactory);
            s.buttonView.set({
              label: t,
              icon: e,
              tooltip: true
            });
            s.bind("isEnabled").toMany(r, "isEnabled", (...t) => t.some(t => t));
            this.listenTo(s, "execute", t => {
              o.execute(t.source.commandName);
              o.editing.view.focus();
            });
            return s;
          }

        }

        function EP(t, e, n, i) {
          const o = t.model = new u_(t.model);
          const _t$model = t.model,
                s = _t$model.commandName,
                r = _t$model.bindIsOn;

          if (t.type === "button" || t.type === "switchbutton") {
            const t = e.commands.get(s);
            n.push(t);
            o.set({
              commandName: s
            });
            o.bind("isEnabled").to(t);

            if (r) {
              o.bind("isOn").to(t, "value");
            }
          }

          o.set({
            withText: true
          });
          i.add(t);
        }

        var IP = n(88);

        class NP extends Ow {
          static get requires() {
            return [vP, MP, X_];
          }

          static get pluginName() {
            return "Table";
          }

        }

        class OP extends Ow {
          static get requires() {
            return [fv];
          }

          static get pluginName() {
            return "TableToolbar";
          }

          afterInit() {
            const t = this.editor;
            const e = t.t;
            const n = t.plugins.get(fv);
            const i = t.config.get("table.contentToolbar");
            const o = t.config.get("table.tableToolbar");

            if (i) {
              n.register("tableContent", {
                ariaLabel: e("c"),
                items: i,
                getRelatedElement: bC
              });
            }

            if (o) {
              n.register("table", {
                ariaLabel: e("c"),
                items: o,
                getRelatedElement: pC
              });
            }
          }

        }

        const RP = ["left", "right", "center", "justify"];

        function DP(t) {
          return RP.includes(t);
        }

        function LP(t, e) {
          if (e.contentLanguageDirection == "rtl") {
            return t === "right";
          } else {
            return t === "left";
          }
        }

        const zP = "alignment";

        class jP extends zw {
          refresh() {
            const t = this.editor;
            const e = t.locale;
            const n = Vw(this.editor.model.document.selection.getSelectedBlocks());
            this.isEnabled = !!n && this._canBeAligned(n);

            if (this.isEnabled && n.hasAttribute("alignment")) {
              this.value = n.getAttribute("alignment");
            } else {
              this.value = e.contentLanguageDirection === "rtl" ? "right" : "left";
            }
          }

          execute(t = {}) {
            const e = this.editor;
            const n = e.locale;
            const i = e.model;
            const o = i.document;
            const s = t.value;
            i.change(t => {
              const e = Array.from(o.selection.getSelectedBlocks()).filter(t => this._canBeAligned(t));
              const i = e[0].getAttribute("alignment");
              const r = LP(s, n) || i === s || !s;

              if (r) {
                VP(e, t);
              } else {
                BP(e, t, s);
              }
            });
          }

          _canBeAligned(t) {
            return this.editor.model.schema.checkAttribute(t, zP);
          }

        }

        function VP(t, e) {
          var _iteratorNormalCompletion382 = true;
          var _didIteratorError382 = false;
          var _iteratorError382 = undefined;

          try {
            for (var _iterator382 = t[Symbol.iterator](), _step382; !(_iteratorNormalCompletion382 = (_step382 = _iterator382.next()).done); _iteratorNormalCompletion382 = true) {
              const n = _step382.value;
              e.removeAttribute(zP, n);
            }
          } catch (err) {
            _didIteratorError382 = true;
            _iteratorError382 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion382 && _iterator382.return != null) {
                _iterator382.return();
              }
            } finally {
              if (_didIteratorError382) {
                throw _iteratorError382;
              }
            }
          }
        }

        function BP(t, e, n) {
          var _iteratorNormalCompletion383 = true;
          var _didIteratorError383 = false;
          var _iteratorError383 = undefined;

          try {
            for (var _iterator383 = t[Symbol.iterator](), _step383; !(_iteratorNormalCompletion383 = (_step383 = _iterator383.next()).done); _iteratorNormalCompletion383 = true) {
              const i = _step383.value;
              e.setAttribute(zP, n, i);
            }
          } catch (err) {
            _didIteratorError383 = true;
            _iteratorError383 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion383 && _iterator383.return != null) {
                _iterator383.return();
              }
            } finally {
              if (_didIteratorError383) {
                throw _iteratorError383;
              }
            }
          }
        }

        class FP extends Ow {
          static get pluginName() {
            return "AlignmentEditing";
          }

          constructor(t) {
            super(t);
            t.config.define("alignment", {
              options: [...RP]
            });
          }

          init() {
            const t = this.editor;
            const e = t.locale;
            const n = t.model.schema;
            const i = t.config.get("alignment.options").filter(DP);
            n.extend("$block", {
              allowAttributes: "alignment"
            });
            t.model.schema.setAttributeProperties("alignment", {
              isFormatting: true
            });
            const o = HP(i.filter(t => !LP(t, e)));
            t.conversion.attributeToAttribute(o);
            t.commands.add("alignment", new jP(t));
          }

        }

        function HP(t) {
          const e = {
            model: {
              key: "alignment",
              values: t.slice()
            },
            view: {}
          };
          var _iteratorNormalCompletion384 = true;
          var _didIteratorError384 = false;
          var _iteratorError384 = undefined;

          try {
            for (var _iterator384 = t[Symbol.iterator](), _step384; !(_iteratorNormalCompletion384 = (_step384 = _iterator384.next()).done); _iteratorNormalCompletion384 = true) {
              const n = _step384.value;
              e.view[n] = {
                key: "style",
                value: {
                  "text-align": n
                }
              };
            }
          } catch (err) {
            _didIteratorError384 = true;
            _iteratorError384 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion384 && _iterator384.return != null) {
                _iterator384.return();
              }
            } finally {
              if (_didIteratorError384) {
                throw _iteratorError384;
              }
            }
          }

          return e;
        }

        var UP = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75z"/></svg>';
        var WP = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 01-.75.75H2.75a.75.75 0 110-1.5h14.5a.75.75 0 01.75.75zm0 8a.75.75 0 01-.75.75H2.75a.75.75 0 110-1.5h14.5a.75.75 0 01.75.75zm0 4a.75.75 0 01-.75.75H7.321a.75.75 0 110-1.5h9.929a.75.75 0 01.75.75zm0-8a.75.75 0 01-.75.75H7.321a.75.75 0 110-1.5h9.929a.75.75 0 01.75.75z"/></svg>';
        var qP = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 100-1.5H5.036a.75.75 0 00-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 100-1.5H5.036a.75.75 0 00-.75.75z"/></svg>';
        var $P = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75z"/></svg>';
        const YP = new Map([["left", UP], ["right", WP], ["center", qP], ["justify", $P]]);

        class GP extends Ow {
          get localizedOptionTitles() {
            const t = this.editor.t;
            return {
              left: t("ah"),
              right: t("ai"),
              center: t("aj"),
              justify: t("ak")
            };
          }

          static get pluginName() {
            return "AlignmentUI";
          }

          init() {
            const t = this.editor;
            const e = t.ui.componentFactory;
            const n = t.t;
            const i = t.config.get("alignment.options");
            i.filter(DP).forEach(t => this._addButton(t));
            e.add("alignment", t => {
              const o = uw(t);
              const s = i.map(t => e.create("alignment:".concat(t)));
              hw(o, s);
              o.buttonView.set({
                label: n("al"),
                tooltip: true
              });
              o.toolbarView.isVertical = true;
              o.toolbarView.ariaLabel = n("am");
              o.extendTemplate({
                attributes: {
                  class: "ck-alignment-dropdown"
                }
              });
              const r = t.contentLanguageDirection === "rtl" ? WP : UP;
              o.buttonView.bind("icon").toMany(s, "isOn", (...t) => {
                const e = t.findIndex(t => t);

                if (e < 0) {
                  return r;
                }

                return s[e].icon;
              });
              o.bind("isEnabled").toMany(s, "isEnabled", (...t) => t.some(t => t));
              return o;
            });
          }

          _addButton(t) {
            const e = this.editor;
            e.ui.componentFactory.add("alignment:".concat(t), n => {
              const i = e.commands.get("alignment");
              const o = new Xb(n);
              o.set({
                label: this.localizedOptionTitles[t],
                icon: YP.get(t),
                tooltip: true,
                isToggleable: true
              });
              o.bind("isEnabled").to(i);
              o.bind("isOn").to(i, "value", e => e === t);
              this.listenTo(o, "execute", () => {
                e.execute("alignment", {
                  value: t
                });
                e.editing.view.focus();
              });
              return o;
            });
          }

        }

        class QP extends Ow {
          static get requires() {
            return [FP, GP];
          }

          static get pluginName() {
            return "Alignment";
          }

        }

        class KP extends Ow {
          static get requires() {
            return [Ev];
          }

          static get pluginName() {
            return "Base64UploadAdapter";
          }

          init() {
            this.editor.plugins.get(Ev).createUploadAdapter = t => new JP(t);
          }

        }

        class JP {
          constructor(t) {
            this.loader = t;
          }

          upload() {
            return new Promise((t, e) => {
              const n = this.reader = new window.FileReader();
              n.addEventListener("load", () => {
                t({
                  default: n.result
                });
              });
              n.addEventListener("error", t => {
                e(t);
              });
              n.addEventListener("abort", () => {
                e();
              });
              this.loader.file.then(t => {
                n.readAsDataURL(t);
              });
            });
          }

          abort() {
            this.reader.abort();
          }

        }

        class ZP extends zw {
          constructor(t, e) {
            super(t);
            this.attributeKey = e;
          }

          refresh() {
            const t = this.editor.model;
            const e = t.document;
            this.value = e.selection.getAttribute(this.attributeKey);
            this.isEnabled = t.schema.checkAttributeInSelection(e.selection, this.attributeKey);
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.document;
            const i = n.selection;
            const o = t.value;
            e.change(t => {
              if (i.isCollapsed) {
                if (o) {
                  t.setSelectionAttribute(this.attributeKey, o);
                } else {
                  t.removeSelectionAttribute(this.attributeKey);
                }
              } else {
                const n = e.schema.getValidRanges(i.getRanges(), this.attributeKey);
                var _iteratorNormalCompletion385 = true;
                var _didIteratorError385 = false;
                var _iteratorError385 = undefined;

                try {
                  for (var _iterator385 = n[Symbol.iterator](), _step385; !(_iteratorNormalCompletion385 = (_step385 = _iterator385.next()).done); _iteratorNormalCompletion385 = true) {
                    const e = _step385.value;

                    if (o) {
                      t.setAttribute(this.attributeKey, o, e);
                    } else {
                      t.removeAttribute(this.attributeKey, e);
                    }
                  }
                } catch (err) {
                  _didIteratorError385 = true;
                  _iteratorError385 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion385 && _iterator385.return != null) {
                      _iterator385.return();
                    }
                  } finally {
                    if (_didIteratorError385) {
                      throw _iteratorError385;
                    }
                  }
                }
              }
            });
          }

        }

        var XP = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 010 2.829l-7.778 7.778a2 2 0 01-2.829 0L3.5 13.107a1.999 1.999 0 112.828-2.829l.707.707a1 1 0 001.414 0l5.658-5.657a2 2 0 012.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 01-1.414 0l-1.413-1.415A1 1 0 104.207 12.4l2.829 2.829a1 1 0 001.414 0l7.778-7.778a1 1 0 10-1.414-1.415z"/></svg>';

        class tS extends Xb {
          constructor(t) {
            super(t);
            const e = this.bindTemplate;
            this.set("color");
            this.set("hasBorder");
            this.icon = XP;
            this.extendTemplate({
              attributes: {
                style: {
                  backgroundColor: e.to("color")
                },
                class: ["ck", "ck-color-grid__tile", e.if("hasBorder", "ck-color-table__color-tile_bordered")]
              }
            });
          }

          render() {
            super.render();
            this.iconView.fillColor = "hsl(0, 0%, 100%)";
          }

        }

        var eS = n(90);

        class nS extends pb {
          constructor(t, e) {
            super(t);
            const n = e && e.colorDefinitions || [];
            const i = {};

            if (e && e.columns) {
              i.gridTemplateColumns = "repeat( ".concat(e.columns, ", 1fr)");
            }

            this.set("selectedColor");
            this.items = this.createCollection();
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this._focusCycler = new Ob({
              focusables: this.items,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {
                focusPrevious: "arrowleft",
                focusNext: "arrowright"
              }
            });
            this.items.on("add", (t, e) => {
              e.isOn = e.color === this.selectedColor;
            });
            n.forEach(t => {
              const e = new tS();
              e.set({
                color: t.color,
                label: t.label,
                tooltip: true,
                hasBorder: t.options.hasBorder
              });
              e.on("execute", () => {
                this.fire("execute", {
                  value: t.color,
                  hasBorder: t.options.hasBorder,
                  label: t.label
                });
              });
              this.items.add(e);
            });
            this.setTemplate({
              tag: "div",
              children: this.items,
              attributes: {
                class: ["ck", "ck-color-grid"],
                style: i
              }
            });
            this.on("change:selectedColor", (t, e, n) => {
              var _iteratorNormalCompletion386 = true;
              var _didIteratorError386 = false;
              var _iteratorError386 = undefined;

              try {
                for (var _iterator386 = this.items[Symbol.iterator](), _step386; !(_iteratorNormalCompletion386 = (_step386 = _iterator386.next()).done); _iteratorNormalCompletion386 = true) {
                  const t = _step386.value;
                  t.isOn = t.color === n;
                }
              } catch (err) {
                _didIteratorError386 = true;
                _iteratorError386 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion386 && _iterator386.return != null) {
                    _iterator386.return();
                  }
                } finally {
                  if (_didIteratorError386) {
                    throw _iteratorError386;
                  }
                }
              }
            });
          }

          focus() {
            if (this.items.length) {
              this.items.first.focus();
            }
          }

          focusLast() {
            if (this.items.length) {
              this.items.last.focus();
            }
          }

          render() {
            super.render();
            var _iteratorNormalCompletion387 = true;
            var _didIteratorError387 = false;
            var _iteratorError387 = undefined;

            try {
              for (var _iterator387 = this.items[Symbol.iterator](), _step387; !(_iteratorNormalCompletion387 = (_step387 = _iterator387.next()).done); _iteratorNormalCompletion387 = true) {
                const t = _step387.value;
                this.focusTracker.add(t.element);
              }
            } catch (err) {
              _didIteratorError387 = true;
              _iteratorError387 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion387 && _iterator387.return != null) {
                  _iterator387.return();
                }
              } finally {
                if (_didIteratorError387) {
                  throw _iteratorError387;
                }
              }
            }

            this.items.on("add", (t, e) => {
              this.focusTracker.add(e.element);
            });
            this.items.on("remove", (t, e) => {
              this.focusTracker.remove(e.element);
            });
            this.keystrokes.listenTo(this.element);
          }

        }

        class iS extends yr {
          constructor(t) {
            super(t);
            this.set("isEmpty", true);
          }

          add(t, e) {
            if (this.find(e => e.color === t.color)) {
              return;
            }

            super.add(t, e);
            this.set("isEmpty", false);
          }

          remove(t) {
            const e = super.remove(t);

            if (this.length === 0) {
              this.set("isEmpty", true);
            }

            return e;
          }

          hasColor(t) {
            return !!this.find(e => e.color === t);
          }

        }

        vr(iS, Qc);
        var oS = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 00.122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 01-.491-2.786l6.673-9.53a2 2 0 012.785-.49l3.742 2.62a2 2 0 01.491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';
        var sS = n(92);

        class rS extends pb {
          constructor(t, {
            colors: e,
            columns: n,
            removeButtonLabel: i,
            documentColorsLabel: o,
            documentColorsCount: s
          }) {
            super(t);
            this.items = this.createCollection();
            this.colorDefinitions = e;
            this.focusTracker = new Ap();
            this.keystrokes = new up();
            this.set("selectedColor");
            this.removeButtonLabel = i;
            this.columns = n;
            this.documentColors = new iS();
            this.documentColorsCount = s;
            this._focusCycler = new Ob({
              focusables: this.items,
              focusTracker: this.focusTracker,
              keystrokeHandler: this.keystrokes,
              actions: {
                focusPrevious: "arrowup",
                focusNext: "arrowdown"
              }
            });
            this._documentColorsLabel = o;
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-color-table"]
              },
              children: this.items
            });
            this.items.add(this._removeColorButton());
          }

          updateDocumentColors(t, e) {
            const n = t.document;
            const i = this.documentColorsCount;
            this.documentColors.clear();
            var _iteratorNormalCompletion388 = true;
            var _didIteratorError388 = false;
            var _iteratorError388 = undefined;

            try {
              for (var _iterator388 = n.getRootNames()[Symbol.iterator](), _step388; !(_iteratorNormalCompletion388 = (_step388 = _iterator388.next()).done); _iteratorNormalCompletion388 = true) {
                const o = _step388.value;
                const s = n.getRoot(o);
                const r = t.createRangeIn(s);
                var _iteratorNormalCompletion389 = true;
                var _didIteratorError389 = false;
                var _iteratorError389 = undefined;

                try {
                  for (var _iterator389 = r.getItems()[Symbol.iterator](), _step389; !(_iteratorNormalCompletion389 = (_step389 = _iterator389.next()).done); _iteratorNormalCompletion389 = true) {
                    const t = _step389.value;

                    if (t.is("textProxy") && t.hasAttribute(e)) {
                      this._addColorToDocumentColors(t.getAttribute(e));

                      if (this.documentColors.length >= i) {
                        return;
                      }
                    }
                  }
                } catch (err) {
                  _didIteratorError389 = true;
                  _iteratorError389 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion389 && _iterator389.return != null) {
                      _iterator389.return();
                    }
                  } finally {
                    if (_didIteratorError389) {
                      throw _iteratorError389;
                    }
                  }
                }
              }
            } catch (err) {
              _didIteratorError388 = true;
              _iteratorError388 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion388 && _iterator388.return != null) {
                  _iterator388.return();
                }
              } finally {
                if (_didIteratorError388) {
                  throw _iteratorError388;
                }
              }
            }
          }

          updateSelectedColors() {
            const t = this.documentColorsGrid;
            const e = this.staticColorsGrid;
            const n = this.selectedColor;
            e.selectedColor = n;

            if (t) {
              t.selectedColor = n;
            }
          }

          render() {
            super.render();
            var _iteratorNormalCompletion390 = true;
            var _didIteratorError390 = false;
            var _iteratorError390 = undefined;

            try {
              for (var _iterator390 = this.items[Symbol.iterator](), _step390; !(_iteratorNormalCompletion390 = (_step390 = _iterator390.next()).done); _iteratorNormalCompletion390 = true) {
                const t = _step390.value;
                this.focusTracker.add(t.element);
              }
            } catch (err) {
              _didIteratorError390 = true;
              _iteratorError390 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion390 && _iterator390.return != null) {
                  _iterator390.return();
                }
              } finally {
                if (_didIteratorError390) {
                  throw _iteratorError390;
                }
              }
            }

            this.keystrokes.listenTo(this.element);
          }

          appendGrids() {
            if (this.staticColorsGrid) {
              return;
            }

            this.staticColorsGrid = this._createStaticColorsGrid();
            this.items.add(this.staticColorsGrid);

            if (this.documentColorsCount) {
              const t = Up.bind(this.documentColors, this.documentColors);
              const e = new Tb(this.locale);
              e.text = this._documentColorsLabel;
              e.extendTemplate({
                attributes: {
                  class: ["ck", "ck-color-grid__label", t.if("isEmpty", "ck-hidden")]
                }
              });
              this.items.add(e);
              this.documentColorsGrid = this._createDocumentColorsGrid();
              this.items.add(this.documentColorsGrid);
            }
          }

          focus() {
            this._focusCycler.focusFirst();
          }

          focusLast() {
            this._focusCycler.focusLast();
          }

          _removeColorButton() {
            const t = new Xb();
            t.set({
              withText: true,
              icon: oS,
              tooltip: true,
              label: this.removeButtonLabel
            });
            t.class = "ck-color-table__remove-color";
            t.on("execute", () => {
              this.fire("execute", {
                value: null
              });
            });
            return t;
          }

          _createStaticColorsGrid() {
            const t = new nS(this.locale, {
              colorDefinitions: this.colorDefinitions,
              columns: this.columns
            });
            t.delegate("execute").to(this);
            return t;
          }

          _createDocumentColorsGrid() {
            const t = Up.bind(this.documentColors, this.documentColors);
            const e = new nS(this.locale, {
              columns: this.columns
            });
            e.delegate("execute").to(this);
            e.extendTemplate({
              attributes: {
                class: t.if("isEmpty", "ck-hidden")
              }
            });
            e.items.bindTo(this.documentColors).using(t => {
              const e = new tS();
              e.set({
                color: t.color,
                hasBorder: t.options && t.options.hasBorder
              });

              if (t.label) {
                e.set({
                  label: t.label,
                  tooltip: true
                });
              }

              e.on("execute", () => {
                this.fire("execute", {
                  value: t.color
                });
              });
              return e;
            });
            this.documentColors.on("change:isEmpty", (t, n, i) => {
              if (i) {
                e.selectedColor = null;
              }
            });
            return e;
          }

          _addColorToDocumentColors(t) {
            const e = this.colorDefinitions.find(e => e.color === t);

            if (!e) {
              this.documentColors.add({
                color: t,
                label: t,
                options: {
                  hasBorder: false
                }
              });
            } else {
              this.documentColors.add(Object.assign({}, e));
            }
          }

        }

        const aS = "fontSize";
        const cS = "fontFamily";
        const lS = "fontColor";
        const dS = "fontBackgroundColor";

        function uS(t, e) {
          const n = {
            model: {
              key: t,
              values: []
            },
            view: {},
            upcastAlso: {}
          };
          var _iteratorNormalCompletion391 = true;
          var _didIteratorError391 = false;
          var _iteratorError391 = undefined;

          try {
            for (var _iterator391 = e[Symbol.iterator](), _step391; !(_iteratorNormalCompletion391 = (_step391 = _iterator391.next()).done); _iteratorNormalCompletion391 = true) {
              const t = _step391.value;
              n.model.values.push(t.model);
              n.view[t.model] = t.view;

              if (t.upcastAlso) {
                n.upcastAlso[t.model] = t.upcastAlso;
              }
            }
          } catch (err) {
            _didIteratorError391 = true;
            _iteratorError391 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion391 && _iterator391.return != null) {
                _iterator391.return();
              }
            } finally {
              if (_didIteratorError391) {
                throw _iteratorError391;
              }
            }
          }

          return n;
        }

        function hS(t) {
          return e => gS(e.getStyle(t));
        }

        function fS(t) {
          return (e, n) => n.createAttributeElement("span", {
            style: "".concat(t, ":").concat(e)
          }, {
            priority: 7
          });
        }

        function mS({
          dropdownView: t,
          colors: e,
          columns: n,
          removeButtonLabel: i,
          documentColorsLabel: o,
          documentColorsCount: s
        }) {
          const r = t.locale;
          const a = new rS(r, {
            colors: e,
            columns: n,
            removeButtonLabel: i,
            documentColorsLabel: o,
            documentColorsCount: s
          });
          t.colorTableView = a;
          t.panelView.children.add(a);
          a.delegate("execute").to(t, "execute");
          return a;
        }

        function gS(t) {
          return t.replace(/\s/g, "");
        }

        class pS extends ZP {
          constructor(t) {
            super(t, lS);
          }

        }

        class bS extends Ow {
          static get pluginName() {
            return "FontColorEditing";
          }

          constructor(t) {
            super(t);
            t.config.define(lS, {
              colors: [{
                color: "hsl(0, 0%, 0%)",
                label: "Black"
              }, {
                color: "hsl(0, 0%, 30%)",
                label: "Dim grey"
              }, {
                color: "hsl(0, 0%, 60%)",
                label: "Grey"
              }, {
                color: "hsl(0, 0%, 90%)",
                label: "Light grey"
              }, {
                color: "hsl(0, 0%, 100%)",
                label: "White",
                hasBorder: true
              }, {
                color: "hsl(0, 75%, 60%)",
                label: "Red"
              }, {
                color: "hsl(30, 75%, 60%)",
                label: "Orange"
              }, {
                color: "hsl(60, 75%, 60%)",
                label: "Yellow"
              }, {
                color: "hsl(90, 75%, 60%)",
                label: "Light green"
              }, {
                color: "hsl(120, 75%, 60%)",
                label: "Green"
              }, {
                color: "hsl(150, 75%, 60%)",
                label: "Aquamarine"
              }, {
                color: "hsl(180, 75%, 60%)",
                label: "Turquoise"
              }, {
                color: "hsl(210, 75%, 60%)",
                label: "Light blue"
              }, {
                color: "hsl(240, 75%, 60%)",
                label: "Blue"
              }, {
                color: "hsl(270, 75%, 60%)",
                label: "Purple"
              }],
              columns: 5
            });
            t.conversion.for("upcast").elementToAttribute({
              view: {
                name: "span",
                styles: {
                  color: /[\s\S]+/
                }
              },
              model: {
                key: lS,
                value: hS("color")
              }
            });
            t.conversion.for("downcast").attributeToElement({
              model: lS,
              view: fS("color")
            });
            t.commands.add(lS, new pS(t));
            t.model.schema.extend("$text", {
              allowAttributes: lS
            });
            t.model.schema.setAttributeProperties(lS, {
              isFormatting: true,
              copyOnEnter: true
            });
          }

        }

        function wS(t, e) {
          const n = t.t;
          const i = {
            Black: n("ca"),
            "Dim grey": n("cb"),
            Grey: n("cc"),
            "Light grey": n("cd"),
            White: n("ce"),
            Red: n("cf"),
            Orange: n("cg"),
            Yellow: n("ch"),
            "Light green": n("ci"),
            Green: n("cj"),
            Aquamarine: n("ck"),
            Turquoise: n("cl"),
            "Light blue": n("cm"),
            Blue: n("cn"),
            Purple: n("co")
          };
          return e.map(t => {
            const e = i[t.label];

            if (e && e != t.label) {
              t.label = e;
            }

            return t;
          });
        }

        function _S(t) {
          return t.map(kS).filter(t => !!t);
        }

        function kS(t) {
          if (typeof t === "string") {
            return {
              model: t.replace(/ /g, ""),
              label: t,
              hasBorder: false,
              view: {
                name: "span",
                styles: {
                  color: t
                }
              }
            };
          } else {
            return {
              model: t.color.replace(/ /g, ""),
              label: t.label || t.color,
              hasBorder: t.hasBorder === undefined ? false : t.hasBorder,
              view: {
                name: "span",
                styles: {
                  color: "".concat(t.color)
                }
              }
            };
          }
        }

        class vS extends Ow {
          constructor(t, {
            commandName: e,
            icon: n,
            componentName: i,
            dropdownLabel: o
          }) {
            super(t);
            this.commandName = e;
            this.componentName = i;
            this.icon = n;
            this.dropdownLabel = o;
            this.columns = t.config.get("".concat(this.componentName, ".columns"));
            this.colorTableView;
          }

          init() {
            const t = this.editor;
            const e = t.locale;
            const n = e.t;
            const i = t.commands.get(this.commandName);

            const o = _S(t.config.get(this.componentName).colors);

            const s = wS(e, o);
            const r = t.config.get("".concat(this.componentName, ".documentColors"));
            t.ui.componentFactory.add(this.componentName, e => {
              const o = uw(e);
              this.colorTableView = mS({
                dropdownView: o,
                colors: s.map(t => ({
                  label: t.label,
                  color: t.model,
                  options: {
                    hasBorder: t.hasBorder
                  }
                })),
                columns: this.columns,
                removeButtonLabel: n("bl"),
                documentColorsLabel: r !== 0 ? n("bm") : undefined,
                documentColorsCount: r === undefined ? this.columns : r
              });
              this.colorTableView.bind("selectedColor").to(i, "value");
              o.buttonView.set({
                label: this.dropdownLabel,
                icon: this.icon,
                tooltip: true
              });
              o.extendTemplate({
                attributes: {
                  class: "ck-color-ui-dropdown"
                }
              });
              o.bind("isEnabled").to(i);
              o.on("execute", (e, n) => {
                t.execute(this.commandName, n);
                t.editing.view.focus();
              });
              o.on("change:isOpen", (e, n, i) => {
                o.colorTableView.appendGrids();

                if (i) {
                  if (r !== 0) {
                    this.colorTableView.updateDocumentColors(t.model, this.componentName);
                  }

                  this.colorTableView.updateSelectedColors();
                }
              });
              return o;
            });
          }

        }

        var yS = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 010-2h12a1 1 0 010 2z"/></svg>';

        class xS extends vS {
          constructor(t) {
            const e = t.locale.t;
            super(t, {
              commandName: lS,
              componentName: lS,
              icon: yS,
              dropdownLabel: e("ba")
            });
          }

          static get pluginName() {
            return "FontColorUI";
          }

        }

        class AS extends Ow {
          static get requires() {
            return [bS, xS];
          }

          static get pluginName() {
            return "FontColor";
          }

        }

        class TS extends ZP {
          constructor(t) {
            super(t, aS);
          }

        }

        function CS(t) {
          return t.map(SS).filter(t => !!t);
        }

        const PS = {
          tiny: {
            title: "Tiny",
            model: "tiny",
            view: {
              name: "span",
              classes: "text-tiny",
              priority: 7
            }
          },
          small: {
            title: "Small",
            model: "small",
            view: {
              name: "span",
              classes: "text-small",
              priority: 7
            }
          },
          big: {
            title: "Big",
            model: "big",
            view: {
              name: "span",
              classes: "text-big",
              priority: 7
            }
          },
          huge: {
            title: "Huge",
            model: "huge",
            view: {
              name: "span",
              classes: "text-huge",
              priority: 7
            }
          }
        };

        function SS(t) {
          if (typeof t === "object") {
            return t;
          }

          if (PS[t]) {
            return PS[t];
          }

          if (t === "default") {
            return {
              model: undefined,
              title: "Default"
            };
          }

          const e = parseFloat(t);

          if (isNaN(e)) {
            return;
          }

          return MS(e);
        }

        function MS(t) {
          const e = String(t);
          return {
            title: e,
            model: t,
            view: {
              name: "span",
              styles: {
                "font-size": "".concat(t, "px")
              },
              priority: 7
            }
          };
        }

        class ES extends Ow {
          static get pluginName() {
            return "FontSizeEditing";
          }

          constructor(t) {
            super(t);
            t.config.define(aS, {
              options: ["tiny", "small", "default", "big", "huge"]
            });
            const e = CS(this.editor.config.get("fontSize.options")).filter(t => t.model);
            const n = uS(aS, e);
            t.conversion.attributeToElement(n);
            t.commands.add(aS, new TS(t));
          }

          init() {
            const t = this.editor;
            t.model.schema.extend("$text", {
              allowAttributes: aS
            });
            t.model.schema.setAttributeProperties(aS, {
              isFormatting: true,
              copyOnEnter: true
            });
          }

        }

        var IS = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>';
        var NS = n(94);

        class OS extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;

            const n = this._getLocalizedOptions();

            const i = t.commands.get(aS);
            t.ui.componentFactory.add(aS, o => {
              const s = uw(o);
              fw(s, RS(n, i));
              s.buttonView.set({
                label: e("bb"),
                icon: IS,
                tooltip: true
              });
              s.extendTemplate({
                attributes: {
                  class: ["ck-font-size-dropdown"]
                }
              });
              s.bind("isEnabled").to(i);
              this.listenTo(s, "execute", e => {
                t.execute(e.source.commandName, {
                  value: e.source.commandParam
                });
                t.editing.view.focus();
              });
              return s;
            });
          }

          _getLocalizedOptions() {
            const t = this.editor;
            const e = t.t;
            const n = {
              Default: e("bc"),
              Tiny: e("bd"),
              Small: e("be"),
              Big: e("bf"),
              Huge: e("bg")
            };
            const i = CS(t.config.get(aS).options);
            return i.map(t => {
              const e = n[t.title];

              if (e && e != t.title) {
                t = Object.assign({}, t, {
                  title: e
                });
              }

              return t;
            });
          }

        }

        function RS(t, e) {
          const n = new yr();
          var _iteratorNormalCompletion392 = true;
          var _didIteratorError392 = false;
          var _iteratorError392 = undefined;

          try {
            for (var _iterator392 = t[Symbol.iterator](), _step392; !(_iteratorNormalCompletion392 = (_step392 = _iterator392.next()).done); _iteratorNormalCompletion392 = true) {
              const i = _step392.value;
              const t = {
                type: "button",
                model: new u_({
                  commandName: aS,
                  commandParam: i.model,
                  label: i.title,
                  class: "ck-fontsize-option",
                  withText: true
                })
              };

              if (i.view && i.view.styles) {
                t.model.set("labelStyle", "font-size:".concat(i.view.styles["font-size"]));
              }

              if (i.view && i.view.classes) {
                t.model.set("class", "".concat(t.model.class, " ").concat(i.view.classes));
              }

              t.model.bind("isOn").to(e, "value", t => t === i.model);
              n.add(t);
            }
          } catch (err) {
            _didIteratorError392 = true;
            _iteratorError392 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion392 && _iterator392.return != null) {
                _iterator392.return();
              }
            } finally {
              if (_didIteratorError392) {
                throw _iteratorError392;
              }
            }
          }

          return n;
        }

        class DS extends Ow {
          static get requires() {
            return [ES, OS];
          }

          static get pluginName() {
            return "FontSize";
          }

        }

        class LS extends ZP {
          constructor(t) {
            super(t, cS);
          }

        }

        function zS(t) {
          return t.map(jS).filter(t => !!t);
        }

        function jS(t) {
          if (typeof t === "object") {
            return t;
          }

          if (t === "default") {
            return {
              title: "Default",
              model: undefined
            };
          }

          if (typeof t !== "string") {
            return;
          }

          return VS(t);
        }

        function VS(t) {
          const e = t.replace(/"|'/g, "").split(",");
          const n = e[0];
          const i = e.map(BS).join(", ");
          return {
            title: n,
            model: n,
            view: {
              name: "span",
              styles: {
                "font-family": i
              },
              priority: 7
            }
          };
        }

        function BS(t) {
          t = t.trim();

          if (t.indexOf(" ") > 0) {
            t = "'".concat(t, "'");
          }

          return t;
        }

        class FS extends Ow {
          static get pluginName() {
            return "FontFamilyEditing";
          }

          constructor(t) {
            super(t);
            t.config.define(cS, {
              options: ["default", "Arial, Helvetica, sans-serif", "Courier New, Courier, monospace", "Georgia, serif", "Lucida Sans Unicode, Lucida Grande, sans-serif", "Tahoma, Geneva, sans-serif", "Times New Roman, Times, serif", "Trebuchet MS, Helvetica, sans-serif", "Verdana, Geneva, sans-serif"]
            });
          }

          init() {
            const t = this.editor;
            t.model.schema.extend("$text", {
              allowAttributes: cS
            });
            t.model.schema.setAttributeProperties(cS, {
              isFormatting: true,
              copyOnEnter: true
            });
            const e = zS(t.config.get("fontFamily.options")).filter(t => t.model);
            const n = uS(cS, e);
            t.conversion.attributeToElement(n);
            t.commands.add(cS, new LS(t));
          }

        }

        var HS = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 110 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 110 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 110 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>';

        class US extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;

            const n = this._getLocalizedOptions();

            const i = t.commands.get(cS);
            t.ui.componentFactory.add(cS, o => {
              const s = uw(o);
              fw(s, WS(n, i));
              s.buttonView.set({
                label: e("bh"),
                icon: HS,
                tooltip: true
              });
              s.extendTemplate({
                attributes: {
                  class: "ck-font-family-dropdown"
                }
              });
              s.bind("isEnabled").to(i);
              this.listenTo(s, "execute", e => {
                t.execute(e.source.commandName, {
                  value: e.source.commandParam
                });
                t.editing.view.focus();
              });
              return s;
            });
          }

          _getLocalizedOptions() {
            const t = this.editor;
            const e = t.t;
            const n = zS(t.config.get(cS).options);
            return n.map(t => {
              if (t.title === "Default") {
                t.title = e("bc");
              }

              return t;
            });
          }

        }

        function WS(t, e) {
          const n = new yr();
          var _iteratorNormalCompletion393 = true;
          var _didIteratorError393 = false;
          var _iteratorError393 = undefined;

          try {
            for (var _iterator393 = t[Symbol.iterator](), _step393; !(_iteratorNormalCompletion393 = (_step393 = _iterator393.next()).done); _iteratorNormalCompletion393 = true) {
              const i = _step393.value;
              const t = {
                type: "button",
                model: new u_({
                  commandName: cS,
                  commandParam: i.model,
                  label: i.title,
                  withText: true
                })
              };
              t.model.bind("isOn").to(e, "value", t => t === i.model);

              if (i.view && i.view.styles) {
                t.model.set("labelStyle", "font-family: ".concat(i.view.styles["font-family"]));
              }

              n.add(t);
            }
          } catch (err) {
            _didIteratorError393 = true;
            _iteratorError393 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion393 && _iterator393.return != null) {
                _iterator393.return();
              }
            } finally {
              if (_didIteratorError393) {
                throw _iteratorError393;
              }
            }
          }

          return n;
        }

        class qS extends Ow {
          static get requires() {
            return [FS, US];
          }

          static get pluginName() {
            return "FontFamily";
          }

        }

        class $S {
          constructor(t) {
            this.set("activeHandlePosition", null);
            this.set("proposedWidthPercents", null);
            this.set("proposedWidth", null);
            this.set("proposedHeight", null);
            this.set("proposedHandleHostWidth", null);
            this.set("proposedHandleHostHeight", null);
            this._options = t;
            this._referenceCoordinates = null;
          }

          begin(t, e, n) {
            const i = new yh(e);
            this.activeHandlePosition = KS(t);
            this._referenceCoordinates = GS(e, JS(this.activeHandlePosition));
            this.originalWidth = i.width;
            this.originalHeight = i.height;
            this.aspectRatio = i.width / i.height;
            const o = n.style.width;

            if (o && o.match(/^\d+\.?\d*%$/)) {
              this.originalWidthPercents = parseFloat(o);
            } else {
              this.originalWidthPercents = YS(n, i);
            }
          }

          update(t) {
            this.proposedWidth = t.width;
            this.proposedHeight = t.height;
            this.proposedWidthPercents = t.widthPercents;
            this.proposedHandleHostWidth = t.handleHostWidth;
            this.proposedHandleHostHeight = t.handleHostHeight;
          }

        }

        vr($S, Qc);

        function YS(t, e) {
          const n = t.parentElement;
          const i = parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width);
          return e.width / i * 100;
        }

        function GS(t, e) {
          const n = new yh(t);
          const i = e.split("-");
          const o = {
            x: i[1] == "right" ? n.right : n.left,
            y: i[0] == "bottom" ? n.bottom : n.top
          };
          o.x += t.ownerDocument.defaultView.scrollX;
          o.y += t.ownerDocument.defaultView.scrollY;
          return o;
        }

        function QS(t) {
          return "ck-widget__resizer__handle-".concat(t);
        }

        function KS(t) {
          const e = ["top-left", "top-right", "bottom-right", "bottom-left"];

          for (var _i52 = 0, _e6 = e; _i52 < _e6.length; _i52++) {
            const n = _e6[_i52];

            if (t.classList.contains(QS(n))) {
              return n;
            }
          }
        }

        function JS(t) {
          const e = t.split("-");
          const n = {
            top: "bottom",
            bottom: "top",
            left: "right",
            right: "left"
          };
          return "".concat(n[e[0]], "-").concat(n[e[1]]);
        }

        class ZS {
          constructor(t) {
            this._options = t;
            this._domResizerWrapper = null;
            this._viewResizerWrapper = null;
            this.set("isEnabled", true);
            this.decorate("begin");
            this.decorate("cancel");
            this.decorate("commit");
            this.decorate("updateSize");
            this.on("commit", t => {
              if (!this.state.proposedWidth) {
                this._cleanup();

                t.stop();
              }
            }, {
              priority: "high"
            });
          }

          attach() {
            const t = this;
            const e = this._options.viewElement;
            const n = this._options.editor.editing.view;
            n.change(n => {
              const i = n.createUIElement("div", {
                class: "ck ck-reset_all ck-widget__resizer"
              }, function (e) {
                const n = this.toDomElement(e);

                t._appendHandles(n);

                t._appendSizeUI(n);

                t._domResizerWrapper = n;
                t.on("change:isEnabled", (t, e, i) => {
                  n.style.display = i ? "" : "none";
                });
                n.style.display = t.isEnabled ? "" : "none";
                return n;
              });
              n.insert(n.createPositionAt(e, "end"), i);
              n.addClass("ck-widget_with-resizer", e);
              this._viewResizerWrapper = i;
            });
          }

          begin(t) {
            this.state = new $S(this._options);

            this._sizeUI.bindToState(this._options, this.state);

            this.state.begin(t, this._getHandleHost(), this._getResizeHost());
          }

          updateSize(t) {
            const e = this._proposeNewSize(t);

            const n = this._options.editor.editing.view;
            n.change(t => {
              const n = this._options.unit;
              const i = (n === "%" ? e.widthPercents : e.width) + n;
              t.setStyle("width", i, this._options.viewElement);
            });

            const i = this._getHandleHost();

            const o = new yh(i);
            e.handleHostWidth = Math.round(o.width);
            e.handleHostHeight = Math.round(o.height);
            const s = new yh(i);
            e.width = Math.round(s.width);
            e.height = Math.round(s.height);
            this.redraw(o);
            this.state.update(e);
          }

          commit() {
            const t = this._options.unit;
            const e = (t === "%" ? this.state.proposedWidthPercents : this.state.proposedWidth) + this._options.unit;

            this._options.onCommit(e);

            this._cleanup();
          }

          cancel() {
            this._cleanup();
          }

          destroy() {
            this.cancel();
          }

          redraw(t) {
            const e = this._domResizerWrapper;

            if (n(e)) {
              this._options.editor.editing.view.change(n => {
                const i = e.parentElement;

                const o = this._getHandleHost();

                const s = t || new yh(o);
                n.setStyle("width", s.width + "px", this._viewResizerWrapper);
                n.setStyle("height", s.height + "px", this._viewResizerWrapper);
                const r = {
                  left: o.offsetLeft,
                  top: o.offsetTop,
                  height: o.offsetHeight,
                  width: o.offsetWidth
                };

                if (!i.isSameNode(o)) {
                  n.setStyle("left", r.left + "px", this._viewResizerWrapper);
                  n.setStyle("top", r.top + "px", this._viewResizerWrapper);
                  n.setStyle("height", r.height + "px", this._viewResizerWrapper);
                  n.setStyle("width", r.width + "px", this._viewResizerWrapper);
                }
              });
            }

            function n(t) {
              return t && t.ownerDocument && t.ownerDocument.contains(t);
            }
          }

          containsHandle(t) {
            return this._domResizerWrapper.contains(t);
          }

          static isResizeHandle(t) {
            return t.classList.contains("ck-widget__resizer__handle");
          }

          _cleanup() {
            this._sizeUI.dismiss();

            this._sizeUI.isVisible = false;
          }

          _proposeNewSize(t) {
            const e = this.state;
            const n = eM(t);
            const i = this._options.isCentered ? this._options.isCentered(this) : true;
            const o = {
              x: e._referenceCoordinates.x - (n.x + e.originalWidth),
              y: n.y - e.originalHeight - e._referenceCoordinates.y
            };

            if (i && e.activeHandlePosition.endsWith("-right")) {
              o.x = n.x - (e._referenceCoordinates.x + e.originalWidth);
            }

            if (i) {
              o.x *= 2;
            }

            const s = {
              width: Math.abs(e.originalWidth + o.x),
              height: Math.abs(e.originalHeight + o.y)
            };
            s.dominant = s.width / e.aspectRatio > s.height ? "width" : "height";
            s.max = s[s.dominant];
            const r = {
              width: s.width,
              height: s.height
            };

            if (s.dominant == "width") {
              r.height = r.width / e.aspectRatio;
            } else {
              r.width = r.height * e.aspectRatio;
            }

            return {
              width: Math.round(r.width),
              height: Math.round(r.height),
              widthPercents: Math.min(Math.round(e.originalWidthPercents / e.originalWidth * r.width * 100) / 100, 100)
            };
          }

          _getResizeHost() {
            const t = this._domResizerWrapper.parentElement;
            return this._options.getResizeHost(t);
          }

          _getHandleHost() {
            const t = this._domResizerWrapper.parentElement;
            return this._options.getHandleHost(t);
          }

          _appendHandles(t) {
            const e = ["top-left", "top-right", "bottom-right", "bottom-left"];

            for (var _i53 = 0, _e7 = e; _i53 < _e7.length; _i53++) {
              const n = _e7[_i53];
              t.appendChild(new Up({
                tag: "div",
                attributes: {
                  class: "ck-widget__resizer__handle ".concat(tM(n))
                }
              }).render());
            }
          }

          _appendSizeUI(t) {
            const e = new XS();
            e.render();
            this._sizeUI = e;
            t.appendChild(e.element);
          }

          _getHandlePosition(t) {
            const e = ["top-left", "top-right", "bottom-right", "bottom-left"];

            for (var _i54 = 0, _e8 = e; _i54 < _e8.length; _i54++) {
              const n = _e8[_i54];

              if (t.classList.contains(tM(n))) {
                return n;
              }
            }
          }

        }

        vr(ZS, Qc);

        class XS extends pb {
          constructor() {
            super();
            const t = this.bindTemplate;
            this.setTemplate({
              tag: "div",
              attributes: {
                class: ["ck", "ck-size-view", t.to("activeHandlePosition", t => t ? "ck-orientation-".concat(t) : "")],
                style: {
                  display: t.if("isVisible", "none", t => !t)
                }
              },
              children: [{
                text: t.to("label")
              }]
            });
          }

          bindToState(t, e) {
            this.bind("isVisible").to(e, "proposedWidth", e, "proposedHeight", (t, e) => t !== null && e !== null);
            this.bind("label").to(e, "proposedHandleHostWidth", e, "proposedHandleHostHeight", e, "proposedWidthPercents", (e, n, i) => {
              if (t.unit === "px") {
                return "".concat(e, "\xD7").concat(n);
              } else {
                return "".concat(i, "%");
              }
            });
            this.bind("activeHandlePosition").to(e);
          }

          dismiss() {
            this.unbind();
            this.isVisible = false;
          }

        }

        function tM(t) {
          return "ck-widget__resizer__handle-".concat(t);
        }

        function eM(t) {
          return {
            x: t.pageX,
            y: t.pageY
          };
        }

        var nM = "Expected a function";

        function iM(t, e, n) {
          var i = true,
              o = true;

          if (typeof t != "function") {
            throw new TypeError(nM);
          }

          if (ct(n)) {
            i = "leading" in n ? !!n.leading : i;
            o = "trailing" in n ? !!n.trailing : o;
          }

          return hh(t, e, {
            leading: i,
            maxWait: e,
            trailing: o
          });
        }

        var oM = iM;
        var sM = n(96);

        class rM extends Ow {
          static get pluginName() {
            return "WidgetResize";
          }

          init() {
            this.set("_visibleResizer", null);
            this.set("_activeResizer", null);
            this._resizers = new Map();
            const t = Od.window.document;
            this.editor.model.schema.setAttributeProperties("width", {
              isFormatting: true
            });
            this._observer = Object.create(qd);

            this._observer.listenTo(t, "mousedown", (t, e) => {
              if (!ZS.isResizeHandle(e.target)) {
                return;
              }

              const n = e.target;
              this._activeResizer = this._getResizerByHandle(n);

              if (this._activeResizer) {
                this._activeResizer.begin(n);
              }
            });

            this._observer.listenTo(t, "mousemove", (t, e) => {
              if (this._activeResizer) {
                this._activeResizer.updateSize(e);
              }
            });

            this._observer.listenTo(t, "mouseup", () => {
              if (this._activeResizer) {
                this._activeResizer.commit();

                this._activeResizer = null;
              }
            });

            const e = () => {
              if (this._visibleResizer) {
                this._visibleResizer.redraw();
              }
            };

            const n = oM(e, 200);
            this.on("change:_visibleResizer", e);
            this.editor.ui.on("update", n);

            this._observer.listenTo(Od.window, "resize", n);

            const i = this.editor.editing.view.document.selection;
            i.on("change", () => {
              const t = i.getSelectedElement();
              this._visibleResizer = this._getResizerByViewElement(t) || null;
            });
          }

          destroy() {
            this._observer.stopListening();
          }

          attachTo(t) {
            const e = new ZS(t);
            const n = this.editor.plugins;
            e.attach();

            if (n.has("WidgetToolbarRepository")) {
              const t = n.get("WidgetToolbarRepository");
              e.on("begin", () => {
                t.forceDisabled("resize");
              }, {
                priority: "lowest"
              });
              e.on("cancel", () => {
                t.clearForceDisabled("resize");
              }, {
                priority: "highest"
              });
              e.on("commit", () => {
                t.clearForceDisabled("resize");
              }, {
                priority: "highest"
              });
            }

            this._resizers.set(t.viewElement, e);

            return e;
          }

          _getResizerByHandle(t) {
            var _iteratorNormalCompletion394 = true;
            var _didIteratorError394 = false;
            var _iteratorError394 = undefined;

            try {
              for (var _iterator394 = this._resizers.values()[Symbol.iterator](), _step394; !(_iteratorNormalCompletion394 = (_step394 = _iterator394.next()).done); _iteratorNormalCompletion394 = true) {
                const e = _step394.value;

                if (e.containsHandle(t)) {
                  return e;
                }
              }
            } catch (err) {
              _didIteratorError394 = true;
              _iteratorError394 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion394 && _iterator394.return != null) {
                  _iterator394.return();
                }
              } finally {
                if (_didIteratorError394) {
                  throw _iteratorError394;
                }
              }
            }
          }

          _getResizerByViewElement(t) {
            return this._resizers.get(t);
          }

        }

        vr(rM, Qc);

        class aM extends zw {
          refresh() {
            const t = this.editor.model.document.selection.getSelectedElement();
            this.isEnabled = B_(t);

            if (!t || !t.hasAttribute("width")) {
              this.value = null;
            } else {
              this.value = {
                width: t.getAttribute("width"),
                height: null
              };
            }
          }

          execute(t) {
            const e = this.editor.model;
            const n = e.document.selection.getSelectedElement();
            e.change(e => {
              e.setAttribute("width", t.width, n);
            });
          }

        }

        var cM = n(98);

        class lM extends Ow {
          static get requires() {
            return [rM];
          }

          static get pluginName() {
            return "ImageResize";
          }

          init() {
            const t = this.editor;
            const e = new aM(t);

            this._registerSchema();

            this._registerConverters();

            t.commands.add("imageResize", e);
            t.editing.downcastDispatcher.on("insert:image", (n, i, o) => {
              const s = o.mapper.toViewElement(i.item);
              const r = t.plugins.get(rM).attachTo({
                unit: t.config.get("image.resizeUnit") || "%",
                modelElement: i.item,
                viewElement: s,
                editor: t,

                getHandleHost(t) {
                  return t.querySelector("img");
                },

                getResizeHost(t) {
                  return t;
                },

                isCentered() {
                  const t = i.item.getAttribute("imageStyle");
                  return !t || t == "full" || t == "alignCenter";
                },

                onCommit(e) {
                  t.execute("imageResize", {
                    width: e
                  });
                }

              });
              r.on("updateSize", () => {
                if (!s.hasClass("image_resized")) {
                  t.editing.view.change(t => {
                    t.addClass("image_resized", s);
                  });
                }
              });
              r.bind("isEnabled").to(e);
            }, {
              priority: "low"
            });
          }

          _registerSchema() {
            this.editor.model.schema.extend("image", {
              allowAttributes: "width"
            });
          }

          _registerConverters() {
            const t = this.editor;
            t.conversion.for("downcast").add(t => t.on("attribute:width:image", (t, e, n) => {
              if (!n.consumable.consume(e.item, t.name)) {
                return;
              }

              const i = n.writer;
              const o = n.mapper.toViewElement(e.item);

              if (e.attributeNewValue !== null) {
                i.setStyle("width", e.attributeNewValue, o);
                i.addClass("image_resized", o);
              } else {
                i.removeStyle("width", o);
                i.removeClass("image_resized", o);
              }
            }));
            t.conversion.for("upcast").attributeToAttribute({
              view: {
                name: "figure",
                styles: {
                  width: /.+/
                }
              },
              model: {
                key: "width",
                value: t => t.getStyle("width")
              }
            });
          }

        }

        class dM extends Ow {
          static get requires() {
            return [fv];
          }

          static get pluginName() {
            return "MediaEmbedToolbar";
          }

          afterInit() {
            const t = this.editor;
            const e = t.t;
            const n = t.plugins.get(fv);
            n.register("mediaEmbed", {
              ariaLabel: e("b"),
              items: t.config.get("mediaEmbed.toolbar") || [],
              getRelatedElement: LA
            });
          }

        }

        const uM = "strikethrough";

        class hM extends Ow {
          static get pluginName() {
            return "StrikethroughEditing";
          }

          init() {
            const t = this.editor;
            t.model.schema.extend("$text", {
              allowAttributes: uM
            });
            t.model.schema.setAttributeProperties(uM, {
              isFormatting: true,
              copyOnEnter: true
            });
            t.conversion.attributeToElement({
              model: uM,
              view: "s",
              upcastAlso: ["del", "strike", {
                styles: {
                  "text-decoration": "line-through"
                }
              }]
            });
            t.commands.add(uM, new Qw(t, uM));
            t.keystrokes.set("CTRL+SHIFT+X", "strikethrough");
          }

        }

        var fM = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 01-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 01-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 014.7 0 4 4 0 011.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 00-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>';
        const mM = "strikethrough";

        class gM extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;
            t.ui.componentFactory.add(mM, n => {
              const i = t.commands.get(mM);
              const o = new Xb(n);
              o.set({
                label: e("ap"),
                icon: fM,
                keystroke: "CTRL+SHIFT+X",
                tooltip: true,
                isToggleable: true
              });
              o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
              this.listenTo(o, "execute", () => {
                t.execute(mM);
                t.editing.view.focus();
              });
              return o;
            });
          }

        }

        class pM extends Ow {
          static get requires() {
            return [hM, gM];
          }

          static get pluginName() {
            return "Strikethrough";
          }

        }

        const bM = "underline";

        class wM extends Ow {
          static get pluginName() {
            return "UnderlineEditing";
          }

          init() {
            const t = this.editor;
            t.model.schema.extend("$text", {
              allowAttributes: bM
            });
            t.model.schema.setAttributeProperties(bM, {
              isFormatting: true,
              copyOnEnter: true
            });
            t.conversion.attributeToElement({
              model: bM,
              view: "u",
              upcastAlso: {
                styles: {
                  "text-decoration": "underline"
                }
              }
            });
            t.commands.add(bM, new Qw(t, bM));
            t.keystrokes.set("CTRL+U", "underline");
          }

        }

        var _M = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>';
        const kM = "underline";

        class vM extends Ow {
          init() {
            const t = this.editor;
            const e = t.t;
            t.ui.componentFactory.add(kM, n => {
              const i = t.commands.get(kM);
              const o = new Xb(n);
              o.set({
                label: e("aq"),
                icon: _M,
                keystroke: "CTRL+U",
                tooltip: true,
                isToggleable: true
              });
              o.bind("isOn", "isEnabled").to(i, "value", "isEnabled");
              this.listenTo(o, "execute", () => {
                t.execute(kM);
                t.editing.view.focus();
              });
              return o;
            });
          }

        }

        class yM extends Ow {
          static get requires() {
            return [wM, vM];
          }

          static get pluginName() {
            return "Underline";
          }

        }

        function xM(t, e) {
          var _iteratorNormalCompletion395, _didIteratorError395, _iteratorError395, _iterator395, _step395, n;

          return regeneratorRuntime.wrap(function xM$(_context37) {
            while (1) switch (_context37.prev = _context37.next) {
              case 0:
                _iteratorNormalCompletion395 = true;
                _didIteratorError395 = false;
                _iteratorError395 = undefined;
                _context37.prev = 3;
                _iterator395 = e[Symbol.iterator]();

              case 5:
                if (_iteratorNormalCompletion395 = (_step395 = _iterator395.next()).done) {
                  _context37.next = 13;
                  break;
                }

                n = _step395.value;

                if (!(n && t.getAttributeProperties(n[0]).copyOnEnter)) {
                  _context37.next = 10;
                  break;
                }

                _context37.next = 10;
                return n;

              case 10:
                _iteratorNormalCompletion395 = true;
                _context37.next = 5;
                break;

              case 13:
                _context37.next = 19;
                break;

              case 15:
                _context37.prev = 15;
                _context37.t0 = _context37["catch"](3);
                _didIteratorError395 = true;
                _iteratorError395 = _context37.t0;

              case 19:
                _context37.prev = 19;
                _context37.prev = 20;

                if (!_iteratorNormalCompletion395 && _iterator395.return != null) {
                  _iterator395.return();
                }

              case 22:
                _context37.prev = 22;

                if (!_didIteratorError395) {
                  _context37.next = 25;
                  break;
                }

                throw _iteratorError395;

              case 25:
                return _context37.finish(22);

              case 26:
                return _context37.finish(19);

              case 27:
              case "end":
                return _context37.stop();
            }
          }, _marked6, null, [[3, 15, 19, 27], [20,, 22, 26]]);
        }

        class AM extends zw {
          execute() {
            const t = this.editor.model;
            const e = t.document;
            t.change(n => {
              TM(this.editor.model, n, e.selection, t.schema);
              this.fire("afterExecute", {
                writer: n
              });
            });
          }

        }

        function TM(t, e, n, i) {
          const o = n.isCollapsed;
          const s = n.getFirstRange();
          const r = s.start.parent;
          const a = s.end.parent;

          if (i.isLimit(r) || i.isLimit(a)) {
            if (!o && r == a) {
              t.deleteContent(n);
            }

            return;
          }

          if (o) {
            const t = xM(e.model.schema, n.getAttributes());
            CM(e, s.start);
            e.setSelectionAttribute(t);
          } else {
            const i = !(s.start.isAtStart && s.end.isAtEnd);
            const o = r == a;
            t.deleteContent(n, {
              leaveUnmerged: i
            });

            if (i) {
              if (o) {
                CM(e, n.focus);
              } else {
                e.setSelection(a, 0);
              }
            }
          }
        }

        function CM(t, e) {
          t.split(e);
          t.setSelection(e.parent.nextSibling, 0);
        }

        class PM extends Gd {
          constructor(t) {
            super(t);
            const e = this.document;
            e.on("keydown", (t, n) => {
              if (this.isEnabled && n.keyCode == Dl.enter) {
                let i;
                e.once("enter", t => i = t, {
                  priority: "highest"
                });
                e.fire("enter", new Qu(e, n.domEvent, {
                  isSoft: n.shiftKey
                }));

                if (i && i.stop.called) {
                  t.stop();
                }
              }
            });
          }

          observe() {}

        }

        class SM extends Ow {
          static get pluginName() {
            return "Enter";
          }

          init() {
            const t = this.editor;
            const e = t.editing.view;
            const n = e.document;
            e.addObserver(PM);
            t.commands.add("enter", new AM(t));
            this.listenTo(n, "enter", (n, i) => {
              i.preventDefault();

              if (i.isSoft) {
                return;
              }

              t.execute("enter");
              e.scrollToTheSelection();
            }, {
              priority: "low"
            });
          }

        }

        class MM extends zw {
          execute() {
            const t = this.editor.model;
            const e = t.document;
            t.change(n => {
              IM(t, n, e.selection);
              this.fire("afterExecute", {
                writer: n
              });
            });
          }

          refresh() {
            const t = this.editor.model;
            const e = t.document;
            this.isEnabled = EM(t.schema, e.selection);
          }

        }

        function EM(t, e) {
          if (e.rangeCount > 1) {
            return false;
          }

          const n = e.anchor;

          if (!n || !t.checkChild(n, "softBreak")) {
            return false;
          }

          const i = e.getFirstRange();
          const o = i.start.parent;
          const s = i.end.parent;

          if ((OM(o, t) || OM(s, t)) && o !== s) {
            return false;
          }

          return true;
        }

        function IM(t, e, n) {
          const i = n.isCollapsed;
          const o = n.getFirstRange();
          const s = o.start.parent;
          const r = o.end.parent;
          const a = s == r;

          if (i) {
            const i = xM(t.schema, n.getAttributes());
            NM(t, e, o.end);
            e.removeSelectionAttribute(n.getAttributeKeys());
            e.setSelectionAttribute(i);
          } else {
            const i = !(o.start.isAtStart && o.end.isAtEnd);
            t.deleteContent(n, {
              leaveUnmerged: i
            });

            if (a) {
              NM(t, e, n.focus);
            } else {
              if (i) {
                e.setSelection(r, 0);
              }
            }
          }
        }

        function NM(t, e, n) {
          const i = e.createElement("softBreak");
          t.insertContent(i, n);
          e.setSelection(i, "after");
        }

        function OM(t, e) {
          if (t.is("rootElement")) {
            return false;
          }

          return e.isLimit(t) || OM(t.parent, e);
        }

        class RM extends Ow {
          static get pluginName() {
            return "ShiftEnter";
          }

          init() {
            const t = this.editor;
            const e = t.model.schema;
            const n = t.conversion;
            const i = t.editing.view;
            const o = i.document;
            e.register("softBreak", {
              allowWhere: "$text",
              isInline: true
            });
            n.for("upcast").elementToElement({
              model: "softBreak",
              view: "br"
            });
            n.for("downcast").elementToElement({
              model: "softBreak",
              view: (t, e) => e.createEmptyElement("br")
            });
            i.addObserver(PM);
            t.commands.add("shiftEnter", new MM(t));
            this.listenTo(o, "enter", (e, n) => {
              n.preventDefault();

              if (!n.isSoft) {
                return;
              }

              t.execute("shiftEnter");
              i.scrollToTheSelection();
            }, {
              priority: "low"
            });
          }

        }

        class DM {
          constructor(t, e = 20) {
            this.model = t;
            this.size = 0;
            this.limit = e;
            this.isLocked = false;

            this._changeCallback = (t, e) => {
              if (e.type != "transparent" && e !== this._batch) {
                this._reset(true);
              }
            };

            this._selectionChangeCallback = () => {
              this._reset();
            };

            this.model.document.on("change", this._changeCallback);
            this.model.document.selection.on("change:range", this._selectionChangeCallback);
            this.model.document.selection.on("change:attribute", this._selectionChangeCallback);
          }

          get batch() {
            if (!this._batch) {
              this._batch = this.model.createBatch();
            }

            return this._batch;
          }

          input(t) {
            this.size += t;

            if (this.size >= this.limit) {
              this._reset(true);
            }
          }

          lock() {
            this.isLocked = true;
          }

          unlock() {
            this.isLocked = false;
          }

          destroy() {
            this.model.document.off("change", this._changeCallback);
            this.model.document.selection.off("change:range", this._selectionChangeCallback);
            this.model.document.selection.off("change:attribute", this._selectionChangeCallback);
          }

          _reset(t) {
            if (!this.isLocked || t) {
              this._batch = null;
              this.size = 0;
            }
          }

        }

        class LM extends zw {
          constructor(t, e) {
            super(t);
            this._buffer = new DM(t.model, e);
            this._batches = new WeakSet();
          }

          get buffer() {
            return this._buffer;
          }

          destroy() {
            super.destroy();

            this._buffer.destroy();
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.document;
            const i = t.text || "";
            const o = i.length;
            const s = t.range || n.selection.getFirstRange();
            const r = t.resultRange;
            e.enqueueChange(this._buffer.batch, t => {
              const a = s.isCollapsed;

              this._buffer.lock();

              e.deleteContent(e.createSelection(s));

              if (i) {
                e.insertContent(t.createText(i, n.selection.getAttributes()), s.start);
              }

              if (r) {
                t.setSelection(r);
              } else if (a) {
                t.setSelection(s.start.getShiftedBy(o));
              }

              this._buffer.unlock();

              this._buffer.input(o);

              this._batches.add(this._buffer.batch);
            });
          }

        }

        function zM(t) {
          let e = null;
          const n = t.model;
          const i = t.editing.view;
          const o = t.commands.get("input");

          if (Cl.isAndroid) {
            i.document.on("beforeinput", (t, e) => s(e), {
              priority: "lowest"
            });
          } else {
            i.document.on("keydown", (t, e) => s(e), {
              priority: "lowest"
            });
          }

          i.document.on("compositionstart", r, {
            priority: "lowest"
          });
          i.document.on("compositionend", () => {
            e = n.createSelection(n.document.selection);
          }, {
            priority: "lowest"
          });

          function s(t) {
            const s = n.document;
            const r = i.document.isComposing;
            const c = e && e.isEqual(s.selection);
            e = null;

            if (!o.isEnabled) {
              return;
            }

            if (VM(t) || s.selection.isCollapsed) {
              return;
            }

            if (r && t.keyCode === 229) {
              return;
            }

            if (!r && t.keyCode === 229 && c) {
              return;
            }

            a();
          }

          function r() {
            const t = n.document;
            const e = t.selection.rangeCount === 1 ? t.selection.getFirstRange().isFlat : true;

            if (t.selection.isCollapsed || e) {
              return;
            }

            a();
          }

          function a() {
            const t = o.buffer;
            t.lock();
            n.enqueueChange(t.batch, () => {
              n.deleteContent(n.document.selection);
            });
            t.unlock();
          }
        }

        const jM = [Ll("arrowUp"), Ll("arrowRight"), Ll("arrowDown"), Ll("arrowLeft"), 9, 16, 17, 18, 19, 20, 27, 33, 34, 35, 36, 45, 91, 93, 144, 145, 173, 174, 175, 176, 177, 178, 179, 255];

        for (let t = 112; t <= 135; t++) {
          jM.push(t);
        }

        function VM(t) {
          if (t.ctrlKey) {
            return true;
          }

          return jM.includes(t.keyCode);
        }

        function BM(t, e) {
          const n = [];
          let i = 0;
          let o;
          t.forEach(t => {
            if (t == "equal") {
              s();
              i++;
            } else if (t == "insert") {
              if (r("insert")) {
                o.values.push(e[i]);
              } else {
                s();
                o = {
                  type: "insert",
                  index: i,
                  values: [e[i]]
                };
              }

              i++;
            } else {
              if (r("delete")) {
                o.howMany++;
              } else {
                s();
                o = {
                  type: "delete",
                  index: i,
                  howMany: 1
                };
              }
            }
          });
          s();
          return n;

          function s() {
            if (o) {
              n.push(o);
              o = null;
            }
          }

          function r(t) {
            return o && o.type == t;
          }
        }

        function FM(t) {
          if (t.length == 0) {
            return false;
          }

          var _iteratorNormalCompletion396 = true;
          var _didIteratorError396 = false;
          var _iteratorError396 = undefined;

          try {
            for (var _iterator396 = t[Symbol.iterator](), _step396; !(_iteratorNormalCompletion396 = (_step396 = _iterator396.next()).done); _iteratorNormalCompletion396 = true) {
              const e = _step396.value;

              if (e.type === "children" && !HM(e)) {
                return true;
              }
            }
          } catch (err) {
            _didIteratorError396 = true;
            _iteratorError396 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion396 && _iterator396.return != null) {
                _iterator396.return();
              }
            } finally {
              if (_didIteratorError396) {
                throw _iteratorError396;
              }
            }
          }

          return false;
        }

        function HM(t) {
          if (t.newChildren.length - t.oldChildren.length != 1) {
            return;
          }

          const e = vd(t.oldChildren, t.newChildren, UM);
          const n = BM(e, t.newChildren);

          if (n.length > 1) {
            return;
          }

          const i = n[0];

          if (!(!!i.values[0] && i.values[0].is("text"))) {
            return;
          }

          return i;
        }

        function UM(t, e) {
          if (!!t && t.is("text") && !!e && e.is("text")) {
            return t.data === e.data;
          } else {
            return t === e;
          }
        }

        function WM(t) {
          t.editing.view.document.on("mutations", (e, n, i) => {
            new qM(t).handle(n, i);
          });
        }

        class qM {
          constructor(t) {
            this.editor = t;
            this.editing = this.editor.editing;
          }

          handle(t, e) {
            if (FM(t)) {
              this._handleContainerChildrenMutations(t, e);
            } else {
              var _iteratorNormalCompletion397 = true;
              var _didIteratorError397 = false;
              var _iteratorError397 = undefined;

              try {
                for (var _iterator397 = t[Symbol.iterator](), _step397; !(_iteratorNormalCompletion397 = (_step397 = _iterator397.next()).done); _iteratorNormalCompletion397 = true) {
                  const n = _step397.value;

                  this._handleTextMutation(n, e);

                  this._handleTextNodeInsertion(n);
                }
              } catch (err) {
                _didIteratorError397 = true;
                _iteratorError397 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion397 && _iterator397.return != null) {
                    _iterator397.return();
                  }
                } finally {
                  if (_didIteratorError397) {
                    throw _iteratorError397;
                  }
                }
              }
            }
          }

          _handleContainerChildrenMutations(t, e) {
            const n = $M(t);

            if (!n) {
              return;
            }

            const i = this.editor.editing.view.domConverter;
            const o = i.mapViewToDom(n);
            const s = new jd();
            const r = this.editor.data.toModel(s.domToView(o)).getChild(0);
            const a = this.editor.editing.mapper.toModelElement(n);

            if (!a) {
              return;
            }

            const c = Array.from(r.getChildren());
            const l = Array.from(a.getChildren());
            const d = c[c.length - 1];
            const u = l[l.length - 1];

            if (d && d.is("softBreak") && u && !u.is("softBreak")) {
              c.pop();
            }

            const h = this.editor.model.schema;

            if (!YM(c, h) || !YM(l, h)) {
              return;
            }

            const f = c.map(t => t.is("text") ? t.data : "@").join("").replace(/\u00A0/g, " ");
            const m = l.map(t => t.is("text") ? t.data : "@").join("").replace(/\u00A0/g, " ");

            if (m === f) {
              return;
            }

            const g = vd(m, f);

            const _GM = GM(g),
                  p = _GM.firstChangeAt,
                  b = _GM.insertions,
                  w = _GM.deletions;

            let _ = null;

            if (e) {
              _ = this.editing.mapper.toModelRange(e.getFirstRange());
            }

            const k = f.substr(p, b);
            const v = this.editor.model.createRange(this.editor.model.createPositionAt(a, p), this.editor.model.createPositionAt(a, p + w));
            this.editor.execute("input", {
              text: k,
              range: v,
              resultRange: _
            });
          }

          _handleTextMutation(t, e) {
            if (t.type != "text") {
              return;
            }

            const n = t.newText.replace(/\u00A0/g, " ");
            const i = t.oldText.replace(/\u00A0/g, " ");

            if (i === n) {
              return;
            }

            const o = vd(i, n);

            const _GM2 = GM(o),
                  s = _GM2.firstChangeAt,
                  r = _GM2.insertions,
                  a = _GM2.deletions;

            let c = null;

            if (e) {
              c = this.editing.mapper.toModelRange(e.getFirstRange());
            }

            const l = this.editing.view.createPositionAt(t.node, s);
            const d = this.editing.mapper.toModelPosition(l);
            const u = this.editor.model.createRange(d, d.getShiftedBy(a));
            const h = n.substr(s, r);
            this.editor.execute("input", {
              text: h,
              range: u,
              resultRange: c
            });
          }

          _handleTextNodeInsertion(t) {
            if (t.type != "children") {
              return;
            }

            const e = HM(t);
            const n = this.editing.view.createPositionAt(t.node, e.index);
            const i = this.editing.mapper.toModelPosition(n);
            const o = e.values[0].data;
            this.editor.execute("input", {
              text: o.replace(/\u00A0/g, " "),
              range: this.editor.model.createRange(i)
            });
          }

        }

        function $M(t) {
          const e = t.map(t => t.node).reduce((t, e) => t.getCommonAncestor(e, {
            includeSelf: true
          }));

          if (!e) {
            return;
          }

          return e.getAncestors({
            includeSelf: true,
            parentFirst: true
          }).find(t => t.is("containerElement") || t.is("rootElement"));
        }

        function YM(t, e) {
          return t.every(t => e.isInline(t));
        }

        function GM(t) {
          let e = null;
          let n = null;

          for (let i = 0; i < t.length; i++) {
            const o = t[i];

            if (o != "equal") {
              e = e === null ? i : e;
              n = i;
            }
          }

          let i = 0;
          let o = 0;

          for (let s = e; s <= n; s++) {
            if (t[s] != "insert") {
              i++;
            }

            if (t[s] != "delete") {
              o++;
            }
          }

          return {
            insertions: o,
            deletions: i,
            firstChangeAt: e
          };
        }

        class QM extends Ow {
          static get pluginName() {
            return "Input";
          }

          init() {
            const t = this.editor;
            const e = new LM(t, t.config.get("typing.undoStep") || 20);
            t.commands.add("input", e);
            zM(t);
            WM(t);
          }

          isInput(t) {
            const e = this.editor.commands.get("input");
            return e._batches.has(t);
          }

        }

        class KM extends zw {
          constructor(t, e) {
            super(t);
            this.direction = e;
            this._buffer = new DM(t.model, t.config.get("typing.undoStep"));
          }

          get buffer() {
            return this._buffer;
          }

          execute(t = {}) {
            const e = this.editor.model;
            const n = e.document;
            e.enqueueChange(this._buffer.batch, i => {
              this._buffer.lock();

              const o = i.createSelection(t.selection || n.selection);
              const s = o.isCollapsed;

              if (o.isCollapsed) {
                e.modifySelection(o, {
                  direction: this.direction,
                  unit: t.unit
                });
              }

              if (this._shouldEntireContentBeReplacedWithParagraph(t.sequence || 1)) {
                this._replaceEntireContentWithParagraph(i);

                return;
              }

              if (o.isCollapsed) {
                return;
              }

              let r = 0;
              o.getFirstRange().getMinimalFlatRanges().forEach(t => {
                r += ml(t.getWalker({
                  singleCharacters: true,
                  ignoreElementEnd: true,
                  shallow: true
                }));
              });
              e.deleteContent(o, {
                doNotResetEntireContent: s
              });

              this._buffer.input(r);

              i.setSelection(o);

              this._buffer.unlock();
            });
          }

          _shouldEntireContentBeReplacedWithParagraph(t) {
            if (t > 1) {
              return false;
            }

            const e = this.editor.model;
            const n = e.document;
            const i = n.selection;
            const o = e.schema.getLimitElement(i);
            const s = i.isCollapsed && i.containsEntireContent(o);

            if (!s) {
              return false;
            }

            if (!e.schema.checkChild(o, "paragraph")) {
              return false;
            }

            const r = o.getChild(0);

            if (r && r.name === "paragraph") {
              return false;
            }

            return true;
          }

          _replaceEntireContentWithParagraph(t) {
            const e = this.editor.model;
            const n = e.document;
            const i = n.selection;
            const o = e.schema.getLimitElement(i);
            const s = t.createElement("paragraph");
            t.remove(t.createRangeIn(o));
            t.insert(s, o);
            t.setSelection(s, 0);
          }

        }

        class JM extends Gd {
          constructor(t) {
            super(t);
            const e = t.document;
            let n = 0;
            e.on("keyup", (t, e) => {
              if (e.keyCode == Dl.delete || e.keyCode == Dl.backspace) {
                n = 0;
              }
            });
            e.on("keydown", (t, e) => {
              const o = {};

              if (e.keyCode == Dl.delete) {
                o.direction = "forward";
                o.unit = "character";
              } else if (e.keyCode == Dl.backspace) {
                o.direction = "backward";
                o.unit = "codePoint";
              } else {
                return;
              }

              const s = Cl.isMac ? e.altKey : e.ctrlKey;
              o.unit = s ? "word" : o.unit;
              o.sequence = ++n;
              i(t, e.domEvent, o);
            });

            if (Cl.isAndroid) {
              e.on("beforeinput", (e, n) => {
                if (n.domEvent.inputType != "deleteContentBackward") {
                  return;
                }

                const o = {
                  unit: "codepoint",
                  direction: "backward",
                  sequence: 1
                };
                const s = n.domTarget.ownerDocument.defaultView.getSelection();

                if (s.anchorNode == s.focusNode && s.anchorOffset + 1 != s.focusOffset) {
                  o.selectionToRemove = t.domConverter.domSelectionToView(s);
                }

                i(e, n.domEvent, o);
              });
            }

            function i(t, n, i) {
              let o;
              e.once("delete", t => o = t, {
                priority: Number.POSITIVE_INFINITY
              });
              e.fire("delete", new Qu(e, n, i));

              if (o && o.stop.called) {
                t.stop();
              }
            }
          }

          observe() {}

        }

        class ZM extends Ow {
          static get pluginName() {
            return "Delete";
          }

          init() {
            const t = this.editor;
            const e = t.editing.view;
            const n = e.document;
            e.addObserver(JM);
            t.commands.add("forwardDelete", new KM(t, "forward"));
            t.commands.add("delete", new KM(t, "backward"));
            this.listenTo(n, "delete", (n, i) => {
              const o = {
                unit: i.unit,
                sequence: i.sequence
              };

              if (i.selectionToRemove) {
                const e = t.model.createSelection();
                const n = [];
                var _iteratorNormalCompletion398 = true;
                var _didIteratorError398 = false;
                var _iteratorError398 = undefined;

                try {
                  for (var _iterator398 = i.selectionToRemove.getRanges()[Symbol.iterator](), _step398; !(_iteratorNormalCompletion398 = (_step398 = _iterator398.next()).done); _iteratorNormalCompletion398 = true) {
                    const e = _step398.value;
                    n.push(t.editing.mapper.toModelRange(e));
                  }
                } catch (err) {
                  _didIteratorError398 = true;
                  _iteratorError398 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion398 && _iterator398.return != null) {
                      _iterator398.return();
                    }
                  } finally {
                    if (_didIteratorError398) {
                      throw _iteratorError398;
                    }
                  }
                }

                e.setTo(n);
                o.selection = e;
              }

              t.execute(i.direction == "forward" ? "forwardDelete" : "delete", o);
              i.preventDefault();
              e.scrollToTheSelection();
            });

            if (Cl.isAndroid) {
              let t = null;
              this.listenTo(n, "delete", (e, n) => {
                const i = n.domTarget.ownerDocument.defaultView.getSelection();
                t = {
                  anchorNode: i.anchorNode,
                  anchorOffset: i.anchorOffset,
                  focusNode: i.focusNode,
                  focusOffset: i.focusOffset
                };
              }, {
                priority: "lowest"
              });
              this.listenTo(n, "keyup", (e, n) => {
                if (t) {
                  const e = n.domTarget.ownerDocument.defaultView.getSelection();
                  e.collapse(t.anchorNode, t.anchorOffset);
                  e.extend(t.focusNode, t.focusOffset);
                  t = null;
                }
              });
            }
          }

        }

        class XM extends Ow {
          static get requires() {
            return [QM, ZM];
          }

          static get pluginName() {
            return "Typing";
          }

        }

        class tE extends Ow {
          static get requires() {
            return [oy, SM, RM, XM, pT];
          }

          static get pluginName() {
            return "Essentials";
          }

        }

        n.d(e, "default", function () {
          return eE;
        });

        class eE extends Pw {}

        eE.builtinPlugins = [Dw, Gw, e_, g_, zk, Qk, hv, bv, uy, by, xy, Kx, OA, TT, iC, NP, OP, QP, KP, AS, DS, qS, lM, dM, pM, yM, tE, o_];
      }])["default"];
    }); //# sourceMappingURL=ckeditor.js.map
    //# sourceMappingURL=ckeditor.js.map

    /***/

  },

  /***/
  "./src/main.ts":
  /*!*********************!*\
    !*** ./src/main.ts ***!
    \*********************/

  /*! no exports provided */

  /***/
  function srcMainTs(module, __webpack_exports__, __webpack_require__) {
    "use strict";

    __webpack_require__.r(__webpack_exports__);
    /* harmony import */


    var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
    /*! tslib */
    "./node_modules/tslib/tslib.es6.js");
    /* harmony import */


    var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
    /*! @angular/core */
    "./node_modules/@angular/core/fesm2015/core.js");
    /* harmony import */


    var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
    /*! @angular/platform-browser-dynamic */
    "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
    /* harmony import */


    var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
    /*! ./app/app.module */
    "./src/app/app.module.ts");
    /* harmony import */


    var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
    /*! ./environments/environment */
    "./src/environments/environment.ts");

    if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
      Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
    }

    Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"]).catch(err => console.error(err));
    /***/
  },

  /***/
  0:
  /*!***************************!*\
    !*** multi ./src/main.ts ***!
    \***************************/

  /*! no static exports found */

  /***/
  function _(module, exports, __webpack_require__) {
    module.exports = __webpack_require__(
    /*! /Users/akhilbandi/Desktop/Design Project/ockham-frontend/src/main.ts */
    "./src/main.ts");
    /***/
  }
}, [[0, "runtime", "vendor"]]]);
//# sourceMappingURL=main-es5.js.map